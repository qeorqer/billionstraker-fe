(this["webpackJsonpbillionstracker-fe"]=this["webpackJsonpbillionstracker-fe"]||[]).push([[0],{175:function(e,t,a){},176:function(e,t,a){},185:function(e,t,a){},186:function(e,t,a){},285:function(e,t,a){},301:function(e,t,a){},302:function(e,t,a){"use strict";a.r(t);var n=a(0),s=a.n(n),c=a(30),r=a.n(c),i=a(27),o=a(40),l=a(14),d=a(9),u=a.n(d),j=a(16),b=a(47),h=a.n(b),m=h.a.create({withCredentials:!0,baseURL:"https://young-peak-28727.herokuapp.com/api",headers:{"Content-type":"application/json"}});m.interceptors.request.use((function(e){return localStorage.getItem("token")&&(e.headers.Authorization="Bearer ".concat(localStorage.getItem("token"))),e})),m.interceptors.response.use((function(e){return e}),function(){var e=Object(j.a)(u.a.mark((function e(t){var a,n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=t.config,401!==t.response.status||!t.config||t.config._isRetry){e.next=14;break}return a._isRetry=!0,e.prev=3,e.next=6,h.a.get("http://localhost:5003/api/refresh",{withCredentials:!0});case 6:return n=e.sent,localStorage.setItem("token",n.data.accessToken),e.abrupt("return",m.request(a));case 11:e.prev=11,e.t0=e.catch(3),console.log("\u041d\u0415 \u0410\u0412\u0422\u041e\u0420\u0418\u0417\u041e\u0412\u0410\u041d");case 14:throw t;case 15:case"end":return e.stop()}}),e,null,[[3,11]])})));return function(t){return e.apply(this,arguments)}}());var p=m,x=function(e){return p.post("/transaction/addNewTransaction",e)},O=function(e){return p.post("/transaction/getAllUserTransactions",e)},f=function(e){return p.post("/statistic/getStatisticForRange",e)},g=a(28),w=Object(l.b)("user/signUp",function(){var e=Object(j.a)(u.a.mark((function e(t,a){var n,s;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,c=t,p.post("/auth/signUp",c);case 3:return n=e.sent,e.abrupt("return",n.data);case 7:if(e.prev=7,e.t0=e.catch(0),!h.a.isAxiosError(e.t0)){e.next=11;break}return e.abrupt("return",a.rejectWithValue(null===(s=e.t0.response)||void 0===s?void 0:s.data));case 11:case"end":return e.stop()}var c}),e,null,[[0,7]])})));return function(t,a){return e.apply(this,arguments)}}()),v=Object(l.b)("user/logIn",function(){var e=Object(j.a)(u.a.mark((function e(t,a){var n,s;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,c=t,p.post("/auth/logIn",c);case 3:return n=e.sent,e.abrupt("return",n.data);case 7:if(e.prev=7,e.t0=e.catch(0),!h.a.isAxiosError(e.t0)){e.next=11;break}return e.abrupt("return",a.rejectWithValue(null===(s=e.t0.response)||void 0===s?void 0:s.data));case 11:case"end":return e.stop()}var c}),e,null,[[0,7]])})));return function(t,a){return e.apply(this,arguments)}}()),A=Object(l.b)("user/logOut",Object(j.a)(u.a.mark((function e(){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,p.post("/auth/logOut");case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))),y=Object(l.b)("user/refresh",Object(j.a)(u.a.mark((function e(){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,p.get("/auth/refresh");case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))),C=Object(l.b)("transaction/addTransaction",function(){var e=Object(j.a)(u.a.mark((function e(t){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,x(t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),N={user:{},isAuth:!1,loading:!1,lang:localStorage.getItem("i18nextLng")||"en"},k=Object(l.c)({name:"user",initialState:N,reducers:{changeLang:function(e,t){e.lang=t.payload}},extraReducers:function(e){e.addCase(w.fulfilled,(function(e,t){Object(g.c)(t.payload.message,{position:"top-right",autoClose:2500,hideProgressBar:!0,closeOnClick:!0,theme:"dark",type:"success"})})),e.addCase(w.rejected,(function(e,t){var a;Object(g.c)(null===(a=t.payload)||void 0===a?void 0:a.message,{position:"top-right",autoClose:2500,hideProgressBar:!0,closeOnClick:!0,theme:"dark",type:"error"})})),e.addCase(v.pending,(function(e){e.loading=!0})),e.addCase(v.fulfilled,(function(e,t){e.loading=!1,localStorage.setItem("token",t.payload.accessToken),e.user=t.payload.user,e.isAuth=!0})),e.addCase(v.rejected,(function(e,t){var a;e.loading=!1,Object(g.c)(null===(a=t.payload)||void 0===a?void 0:a.message,{position:"top-right",autoClose:2500,hideProgressBar:!0,closeOnClick:!0,theme:"dark",type:"error"})})),e.addCase(A.fulfilled,(function(e){localStorage.removeItem("token"),e.user={},e.isAuth=!1})),e.addCase(y.pending,(function(e){e.loading=!0})),e.addCase(y.rejected,(function(e){e.loading=!1})),e.addCase(y.fulfilled,(function(e,t){e.loading=!1,localStorage.setItem("token",t.payload.data.accessToken),e.user=t.payload.data.user,e.isAuth=!0})),e.addCase(C.fulfilled,(function(e,t){var a;e.user=t.payload.data.updatedUser,Object(g.c)(null===(a=t.payload)||void 0===a?void 0:a.data.message,{position:"top-right",autoClose:2500,hideProgressBar:!0,closeOnClick:!0,theme:"dark",type:"success"})}))}}),S=k.actions.changeLang,T=k.reducer,F=Object(l.b)("category/getCategories",Object(j.a)(u.a.mark((function e(){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,p.get("/category/getCategories");case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))),E=Object(l.c)({name:"category",initialState:{categories:[]},reducers:{},extraReducers:function(e){e.addCase(F.fulfilled,(function(e,t){e.categories=t.payload.data.categories}))}}).reducer,I=a(18),B=Object(l.b)("transaction/getAllUserTransactions",function(){var e=Object(j.a)(u.a.mark((function e(t){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,O(t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),U=Object(l.c)({name:"transaction",initialState:{loading:!1,numberOfTransactions:0,transactions:[]},reducers:{resetTransactions:function(e){e.transactions=[]}},extraReducers:function(e){e.addCase(B.pending,(function(e){e.loading=!0})),e.addCase(B.fulfilled,(function(e,t){e.loading=!1,e.transactions=[].concat(Object(I.a)(e.transactions),Object(I.a)(t.payload.data.transactions)),e.numberOfTransactions=t.payload.data.numberOfTransactions||0}))}}),R=U.actions.resetTransactions,V=U.reducer,G=Object(l.b)("statistic/getGeneralStatistic",Object(j.a)(u.a.mark((function e(){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,p.get("/statistic/getGeneralStatistic");case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))),D=Object(l.b)("statistic/getWholeStatistic",Object(j.a)(u.a.mark((function e(){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,p.get("/statistic/getWholeStatistic");case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))),P=Object(l.b)("statistic/getStatisticForRange",function(){var e=Object(j.a)(u.a.mark((function e(t){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,f(t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),L=Object(l.c)({name:"statistic",initialState:{loading:!1,generalStatistic:null,wholeStatistic:null,statisticForRange:null},reducers:{},extraReducers:function(e){e.addCase(G.fulfilled,(function(e,t){e.generalStatistic=t.payload.data.statistic})),e.addCase(D.fulfilled,(function(e,t){e.wholeStatistic=t.payload.data.statistic})),e.addCase(P.fulfilled,(function(e,t){e.statisticForRange=t.payload.data.statistic}))}}).reducer,M=Object(l.a)({reducer:{userData:T,categoryDate:E,transactionData:V,statisticData:L}}),q=function(){return Object(i.c)()},Y=i.d,W=function(e){return e.userData},Z=function(e){return e.categoryDate},Q=function(e){return e.transactionData},H=function(e){return e.statisticData},J=(a(173),a(174),a(175),a(12)),K=(a(176),a.p+"static/media/logo.9b355c54.png"),X=a(310),z=a(311),_=a(129),$=a(312),ee=a(315),te=a(58),ae=a(1),ne=function(){var e=q(),t=Y(W).lang,a=function(t){return function(){e(S(t)),te.a.changeLanguage(t)}};return Object(ae.jsxs)(ae.Fragment,{children:[Object(ae.jsx)("span",{onClick:a("en"),className:"en"===t?"activeLang":"",children:Object(ae.jsx)("img",{src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAMAAABEpIrGAAAAA3NCSVQICAjb4U/gAAAACXBIWXMAAADdAAAA3QFwU6IHAAAAGXRFWHRTb2Z0d2FyZQB3d3cuaW5rc2NhcGUub3Jnm+48GgAAAThQTFRF////+5CWpG6Y+4WMum+RlGOUQUebQkibQkicRkueRkydR02dR02eSE2eSE6eSE6fSU+fSlCfSlCgTFGgTFKhTVKgTVOhTlOhTlSiT1WiUVWhUVajUVejUkeVUkqXUk6bUlGeUlOgUlejUlikU0eUU1ikVFqkVVqlVlumV1ymWV6nXGGoXmOpX2SqYGWqYGWrYWarYmesY2isZE2TZGmsZmqtZmuuZ2uuaG2uaW2vam+va3CwbHGxbXGxbXKxbnOyb3OycHSycHWzcXWzcnazdHi0dXm1d3y2eHy3en64e3+4fIC4foK6gl2WiIy/io7Ai4/AjZDBkFaKlZjFl5rGmJvGmZzHnaDJoKLKoKPLoaTLoqTLo6bMpKfMpafNpajN9fDw9fX19uDh+Lq++MrN+5CW/Wpy/0tV1Uw64AAAAAZ0Uk5TAIqwuMzZ24+8ogAAAOpJREFUOMtjYBgKgIkVGbAwowFGBjZ+NjYeOFJJRwcMHPE8vHECXLECnFEC3DFSSeiAgU3E1VHY3V7Yy0bYx1JYMQUdMHBECwlGifJFivOEi/FFyGJawabkYqfqZqfkbq3kZaGkkIwOGDjClGVC1SRDNSSCNSRDpBPQAQO7gZW5ga25gYOZvouRPjYrArU0A7TV/XVV/fRV/eVT0QEDh7OhnrOJrrOpnpOFjpNMIjpgYPNmY/MEIw8gKZeGDhh8jZFBEKaCRAKAIZUAYEgnABgSCACGZAKAsBUpBABDEgFA2ApGZryAcUjkPABWg9YaCJi69wAAAABJRU5ErkJggg==",alt:"en"})}),Object(ae.jsx)("span",{onClick:a("ru"),className:"ru"===t?"activeLang":"",children:Object(ae.jsx)("img",{src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAABHNCSVQICAgIfAhkiAAAAAlwSFlzAAAA7AAAAOwBeShxvQAAABl0RVh0U29mdHdhcmUAd3d3Lmlua3NjYXBlLm9yZ5vuPBoAAACWSURBVFiF7ZMrDsJQFETn3Vw+BoFAsQQca8Kj2AQodA17qcBhSNgCoiEvDaQp0Fyw7GBIOmcD5ySTAUTfSZ+mmSNiRrGbVY6IDVJaUwIi9kYR/6AABdADfHsc5XuLE0M+GSP7tcYUwJIR8HiipE+gAAX44nbJg3hRbvi2YfbVuaDdENANFaAAwNF1O5gdKPaIiuIVf8UX88QnAAqjY10AAAAASUVORK5CYII=",alt:"en"})})]})},se=function(){var e=q(),t=Object(J.g)(),a=Object(ee.a)().t,n=s.a.forwardRef((function(e,t){var a=e.onClick;return Object(ae.jsx)("div",{className:"dropdownMenu",children:Object(ae.jsx)("div",{className:"menuTogglerContainer",ref:t,onClick:a,children:Object(ae.jsx)("span",{})})})}));return Object(ae.jsx)("header",{children:Object(ae.jsx)(X.a,{children:Object(ae.jsxs)(z.a,{children:[Object(ae.jsx)(_.a,{md:"3",xs:"6",className:"logo",children:Object(ae.jsxs)(o.b,{to:"/",children:[Object(ae.jsx)("img",{src:K,alt:"app logo"}),"Billionstracker"]})}),Object(ae.jsx)(_.a,{md:"6",xs:"12",className:"menu order-1 order-md-0",children:Object(ae.jsxs)("ul",{className:"m-0 p-0",children:[Object(ae.jsx)("li",{children:Object(ae.jsx)(o.c,{to:"/home",children:a("Profile")})}),Object(ae.jsx)("li",{children:Object(ae.jsx)(o.c,{to:"/createTransaction",children:a("New transaction")})}),Object(ae.jsx)("li",{children:Object(ae.jsx)(o.c,{to:"/statistic",children:a("Statistic")})})]})}),Object(ae.jsx)(_.a,{md:"3",xs:"6",children:Object(ae.jsxs)($.a,{children:[Object(ae.jsx)($.a.Toggle,{as:n,id:"dropdown-custom-components"}),Object(ae.jsxs)($.a.Menu,{variant:"dark",children:[Object(ae.jsx)($.a.Item,{as:"span",className:"d-flex justify-content-around languagesController",children:Object(ae.jsx)(ne,{})}),Object(ae.jsx)($.a.Item,{as:"span",onClick:function(){return t.push("/home")},children:a("Home")}),Object(ae.jsxs)($.a.Item,{href:"https://t.me/qeorqe",target:"_blank",children:[a("Support")," "]}),Object(ae.jsx)($.a.Item,{as:"span",onClick:function(){e(A()),t.push("/authorization")},children:a("Log out")})]})]})})]})})})},ce=a(10),re=a(133),ie=a(313),oe=a(134),le=function(e){return String(e).replace(/\B(?=(\d{3})+(?!\d))/g," ")},de=(a(185),function(){var e=Y(W),t=e.user,a=e.lang,s=Y(Z).categories,c=Object(n.useState)(!0),r=Object(ce.a)(c,2),i=r[0],o=r[1],l=Object(n.useState)(!0),d=Object(ce.a)(l,2),u=d[0],j=d[1],b=Object(n.useState)(""),h=Object(ce.a)(b,2),m=h[0],p=h[1],x=Object(n.useState)(""),O=Object(ce.a)(x,2),f=O[0],w=O[1],v=Object(n.useState)(""),A=Object(ce.a)(v,2),y=A[0],N=A[1],k=Object(ee.a)().t,S=q(),T=/^[0-9]+$/;return Object(n.useEffect)((function(){S(F())}),[]),Object(ae.jsx)(ae.Fragment,{children:Object(ae.jsxs)(X.a,{className:"py-md-4 my-4",children:[Object(ae.jsxs)(z.a,{children:[Object(ae.jsxs)("p",{className:"mb-1 fs-4 text-center fw-bold",children:[k("Select operation type"),":"]}),Object(ae.jsxs)(_.a,{xs:"12",lg:"5",className:"mx-auto d-flex",children:[Object(ae.jsx)("div",{className:"w-50 text-center",children:Object(ae.jsx)(re.a,{variant:u?"danger":"outline-danger",className:"w-75",onClick:function(){j(!0),p("")},children:k("expense")})}),Object(ae.jsx)("div",{className:"w-50 text-center",children:Object(ae.jsx)(re.a,{variant:u?"outline-success":"success",className:"w-75",onClick:function(){j(!1),p("")},children:k("income")})})]})]}),Object(ae.jsx)(z.a,{children:Object(ae.jsxs)(_.a,{xs:"12",lg:"5",className:"mx-auto d-md-flex mt-3",children:[Object(ae.jsxs)("p",{className:"fs-5 mb-0 w-50 text-md-center text-nowrap",children:[k("Card balance"),":",Object(ae.jsxs)("span",{className:"yellowText",children:[" ",le(t.card)]})]}),Object(ae.jsxs)("p",{className:"fs-5 w-50 text-md-center text-nowrap",children:[k("Cash balance"),":",Object(ae.jsxs)("span",{className:"yellowText",children:[" ",le(t.cash)]})]})]})}),Object(ae.jsx)(z.a,{children:Object(ae.jsxs)(_.a,{xs:"12",lg:"7",className:"mx-auto",children:[Object(ae.jsxs)(z.a,{children:[Object(ae.jsxs)(_.a,{xs:"12",sm:"6",className:"d-flex flex-wrap",children:[Object(ae.jsxs)("p",{className:"mb-1 fs-5 text-center w-100",children:[k("Select card or cash"),":"]}),Object(ae.jsx)(ie.a.Check,{checked:i,type:"radio",name:"cardOrCash",id:"default-radio2",className:"paymentCard d-flex align-items-center w-50 justify-content-center",label:"",onChange:function(){return o(!0)}}),Object(ae.jsx)(ie.a.Check,{checked:!i,type:"radio",name:"cardOrCash",id:"default-radio1",label:"",className:"paymentCash d-flex align-items-center w-50 justify-content-center",onChange:function(){return o(!1)}})]}),Object(ae.jsxs)(_.a,{xs:"12",sm:"6",children:[Object(ae.jsxs)("p",{className:"mb-1 fs-5 text-center w-100",children:[k("Select category"),":"]}),Object(ae.jsxs)(ie.a.Select,{onChange:function(e){return p(e.target.value)},children:[Object(ae.jsx)("option",{className:"d-none",value:"",children:k("Select category")}),s&&s.filter((function(e){return e.isExpense===u})).map((function(e){return Object(ae.jsx)("option",{value:e._id,children:"en"===a?e.nameEn:e.nameRu},e._id)}))]})]})]}),Object(ae.jsxs)(z.a,{className:"mt-3",children:[Object(ae.jsxs)(_.a,{xs:"6",className:"d-flex flex-wrap",children:[Object(ae.jsxs)("p",{className:"mb-1 fs-5",children:[k("Name the transaction"),":"]}),Object(ae.jsx)(oe.a,{type:"text",placeholder:k("Transaction title"),value:y,onChange:function(e){N(e.target.value)}})]}),Object(ae.jsxs)(_.a,{xs:"6",className:"d-flex flex-wrap",children:[Object(ae.jsxs)("p",{className:"mb-1  fs-5",children:[k("Enter the sum of transaction"),":"]}),Object(ae.jsx)(oe.a,{type:"text",placeholder:k("Transaction sum"),value:f,onChange:function(e){(T.test(e.target.value)||""===e.target.value)&&w(e.target.value)}})]})]}),Object(ae.jsx)(z.a,{children:Object(ae.jsxs)(_.a,{xs:"12",className:"mt-3 text-center",children:[Object(ae.jsxs)("p",{className:"fs-5 mb-1",children:[k("Submit transaction"),":"]}),Object(ae.jsx)(re.a,{variant:"warning",className:"w300Px text-white",onClick:function(){if(!f||!m||!y)return Object(g.c)(k("All fields are required"),{position:"top-right",autoClose:2500,hideProgressBar:!0,closeOnClick:!0,theme:"dark",type:"error"});if(u&&(i&&t.card<f||!i&&t.cash<f))return Object(g.c)(k("You don't have this much"),{position:"top-right",autoClose:2500,hideProgressBar:!0,closeOnClick:!0,theme:"dark",type:"error"});var e={title:y,ownerId:t._id,isCard:i,isExpense:u,sum:Number(f),category:m,date:new Date};S(C({transaction:e}))},children:k("Submit")})]})})]})})]})})}),ue=function(){var e=Object(i.d)(W).user,t=Object(ee.a)().t,a=e.card+e.cash;return Object(ae.jsxs)(_.a,{md:"6",xs:"12",className:"balance",children:[Object(ae.jsxs)("p",{className:"totalBalance fs-3 text-uppercase fw-bold",children:[a?t("Total balance"):"",Object(ae.jsxs)("span",{className:"yellowText",children:[" ",a?le(a):t("There is no money yet")]})]}),Object(ae.jsxs)("p",{className:"fs-5",children:[t("Card balance"),":",Object(ae.jsxs)("span",{children:[" ",le(e.card)]})]}),Object(ae.jsxs)("p",{className:"fs-5",children:[t("In cash"),":",Object(ae.jsxs)("span",{children:[" ",le(e.cash)]})]})]})},je=a(44),be=a.n(je),he=(a(81),function(){var e=q(),t=Y(H).generalStatistic,a=Y(W),s=a.user,c=a.lang,r=Object(ee.a)().t;return Object(n.useEffect)((function(){e(G())}),[]),Object(ae.jsx)(_.a,{md:"6",xs:"12",children:t?Object(ae.jsxs)("div",{className:"my-3 my-md-0",children:[Object(ae.jsxs)("p",{className:"fs-5 mb-0 fw-bold",children:[r("Spent this month"),": ",Object(ae.jsx)("span",{className:"fst-italic yellowText",children:t.userExpensesThisMonth})]}),Object(ae.jsxs)("p",{className:"fs-5 fw-bold",children:[r("Spent for the whole time"),": ",Object(ae.jsx)("span",{className:"fst-italic yellowText",children:t.userExpenses})]}),Object(ae.jsxs)("p",{className:"fs-6 mb-0 fw-bold",children:[r("On")," ",Object(ae.jsx)("span",{className:"yellowText",children:"Billionstracker"})," ",r("Since")," ",Object(ae.jsx)("span",{className:"fst-italic yellowText",children:be()(s.created).locale(c).format("LL")})]})]}):Object(ae.jsx)("div",{className:"d-flex justify-content-center align-items-center h-100 fw-bold my-3 my-md-0 ",children:Object(ae.jsx)("p",{children:"Some of your statistic will be here"})})})}),me=function(){return Object(ae.jsxs)(z.a,{children:[Object(ae.jsx)(ue,{}),Object(ae.jsx)(he,{})]})},pe=(a(186),a(314)),xe=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"en",a=be()(e).locale(t);return a.isSame(new Date,"week")?a.fromNow():a.format("LL")},Oe=function(e){var t=e.transaction,a=Y(W).lang;return Object(ae.jsx)(pe.a,{className:"mb-3  w-75 mx-auto fw-bold text-center",bg:"light",text:"dark",children:Object(ae.jsx)(pe.a.Body,{children:Object(ae.jsxs)(z.a,{children:[Object(ae.jsx)(_.a,{xs:"12",sm:"4",className:"mb-2 mb-sm-0",children:t.title}),Object(ae.jsx)(_.a,{xs:"8",sm:"4",children:xe(t.date,a)}),Object(ae.jsx)(_.a,{xs:"4",sm:"4",children:t.isExpense?Object(ae.jsxs)("span",{className:"text-danger",children:["-",le(t.sum)]}):Object(ae.jsxs)("span",{className:"text-success",children:["+",le(t.sum)]})})]})})})},fe=function(){var e=Y(Q),t=e.loading,a=e.transactions,s=e.numberOfTransactions,c=q(),r=Object(ee.a)().t,i=Object(n.useState)(0),o=Object(ce.a)(i,2),l=o[0],d=o[1],u=function(){c(B({limit:10,numberToSkip:l})),d(10+l)};return Object(n.useEffect)((function(){c(R()),u()}),[]),t?Object(ae.jsx)("div",{className:"mt-3",children:Object(ae.jsx)("h1",{className:"text-center",children:"Loading..."})}):Object(ae.jsx)("div",{className:"mt-4",children:s?Object(ae.jsxs)(ae.Fragment,{children:[Object(ae.jsx)("p",{className:"text-center fw-bold fs-4",children:r("Your transactions")}),a.map((function(e){return Object(ae.jsx)(Oe,{transaction:e},e._id)})),l<=s&&Object(ae.jsx)(re.a,{disabled:t,variant:"warning",className:"mt-4 mx-auto d-block text-white",onClick:u,children:r("Load more")})]}):Object(ae.jsx)("div",{className:"d-flex justify-content-center align-items-center h-100 fw-bold my-3 mt-3",children:Object(ae.jsx)("p",{children:r("There is no transactions yet")})})})},ge=function(){return Object(ae.jsx)(ae.Fragment,{children:Object(ae.jsxs)(X.a,{className:"py-4",children:[Object(ae.jsx)(me,{}),Object(ae.jsx)(fe,{})]})})},we=a(3),ve=a(29),Ae=a(31),ye=a(72),Ce=function(e){var t=e.values,a=e.errors,n=e.touched,s=e.handleChange,c=e.handleBlur,r=e.handleSubmit,i=e.isSubmitting,o=Object(ee.a)().t;return Object(ae.jsxs)(ve.b,{onSubmit:r,children:[Object(ae.jsx)(ve.a,{name:"login",render:function(e){var t=e.field;return Object(ae.jsxs)(ye.a,{controlId:"login",className:"authFormGroup mb-4",children:[Object(ae.jsx)(oe.a,{type:"text",value:t.value,onChange:t.onChange,placeholder:o("login"),isValid:!1}),n.login&&a.login&&Object(ae.jsx)(oe.a.Feedback,{type:"invalid",tooltip:!0,children:a.login})]})}}),Object(ae.jsx)(ve.a,{type:"password",name:"password",onChange:s,onBlur:c,value:t.password,render:function(e){var t=e.field;return Object(ae.jsxs)(ye.a,{controlId:"password",className:"authFormGroup mb-4",children:[Object(ae.jsx)(oe.a,{type:"password",value:t.value,onChange:t.onChange,placeholder:o("password")}),n.password&&a.password&&Object(ae.jsx)(oe.a.Feedback,{type:"invalid",tooltip:!0,children:a.password})]})}}),Object(ae.jsx)(ve.a,{type:"password",name:"confirmPassword",onChange:s,onBlur:c,value:t.confirmPassword,render:function(e){var t=e.field;return Object(ae.jsxs)(ye.a,{controlId:"confirmPassword",className:"authFormGroup mb-4",children:[Object(ae.jsx)(oe.a,{type:"password",value:t.value,onChange:t.onChange,placeholder:o("Confirm password")}),n.confirmPassword&&a.confirmPassword&&Object(ae.jsx)(oe.a.Feedback,{type:"invalid",tooltip:!0,children:a.confirmPassword})]})}}),Object(ae.jsx)(re.a,{type:"submit",variant:"warning",disabled:i||Boolean(a.login&&n.login)||Boolean(a.password&&n.password),children:o("Sign up")})]})},Ne={login:"",password:"",confirmPassword:""},ke=Object(i.b)()((function(e){return Object(ae.jsx)(ve.c,{initialValues:Ne,validationSchema:Ae.a().shape({login:Ae.c().email("Email not valid").required("Email is required"),password:Ae.c().required("Password is required").min(6,"Password must contain at least 6 symbols"),confirmPassword:Ae.c().required("Confirm your password").oneOf([Ae.b("password")],"Password does not match")}),onSubmit:function(t){return e.dispatch(w(t))},render:function(e){return Object(ae.jsx)(Ce,Object(we.a)({},e))}})})),Se=function(e){var t=e.values,a=e.errors,n=e.touched,s=e.handleChange,c=e.handleBlur,r=e.handleSubmit,i=e.isSubmitting,o=Object(ee.a)().t;return Object(ae.jsxs)(ve.b,{onSubmit:r,children:[Object(ae.jsx)(ve.a,{name:"login",render:function(e){var t=e.field;return Object(ae.jsxs)(ye.a,{controlId:"login",className:"authFormGroup mb-4",children:[Object(ae.jsx)(oe.a,{type:"text",value:t.value,onChange:t.onChange,placeholder:o("login"),isValid:!1}),n.login&&a.login&&Object(ae.jsx)(oe.a.Feedback,{type:"invalid",tooltip:!0,children:a.login})]})}}),Object(ae.jsx)(ve.a,{type:"password",name:"password",onChange:s,onBlur:c,value:t.password,render:function(e){var t=e.field;return Object(ae.jsxs)(ye.a,{controlId:"password",className:"authFormGroup mb-4",children:[Object(ae.jsx)(oe.a,{type:"password",value:t.value,onChange:t.onChange,placeholder:o("password")}),n.password&&a.password&&Object(ae.jsx)(oe.a.Feedback,{type:"invalid",tooltip:!0,children:a.password})]})}}),Object(ae.jsx)(re.a,{type:"submit",variant:"warning",disabled:i||Boolean(a.login&&n.login)||Boolean(a.password&&n.password),children:o("Sign in")})]})},Te={login:"",password:""},Fe=Object(i.b)()((function(e){return Object(ae.jsx)(ve.c,{initialValues:Te,validationSchema:Ae.a().shape({login:Ae.c().email("Email not valid").required("Email is required"),password:Ae.c().required("Password is required").min(6,"Password must contain at least 6 symbols")}),onSubmit:function(t){return e.dispatch(v(t))},render:function(e){return Object(ae.jsx)(Se,Object(we.a)({},e))}})})),Ee=(a(285),function(){var e=Object(n.useState)(!0),t=Object(ce.a)(e,2),a=t[0],s=t[1],c=Object(ee.a)().t;return Object(ae.jsx)("section",{className:"signUp align-items-md-center d-flex",children:Object(ae.jsx)(X.a,{children:Object(ae.jsxs)(z.a,{className:"h-100",children:[Object(ae.jsxs)(_.a,{xs:"12",sm:"6",className:"text-center",children:[Object(ae.jsx)("img",{src:K,alt:"logo"}),Object(ae.jsx)("h1",{className:"yellowText",children:"Billionstracker"}),Object(ae.jsx)("p",{children:c("Powerful app for controlling your budget")})]}),Object(ae.jsxs)(_.a,{xs:"12",sm:"6",className:"authFormContainer mt-sm-3",children:[a?Object(ae.jsxs)(ae.Fragment,{children:[Object(ae.jsx)("h2",{children:c("Sign in")}),Object(ae.jsx)(Fe,{}),Object(ae.jsxs)("p",{onClick:function(){return s(!1)},className:"my-2 cursor-poiner",children:[c("New to billionstracker"),"? ",Object(ae.jsx)("span",{children:c("Sign up")})]})]}):Object(ae.jsxs)(ae.Fragment,{children:[Object(ae.jsx)("h2",{children:c("Sign up")}),Object(ae.jsx)(ke,{}),Object(ae.jsxs)("p",{onClick:function(){return s(!0)},className:"my-2 cursor-poiner",children:[c("Already on billionstracker"),"? ",Object(ae.jsx)("span",{children:c("Sign in")})]})]}),Object(ae.jsx)("div",{className:"d-flex justify-content-around languagesController pb-3",style:{width:"100px",margin:"0 auto"},children:Object(ae.jsx)(ne,{})})]})]})})})}),Ie=a(140),Be=a.n(Ie),Ue=(a(301),a(142)),Re=a(141),Ve=function(e){var t=e.statisticForRange,a=e.totalSpent,s=Object(n.useState)(null),c=Object(ce.a)(s,2),r=c[0],i=c[1],o=Y(W).lang,l=["#E38627","#C13C37","#6A2135","#E38627","#C13C37","#6A2135","#E38627","#C13C37","#6A2135","#E38627","#C13C37","#6A2135"],d=t.map((function(e,t){return{value:e.total,color:r===t?"grey":l[t],tooltip:"".concat("en"===o?e._id.nameEn:e._id.nameRu,", ").concat(e.total)}}));return Object(ae.jsxs)(ae.Fragment,{children:[Object(ae.jsx)(Ue.PieChart,{data:d,style:{height:"300px",width:"300px"},segmentsShift:.5,label:function(e){var t=e.dataEntry;return"".concat(Math.round(t.percentage)?Math.round(t.percentage):">1","%")},totalValue:a,labelStyle:{fontSize:"5px",fill:"white"},onMouseOver:function(e,t){i(t)},onMouseOut:function(){i(null)},segmentsStyle:{transition:"stroke .3s",cursor:"pointer"}}),Object(ae.jsx)(Re.a,{getContent:function(){var e;return"number"===typeof r?null===(e=d[r])||void 0===e?void 0:e.tooltip:null}})]})},Ge=function(e){var t=e.listItem;return Object(ae.jsx)(pe.a,{className:"mb-3  w-75 mx-auto fw-bold text-center",bg:"light",text:"dark",children:Object(ae.jsx)(pe.a.Body,{children:Object(ae.jsxs)(z.a,{children:[Object(ae.jsx)(_.a,{xs:"4",sm:"4",className:"mb-2 mb-sm-0",children:t.title}),Object(ae.jsx)(_.a,{xs:"4",sm:"4",children:t.value}),Object(ae.jsxs)(_.a,{xs:"4",sm:"4",children:[t.percentage,"%"]})]})})})},De=function(e){var t=e.statisticForRange,a=e.userExpensesThisMonth,n=Y(W).lang,s=t.map((function(e,t){return{title:"en"===n?e._id.nameEn:e._id.nameRu,value:e.total,percentage:Math.round(100*e.total/a)||">1"}}));return Object(ae.jsx)("div",{children:s.sort((function(e,t){return t.value-e.value})).map((function(e){return Object(ae.jsx)(Ge,{listItem:e},e.title)}))})},Pe=function(){var e=q(),t=Y(H),a=t.wholeStatistic,s=t.statisticForRange,c=Object(ee.a)().t,r=Y(W),i=r.user,o=r.lang,l=Object(n.useState)([new Date(i.created),new Date]),d=Object(ce.a)(l,2),u=d[0],j=d[1],b=Object(n.useState)(!0),h=Object(ce.a)(b,2),m=h[0],p=h[1];return Object(n.useEffect)((function(){e(D()),e(P({from:u[0],to:u[1]}))}),[]),Object(ae.jsx)(X.a,{className:"py-4",children:a&&s?Object(ae.jsxs)(z.a,{children:[Object(ae.jsxs)(_.a,{xs:"12",md:"6",children:[Object(ae.jsxs)("p",{className:"fs-5 mb-0 fw-bold",children:[c("Select range"),":"]}),Object(ae.jsx)(Be.a,{onChange:j,maxDetail:"year",value:u,locale:"en",calendarIcon:null,clearIcon:null,format:"MM.y",minDetail:"year",minDate:new Date(2021,3,1),maxDate:new Date}),Object(ae.jsxs)("div",{className:"rangeHolder mt-3 text-center","data-tip":"chart",children:[Object(ae.jsxs)("div",{className:"rangeHolderControls mb-3",children:[Object(ae.jsx)(re.a,{size:"sm",className:"mx-2 ".concat(m?"text-white":""),variant:m?"warning":"outline-warning",onClick:function(){return p(!0)},children:c("Pie chart")}),Object(ae.jsx)(re.a,{size:"sm",className:m?"":"text-white",variant:m?"outline-warning":"warning",onClick:function(){return p(!1)},children:c("List")})]}),Object(ae.jsxs)("p",{className:"fw-bold",children:[c("Spent during this period"),":",Object(ae.jsxs)("span",{className:"fst-italic yellowText",children:[" ",s.totalSpent]})]}),m?Object(ae.jsx)(Ve,{totalSpent:s.totalSpent,statisticForRange:s.transactionsInRange}):Object(ae.jsx)(De,{userExpensesThisMonth:a.userExpensesThisMonth,statisticForRange:s.transactionsInRange})]})]}),Object(ae.jsxs)(_.a,{xs:"12",md:"6",children:[Object(ae.jsxs)("p",{className:"fs-5 mb-0 fw-bold",children:[c("General statistic"),":"]}),Object(ae.jsxs)("div",{className:"spent",children:[Object(ae.jsxs)("p",{className:"mb-0",children:[c("Spent for the whole time"),":",Object(ae.jsx)("span",{className:"fst-italic yellowText",children:a.userExpenses})]}),Object(ae.jsxs)("p",{className:"mb-0",children:[c("Spent this month"),":",Object(ae.jsxs)("span",{className:"fst-italic yellowText",children:[" ",a.userExpensesThisMonth]})]})]}),Object(ae.jsxs)("div",{className:"earned mt-2",children:[Object(ae.jsxs)("p",{className:"mb-0",children:[c("Earned for the whole time"),":",Object(ae.jsx)("span",{className:"fst-italic yellowText",children:a.userIncomes})]}),Object(ae.jsxs)("p",{className:"mb-1",children:[c("Earned this month"),":",Object(ae.jsx)("span",{className:"fst-italic yellowText",children:a.userIncomesThisMonth})]}),Object(ae.jsxs)("p",{className:"fs-6 mb-0 fw-bold",children:[c("On")," ",Object(ae.jsx)("span",{className:"yellowText",children:"Billionstracker"})," ",c("Since")," ",Object(ae.jsx)("span",{className:"fst-italic yellowText",children:be()(i.created).locale(o).format("LL")})]})]})]})]}):Object(ae.jsx)("div",{className:"d-flex justify-content-center align-items-center h-100 fw-bold my-3 my-md-0 ",children:Object(ae.jsx)("p",{children:c("Some of your statistic will be here")})})})},Le=function(e){var t=e.isAuth;return Y(W).loading?Object(ae.jsx)("div",{children:Object(ae.jsx)("h1",{children:"Loading..."})}):Object(ae.jsx)(ae.Fragment,{children:t?Object(ae.jsxs)(J.d,{children:[Object(ae.jsx)(J.b,{path:"/statistic",component:Pe}),Object(ae.jsx)(J.b,{path:"/createTransaction",component:de}),Object(ae.jsx)(J.b,{path:"/home",component:ge}),Object(ae.jsx)(J.a,{to:"/home"})]}):Object(ae.jsxs)(J.d,{children:[Object(ae.jsx)(J.b,{path:"/authorization",component:Ee}),Object(ae.jsx)(J.a,{to:"/authorization"})]})})},Me=function(){var e=q(),t=Y(W).isAuth;return Object(n.useEffect)((function(){localStorage.getItem("token")&&e(y())}),[]),Object(ae.jsxs)(ae.Fragment,{children:[t&&Object(ae.jsx)(se,{}),Object(ae.jsx)(Le,{isAuth:t}),Object(ae.jsx)(g.b,{transition:g.a})]})},qe=a(143),Ye=a(145),We=a(59),Ze={order:["navigator","htmlTag","path","subdomain"],lookupQuerystring:"lng",lookupCookie:"i18next",lookupLocalStorage:"i18nextLng",lookupFromPathIndex:0,lookupFromSubdomainIndex:0,caches:["localStorage","cookie"],excludeCacheFor:["cimode"],cookieMinutes:10,cookieDomain:"myDomain",htmlTag:document.documentElement,checkWhitelist:!0};te.a.use(qe.a).use(Ye.a).use(We.e).init({backend:{loadPath:"/billionstraker-fe/locales/{{lng}}/{{ns}}.json"},lng:localStorage.getItem("i18nextLng")||"en",fallbackLng:["en"],whitelist:["en","ru"],detection:Ze,interpolation:{escapeValue:!1}});te.a;r.a.render(Object(ae.jsx)(i.a,{store:M,children:Object(ae.jsx)(s.a.StrictMode,{children:Object(ae.jsx)(o.a,{children:Object(ae.jsx)(n.Suspense,{fallback:Object(ae.jsx)("div",{children:"Loading"}),children:Object(ae.jsx)(Me,{})})})})}),document.getElementById("root"))}},[[302,1,2]]]);
//# sourceMappingURL=main.66669f67.chunk.js.map