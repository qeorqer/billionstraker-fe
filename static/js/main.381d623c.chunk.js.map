{"version":3,"sources":["api/axiosInstance.ts","api/index.ts","store/reducers/user.reducer.ts","store/reducers/category.reducer.ts","store/reducers/transaction.reducer.ts","store/reducers/statistic.reducer.ts","store/index.ts","hooks/react-redux.hook.ts","store/selectors.ts","images/logo.png","components/header/LanguageSwitcher.tsx","images/en.png","images/ru.png","components/header/AppHeader.tsx","helpers/index.js.ts","pages/createTransaction/CreateTransaction.tsx","components/profile/Balance.tsx","components/profile/GeneralStatistic.tsx","components/profile/UserInfo.tsx","helpers/time.ts","components/profile/Transaction.tsx","images/loader.gif","components/loader/Loader.tsx","components/profile/Transactions.tsx","pages/profile/Profile.tsx","components/auth/Signnup.tsx","components/auth/Login.tsx","pages/auth/Auth.tsx","components/statistic/Diagram.tsx","components/statistic/ListItem.tsx","components/statistic/List.tsx","pages/statistic/Statistic.tsx","pages/initPage/Init.tsx","components/router/AppRouter.tsx","App.tsx","i18n.ts","index.tsx"],"names":["baseUrl","axiosInstance","axios","create","withCredentials","baseURL","headers","interceptors","request","use","config","localStorage","getItem","Authorization","response","a","error","originalRequest","status","_isRetry","get","setItem","data","accessToken","toast","position","autoClose","hideProgressBar","closeOnClick","theme","type","setInitialValues","body","api","patch","addTransaction","post","getAllUserTransactions","getStatisticForRange","signUp","createAsyncThunk","signUpData","thunkApi","res","isAxiosError","rejectWithValue","logIn","loginData","logOut","checkAuth","setFirstEnter","initialState","user","isAuth","isRefreshLoading","isSignUpSignInLoading","lang","userReducer","createSlice","name","reducers","changeLang","state","action","payload","setAuth","extraReducers","builder","addCase","fulfilled","messageEn","messageRu","rejected","pending","removeItem","updatedUser","actions","getCategories","categoryReducer","categories","transactionReducer","isTransactionsloading","numberOfTransactions","transactions","resetTransactions","getGeneralStatistic","getWholeStatistic","statisticReducer","loading","generalStatistic","wholeStatistic","statisticForRange","isGeneralStatisticLoading","isWholeStatisticLoading","isStatisticForRangeLoading","statistic","store","configureStore","reducer","userData","categoryDate","transactionData","statisticData","useAppDispatch","useDispatch","useAppSelector","useSelector","categoryData","LanguageSwitcher","dispatch","handleLangChange","i18next","changeLanguage","onClick","className","src","alt","AppHeader","history","useHistory","t","useTranslation","customToggle","React","forwardRef","ref","Container","Row","Col","md","xs","to","logo","Dropdown","Toggle","as","id","Menu","variant","Item","push","href","target","formattingNumber","number","String","replace","CreateTransaction","useState","useCard","setUseCard","isExpense","setIsExpense","categoryId","setCategoryId","sum","setSum","title","setTitle","validateSumReg","useEffect","lg","Button","card","cash","sm","Form","Check","checked","label","onChange","Select","e","value","filter","category","map","el","_id","nameEn","nameRu","FormControl","placeholder","event","test","Number","newTransaction","ownerId","isCard","date","Date","transaction","Balance","total","GeneralStatistic","userExpensesThisMonth","userExpenses","moment","created","locale","format","UserInfo","formatTransactionDate","formatedDate","isSame","fromNow","Transaction","Card","bg","text","Body","Loader","fullHeight","loaderImage","Transactions","numberToSkip","setNumberToSkip","disabled","limit","Profile","SignUpFormMarkup","values","errors","touched","handleChange","handleBlur","handleSubmit","isSubmitting","onSubmit","render","field","FormGroup","controlId","isValid","login","Feedback","tooltip","onBlur","password","confirmPassword","Boolean","init","connect","props","initialValues","validationSchema","Yup","shape","email","required","min","oneOf","LogInFormMarkup","Auth","showSignIn","setShowSignIn","Login","style","width","margin","Diagram","totalSpent","hovered","setHovered","colors","dataForRange","index","color","height","segmentsShift","dataEntry","Math","round","percentage","totalValue","labelStyle","fontSize","fill","onMouseOver","onMouseOut","segmentsStyle","transition","cursor","getContent","ListItem","listItem","List","sort","b","Statistic","monthsRange","setMonthsRange","useDiagram","setUseDiagram","from","maxDetail","calendarIcon","clearIcon","minDetail","minDate","maxDate","size","transactionsInRange","userIncomes","userIncomesThisMonth","Init","setCard","setCash","setter","isFirstEnter","AppRouter","path","component","App","token","Slide","options","order","lookupQuerystring","lookupCookie","lookupLocalStorage","lookupFromPathIndex","lookupFromSubdomainIndex","caches","excludeCacheFor","cookieMinutes","cookieDomain","htmlTag","document","documentElement","checkWhitelist","i18n","Backend","LanguageDetector","initReactI18next","backend","loadPath","lng","fallbackLng","whitelist","detection","interpolation","escapeValue","ReactDOM","StrictMode","fallback","getElementById"],"mappings":"wZAIMA,EAAiB,2CAEjBC,EAAgBC,IAAMC,OAAO,CACjCC,iBAAiB,EACjBC,QAAQ,GAAD,OAAKL,EAAL,QACPM,QAAS,CACP,eAAgB,sBAKpBL,EAAcM,aAAaC,QAAQC,KAAI,SAACC,GAItC,OAHIC,aAAaC,QAAQ,WACvBF,EAAOJ,QAAQO,cAAf,iBAAyCF,aAAaC,QAAQ,WAEzDF,KAGTT,EAAcM,aAAaO,SAASL,KAAI,SAACC,GACvC,OAAOA,IADT,+BAAAK,EAAA,MAEG,WAAOC,GAAP,iBAAAD,EAAA,yDACKE,EAAkBD,EAAMN,OACA,MAA1BM,EAAMF,SAASI,SAAkBF,EAAMN,QAAWM,EAAMN,OAAOS,SAFlE,wBAGCF,EAAgBE,UAAW,EAH5B,kBAK0BjB,IAAMkB,IAAN,UAAgCpB,EAAhC,qBAA4D,CAAEI,iBAAiB,IALzG,cAKSU,EALT,OAMGH,aAAaU,QAAQ,QAASP,EAASQ,KAAKC,aAN/C,kBAOUtB,EAAcO,QAAQS,IAPhC,kCASGO,YAA6C,OAAvCb,aAAaC,QAAQ,cACvB,2BACA,iHAAwB,CAC1Ba,SAAU,YACVC,UAAW,KACXC,iBAAiB,EACjBC,cAAc,EACdC,MAAO,OACPC,KAAM,YAjBX,cAqBKd,EArBL,0DAFH,uDA0Bef,QC/BF8B,EAAmB,SAACC,GAAD,OAAqFC,EAAIC,MAAM,yBAA0BF,IAG5IG,EAAiB,SAACH,GAAD,OAAgGC,EAAIG,KAAK,iCAAkCJ,IAC5JK,EAAyB,SAACL,GAAD,OAAsGC,EAAIG,KAAK,sCAAuCJ,IAK/KM,EAAuB,SAACN,GAAD,OAA8FC,EAAIG,KAAK,kCAAmCJ,ICbjKO,EAASC,YAKpB,cALoC,uCAQpC,WAAOC,EAAYC,GAAnB,iBAAA3B,EAAA,+EDTqBiB,ECWYS,EDXmDR,EAAIG,KAAK,eAAgBJ,GCS7G,cAEUW,EAFV,yBAGWA,EAAIrB,MAHf,oCAKQpB,IAAM0C,aAAN,MALR,0CAMaF,EAASG,gBAAT,UAAyB,KAAE/B,gBAA3B,aAAyB,EAAYQ,OANlD,kCDToB,IAACU,ICSrB,oBARoC,yDAoBzBc,EAAQN,YAKnB,aALmC,uCAQnC,WAAOO,EAAqBL,GAA5B,iBAAA3B,EAAA,+ED5BoBiB,EC8BYe,ED9BkDd,EAAIG,KAAK,cAAeJ,GC4B1G,cAEUW,EAFV,yBAGWA,EAAIrB,MAHf,oCAKQpB,IAAM0C,aAAN,MALR,0CAMaF,EAASG,gBAAT,UAAyB,KAAE/B,gBAA3B,aAAyB,EAAYQ,OANlD,kCD5BmB,IAACU,IC4BpB,oBARmC,yDAoBxBgB,EAASR,YACpB,cADoC,sBAEpC,sBAAAzB,EAAA,sEDzCwDkB,EAAIG,KAAK,gBCyCjE,oFAGWa,EAAYT,YACvB,eADuC,sBAEvC,sBAAAzB,EAAA,sED7CsEkB,EAAIb,IAAI,iBC6C9E,oFAIWe,EAAiBK,YAC5B,6BAD4C,uCAE5C,WAAOR,GAAP,SAAAjB,EAAA,sEAA4GkB,EAAmBD,GAA/H,mFAF4C,uDAKjCkB,EAAgBV,YAC3B,qBAD2C,sBAE3C,sBAAAzB,EAAA,sEDvDiFkB,EAAIC,MAAM,uBCuD3F,oFAIWH,EAAmBS,YAC9B,wBAD8C,uCAE9C,WAAOR,GAAP,SAAAjB,EAAA,sEAAmGkB,EAAqBD,GAAxH,mFAF8C,uDAa1CmB,EAA0B,CAC9BC,KAAM,GACNC,OAAQ,KACRC,kBAAkB,EAClBC,uBAAuB,EACvBC,KAAM7C,aAAaC,QAAQ,eAAiB,MAGxC6C,EAAcC,YAAY,CAC9BC,KAAM,OACNR,eACAS,SAAU,CACRC,WAAY,SAACC,EAAkBC,GAC7BD,EAAMN,KAAOO,EAAOC,SAEtBC,QAAS,SAACH,EAAkBC,GAC1BD,EAAMT,OAASU,EAAOC,UAG1BE,cAAgB,SAAAC,GACdA,EAAQC,QAAQ7B,EAAO8B,WAAW,SAACP,EAAOC,GACxCD,EAAMP,uBAAwB,EAE9B/B,YAA6C,OAAvCb,aAAaC,QAAQ,cACvBmD,EAAOC,QAAQM,UACfP,EAAOC,QAAQO,UACf,CACA9C,SAAU,YACVC,UAAW,KACXC,iBAAiB,EACjBC,cAAc,EACdC,MAAO,OACPC,KAAM,eAIZqC,EAAQC,QAAQ7B,EAAOiC,UAAU,SAACV,EAAOC,GAAY,IAAD,IAClDD,EAAMP,uBAAwB,EAE9B/B,YAA6C,OAAvCb,aAAaC,QAAQ,cAArB,UACFmD,EAAOC,eADL,aACF,EAAgBM,UADd,UAEFP,EAAOC,eAFL,aAEF,EAAgBO,UAAW,CAC7B9C,SAAU,YACVC,UAAW,KACXC,iBAAiB,EACjBC,cAAc,EACdC,MAAO,OACPC,KAAM,aAIVqC,EAAQC,QAAQ7B,EAAOkC,SAAS,SAACX,GAC/BA,EAAMP,uBAAwB,KAGhCY,EAAQC,QAAQtB,EAAM2B,SAAS,SAACX,GAC9BA,EAAMP,uBAAwB,KAGhCY,EAAQC,QAAQtB,EAAMuB,WAAW,SAACP,EAAOC,GACvCD,EAAMP,uBAAwB,EAE9B5C,aAAaU,QAAQ,QAAS0C,EAAOC,QAAQzC,aAC7CuC,EAAMV,KAAOW,EAAOC,QAAQZ,KAC5BU,EAAMT,QAAS,KAGjBc,EAAQC,QAAQtB,EAAM0B,UAAU,SAACV,EAAOC,GAAY,IAAD,IACjDD,EAAMP,uBAAwB,EAE9B/B,YAA6C,OAAvCb,aAAaC,QAAQ,cAArB,UACFmD,EAAOC,eADL,aACF,EAAgBM,UADd,UAEFP,EAAOC,eAFL,aAEF,EAAgBO,UAAW,CAC7B9C,SAAU,YACVC,UAAW,KACXC,iBAAiB,EACjBC,cAAc,EACdC,MAAO,OACPC,KAAM,aAIVqC,EAAQC,QAAQpB,EAAOqB,WAAW,SAACP,GACjCnD,aAAa+D,WAAW,SACxBZ,EAAMV,KAAO,GACbU,EAAMT,QAAS,KAGjBc,EAAQC,QAAQnB,EAAUwB,SAAS,SAACX,GAClCA,EAAMR,kBAAmB,KAG3Ba,EAAQC,QAAQnB,EAAUuB,UAAU,SAACV,GACnCA,EAAMR,kBAAmB,KAG3Ba,EAAQC,QAAQnB,EAAUoB,WAAW,SAACP,EAAOC,GAC3CD,EAAMR,kBAAmB,EAEzB3C,aAAaU,QAAQ,QAAS0C,EAAOC,QAAQ1C,KAAKC,aAClDuC,EAAMV,KAAOW,EAAOC,QAAQ1C,KAAK8B,KACjCU,EAAMT,QAAS,KAGjBc,EAAQC,QAAQjC,EAAekC,WAAW,SAACP,EAAOC,GAAY,IAAD,IAC3DD,EAAMV,KAAOW,EAAOC,QAAQ1C,KAAKqD,YAEjCnD,YAA6C,OAAvCb,aAAaC,QAAQ,cAArB,UACFmD,EAAOC,eADL,aACF,EAAgB1C,KAAKgD,UADnB,UAEFP,EAAOC,eAFL,aAEF,EAAgB1C,KAAKiD,UAAW,CAClC9C,SAAU,YACVC,UAAW,KACXC,iBAAiB,EACjBC,cAAc,EACdC,MAAO,OACPC,KAAM,eAIVqC,EAAQC,QAAQlB,EAAcmB,WAAW,SAACP,EAAOC,GAC/CD,EAAMV,KAAOW,EAAOC,QAAQ1C,KAAK8B,QAGnCe,EAAQC,QAAQrC,EAAiBsC,WAAW,SAACP,EAAOC,GAAY,IAAD,IAC7DD,EAAMV,KAAOW,EAAOC,QAAQ1C,KAAK8B,KAEjC5B,YAA6C,OAAvCb,aAAaC,QAAQ,cAArB,UACFmD,EAAOC,eADL,aACF,EAAgB1C,KAAKgD,UADnB,UAEFP,EAAOC,eAFL,aAEF,EAAgB1C,KAAKiD,UAAW,CAClC9C,SAAU,YACVC,UAAW,KACXC,iBAAiB,EACjBC,cAAc,EACdC,MAAO,OACPC,KAAM,kBAMP,EAAgC2B,EAAYmB,QAApCf,EAAR,EAAQA,WAAYI,EAApB,EAAoBA,QAEZR,IAAf,QChOaoB,EAAgBrC,YAC3B,yBAD2C,sBAE3C,sBAAAzB,EAAA,sEFqB+EkB,EAAIb,IAAI,2BErBvF,oFAuBa0D,EAZSpB,YAAY,CAClCC,KAAM,WACNR,aANkC,CAClC4B,WAAY,IAMZnB,SAAU,GACVM,cAAgB,SAAAC,GACdA,EAAQC,QAAQS,EAAcR,WAAW,SAACP,EAAOC,GAC/CD,EAAMiB,WAAahB,EAAOC,QAAQ1C,KAAKyD,iBAM7C,Q,QC1Ba1C,EAAyBG,YACpC,qCADoD,uCAEpD,WAAOR,GAAP,SAAAjB,EAAA,sEAAoHkB,EAA2BD,GAA/I,mFAFoD,uDAiBhDgD,EAAqBtB,YAAY,CACrCC,KAAM,cACNR,aARqC,CACrC8B,uBAAuB,EACvBC,qBAAsB,EACtBC,aAAc,IAMdvB,SAAU,CACRwB,kBAAmB,SAACtB,GAClBA,EAAMqB,aAAe,KAGzBjB,cAAgB,SAAAC,GACdA,EAAQC,QAAQ/B,EAAuBoC,SAAS,SAACX,GAC/CA,EAAMmB,uBAAwB,KAGhCd,EAAQC,QAAQ/B,EAAuBgC,WAAW,SAACP,EAAOC,GACxDD,EAAMmB,uBAAwB,EAC9BnB,EAAMqB,aAAN,sBAAyBrB,EAAMqB,cAA/B,YAAgDpB,EAAOC,QAAQ1C,KAAK6D,eACpErB,EAAMoB,qBAAuBnB,EAAOC,QAAQ1C,KAAK4D,sBAAwB,KAG3Ef,EAAQC,QAAQ/B,EAAuBmC,UAAU,SAACV,GAChDA,EAAMmB,uBAAwB,QAKrBG,EAAsBJ,EAAmBJ,QAAzCQ,kBAEAJ,IAAf,QCrCaK,EAAsB7C,YACjC,gCADiD,sBAEjD,sBAAAzB,EAAA,sEJUgGkB,EAAIb,IAAI,kCIVxG,oFAGWkE,EAAoB9C,YAC/B,8BAD+C,sBAE/C,sBAAAzB,EAAA,sEJM4FkB,EAAIb,IAAI,gCINpG,oFAGWkB,EAAuBE,YAClC,iCADkD,uCAElD,WAAOR,GAAP,SAAAjB,EAAA,sEAA0GkB,EAAyBD,GAAnI,mFAFkD,uDAwErCuD,EA/CU7B,YAAY,CACnCC,KAAM,YACNR,aAZmC,CACnCqC,SAAS,EACTC,iBAAkB,KAClBC,eAAgB,KAChBC,kBAAmB,KACnBC,2BAA2B,EAC3BC,yBAAyB,EACzBC,4BAA4B,GAM5BlC,SAAU,GACVM,cAAgB,SAAAC,GACdA,EAAQC,QAAQiB,EAAoBZ,SAAS,SAACX,GAC5CA,EAAM8B,2BAA4B,KAGpCzB,EAAQC,QAAQiB,EAAoBhB,WAAW,SAACP,EAAOC,GACrDD,EAAM8B,2BAA4B,EAClC9B,EAAM2B,iBAAmB1B,EAAOC,QAAQ1C,KAAKyE,aAG/C5B,EAAQC,QAAQiB,EAAoBb,UAAU,SAACV,GAC7CA,EAAM8B,2BAA4B,KAGpCzB,EAAQC,QAAQkB,EAAkBb,SAAS,SAACX,GAC1CA,EAAM+B,yBAA0B,KAGlC1B,EAAQC,QAAQkB,EAAkBjB,WAAW,SAACP,EAAOC,GACnDD,EAAM+B,yBAA0B,EAChC/B,EAAM4B,eAAiB3B,EAAOC,QAAQ1C,KAAKyE,aAG7C5B,EAAQC,QAAQkB,EAAkBd,UAAU,SAACV,GAC3CA,EAAM+B,yBAA0B,KAGlC1B,EAAQC,QAAQ9B,EAAqBmC,SAAS,SAACX,GAC7CA,EAAMgC,4BAA6B,KAGrC3B,EAAQC,QAAQ9B,EAAqB+B,WAAW,SAACP,EAAOC,GACtDD,EAAMgC,4BAA6B,EACnChC,EAAM6B,kBAAoB5B,EAAOC,QAAQ1C,KAAKyE,aAGhD5B,EAAQC,QAAQ9B,EAAqBkC,UAAU,SAACV,GAC9CA,EAAMgC,4BAA6B,QAMzC,QC3EeE,EAZDC,YAAe,CAC3BC,QAAS,CACPC,SAAU1C,EACV2C,aAActB,EACduB,gBAAiBrB,EACjBsB,cAAef,KCTNgB,EAAiB,kBAAMC,eACvBC,EAAkDC,ICFlDP,EAAW,SAACrC,GAAD,OAAqBA,EAAMqC,UACtCQ,EAAe,SAAC7C,GAAD,OAAqBA,EAAMsC,cAC1CC,EAAkB,SAACvC,GAAD,OAAqBA,EAAMuC,iBAC7CC,EAAgB,SAACxC,GAAD,OAAqBA,EAAMwC,e,SCLzC,I,OAAA,IAA0B,kC,mECmC1BM,GA3BU,WACvB,IAAMC,EAAWN,IACT/C,EAASiD,EAAeN,GAAxB3C,KAEFsD,EAAmB,SAACtD,GAAD,OAAkB,WACzCqD,EAAShD,EAAWL,IACpBuD,KAAQC,eAAexD,KAGzB,OACE,uCACE,uBACEyD,QAASH,EAAiB,MAC1BI,UAAoB,OAAT1D,EAAgB,aAAe,GAF5C,SAIc,sBAAK2D,ICvBV,y8BDuBuBC,IAAI,SAEpC,uBACEH,QAASH,EAAiB,MAC1BI,UAAoB,OAAT1D,EAAgB,aAAe,GAF5C,SAIc,sBAAK2D,IE7BV,iZF6BuBC,IAAI,aG4C3BC,GA/DG,WAChB,IAAMR,EAAWN,IACXe,EAAUC,eACTC,EAAKC,eAALD,EAQDE,EAAeC,IAAMC,YAA4B,WAAmBC,GAAnB,IAAGZ,EAAH,EAAGA,QAAH,OACrD,sBAAKC,UAAU,eAAf,SACE,sBACEA,UAAU,uBACVW,IAAKA,EACLZ,QAASA,EAHX,SAKE,iCAKN,OACE,kCACE,eAACa,GAAA,EAAD,UACE,gBAACC,GAAA,EAAD,WACE,eAACC,GAAA,EAAD,CAAKC,GAAG,IAAIC,GAAG,IAAIhB,UAAU,OAA7B,SACE,gBAAC,IAAD,CAAMiB,GAAG,IAAT,UACE,sBAAKhB,IAAKiB,GAAMhB,IAAI,aADtB,uBAKF,eAACY,GAAA,EAAD,CAAKC,GAAG,IAAIC,GAAG,KAAKhB,UAAU,0BAA9B,SACE,sBAAIA,UAAU,UAAd,UACE,8BAAI,eAAC,IAAD,CAASiB,GAAG,QAAZ,SAAqBX,EAAE,eAC3B,8BAAI,eAAC,IAAD,CAASW,GAAG,qBAAZ,SAAkCX,EAAE,uBACxC,8BAAI,eAAC,IAAD,CAASW,GAAG,aAAZ,SAA0BX,EAAE,sBAGpC,eAACQ,GAAA,EAAD,CAAKC,GAAG,IAAIC,GAAG,IAAf,SACE,gBAACG,GAAA,EAAD,WACE,eAACA,GAAA,EAASC,OAAV,CAAiBC,GAAIb,EAAcc,GAAG,+BACtC,gBAACH,GAAA,EAASI,KAAV,CAAeC,QAAQ,OAAvB,UACE,eAACL,GAAA,EAASM,KAAV,CACEJ,GAAG,OACHrB,UAAU,oDAFZ,SAIA,eAAC,GAAD,MAEA,eAACmB,GAAA,EAASM,KAAV,CAAeJ,GAAG,OAAOtB,QAAS,kBAAMK,EAAQsB,KAAK,UAArD,SAAgEpB,EAAE,UAClE,gBAACa,GAAA,EAASM,KAAV,CAAeE,KAAK,sBAAsBC,OAAO,SAAjD,UAA2DtB,EAAE,WAA7D,OACA,eAACa,GAAA,EAASM,KAAV,CAAeJ,GAAG,OAAOtB,QA/ClB,WACnBJ,EAAS7D,KACTsE,EAAQsB,KAAK,mBA6CD,SAAiDpB,EAAE,6B,uCC9DtDuB,GAAmB,SAACC,GAAD,OAC9BC,OAAOD,GAAQE,QAAQ,wBAAyB,MCmNnCC,I,OAxMW,WACxB,MAAuB1C,EAAeN,GAA9B/C,EAAR,EAAQA,KAAMI,EAAd,EAAcA,KACNuB,EAAe0B,EAAeE,GAA9B5B,WACR,EAA8BqE,oBAAkB,GAAhD,oBAAOC,EAAP,KAAgBC,EAAhB,KACA,EAAkCF,oBAAkB,GAApD,oBAAOG,EAAP,KAAkBC,EAAlB,KACA,EAAoCJ,mBAAiB,IAArD,oBAAOK,EAAP,KAAmBC,EAAnB,KACA,EAAsBN,mBAA0B,IAAhD,oBAAOO,EAAP,KAAYC,EAAZ,KACA,EAA0BR,mBAAiB,IAA3C,oBAAOS,EAAP,KAAcC,EAAd,KACQtC,EAAMC,eAAND,EACFX,EAAWN,IAGXwD,EAAiB,oBAgEvB,OAJAC,qBAAU,WACRnD,EAAShC,OACR,IAGD,qCACE,gBAACiD,GAAA,EAAD,CAAWZ,UAAU,eAArB,UACE,gBAACa,GAAA,EAAD,WACE,qBAAGb,UAAU,gCAAb,UAA8CM,EAAE,yBAAhD,OACA,gBAACQ,GAAA,EAAD,CAAKE,GAAG,KAAK+B,GAAG,IAAI/C,UAAU,iBAA9B,UACE,sBAAKA,UAAU,mBAAf,SACE,eAACgD,GAAA,EAAD,CACExB,QAASa,EAAY,SAAW,iBAChCrC,UAAU,OACVD,QAAS,WACPuC,GAAa,GACbE,EAAc,KALlB,SAQGlC,EAAE,eAGP,sBAAKN,UAAU,mBAAf,SACE,eAACgD,GAAA,EAAD,CACExB,QAAUa,EAAwB,kBAAZ,UACtBrC,UAAU,OACVD,QAAS,WACPuC,GAAa,GACbE,EAAc,KALlB,SAQGlC,EAAE,oBAMX,eAACO,GAAA,EAAD,UACE,gBAACC,GAAA,EAAD,CAAKE,GAAG,KAAK+B,GAAG,IAAI/C,UAAU,yBAA9B,UACE,qBAAGA,UAAU,4CAAb,UAA0DM,EAAE,gBAA5D,IACE,wBAAMN,UAAU,aAAhB,cAA+B6B,GAAiB3F,EAAK+G,YAEvD,qBAAGjD,UAAU,uCAAb,UAAqDM,EAAE,gBAAvD,IACE,wBAAMN,UAAU,aAAhB,cAA+B6B,GAAiB3F,EAAKgH,iBAI3D,eAACrC,GAAA,EAAD,UACE,gBAACC,GAAA,EAAD,CAAKE,GAAG,KAAK+B,GAAG,IAAI/C,UAAU,UAA9B,UACE,gBAACa,GAAA,EAAD,WACE,gBAACC,GAAA,EAAD,CAAKE,GAAG,KAAKmC,GAAG,IAAInD,UAAU,mBAA9B,UACE,qBAAGA,UAAU,8BAAb,UAA4CM,EAAE,uBAA9C,OACA,eAAC8C,GAAA,EAAKC,MAAN,CACEC,QAASnB,EACTvH,KAAK,QACL6B,KAAK,aACL6E,GAAG,iBACHtB,UAAU,oEACVuD,MAAM,GACNC,SAAU,kBAAMpB,GAAW,MAE7B,eAACgB,GAAA,EAAKC,MAAN,CACEC,SAAUnB,EACVvH,KAAK,QACL6B,KAAK,aACL6E,GAAG,iBACHiC,MAAM,GACNvD,UAAU,oEACVwD,SAAU,kBAAMpB,GAAW,SAG/B,gBAACtB,GAAA,EAAD,CAAKE,GAAG,KAAKmC,GAAG,IAAhB,UACE,qBAAGnD,UAAU,8BAAb,UAA4CM,EAAE,mBAA9C,OACA,gBAAC8C,GAAA,EAAKK,OAAN,CAAaD,SAAU,SAACE,GAAD,OAA6ClB,EAAckB,EAAE9B,OAAO+B,QAA3F,UACE,yBAAQ3D,UAAU,SAAS2D,MAAM,GAAjC,SAAqCrD,EAAE,qBACtCzC,GACDA,EACG+F,QAAO,SAACC,GAAD,OAAcA,EAASxB,YAAcA,KAC5CyB,KAAI,SAACC,GAAD,OACH,yBAEEJ,MAAOI,EAAGC,IAFZ,SAIY,OAAT1H,EAAgByH,EAAGE,OAASF,EAAGG,QAH3BH,EAAGC,iBASpB,gBAACnD,GAAA,EAAD,CAAKb,UAAU,OAAf,UACE,gBAACc,GAAA,EAAD,CAAKE,GAAG,IAAIhB,UAAU,mBAAtB,UACE,qBAAGA,UAAU,YAAb,UAA0BM,EAAE,wBAA5B,OACA,eAAC6D,GAAA,EAAD,CACEvJ,KAAK,OACLwJ,YAAa9D,EAAE,qBACfqD,MAAOhB,EACPa,SApJU,SAACa,GACzBzB,EAASyB,EAAMzC,OAAO+B,aAsJZ,gBAAC7C,GAAA,EAAD,CAAKE,GAAG,IAAIhB,UAAU,mBAAtB,UACE,qBAAGA,UAAU,aAAb,UAA2BM,EAAE,gCAA7B,OACA,eAAC6D,GAAA,EAAD,CACEvJ,KAAK,OACLwJ,YAAa9D,EAAE,mBACfqD,MAAOlB,EACPe,SAnKQ,SAACa,IACnBxB,EAAeyB,KAAKD,EAAMzC,OAAO+B,QAAiC,KAAvBU,EAAMzC,OAAO+B,QAC1DjB,EAAO2B,EAAMzC,OAAO+B,gBAqKd,eAAC9C,GAAA,EAAD,UACE,gBAACC,GAAA,EAAD,CAAKE,GAAG,KAAKhB,UAAU,mBAAvB,UACE,qBAAGA,UAAU,YAAb,UAA0BM,EAAE,sBAA5B,OACA,eAAC0C,GAAA,EAAD,CACExB,QAAQ,UACRxB,UAAU,oBACVD,QAnKK,WACnB,IAAK0C,IAAQF,IAAeI,EAC1B,OAAOrI,YAAMgG,EAAE,2BAA4B,CACzC/F,SAAU,YACVC,UAAW,KACXC,iBAAiB,EACjBC,cAAc,EACdC,MAAO,OACPC,KAAM,UAIV,GAAGyH,EAAU,CACX,GAAKF,GAAWjG,EAAK+G,KAAOR,IAAUN,GAAWjG,EAAKgH,KAAOT,EAC3D,OAAOnI,YAAMgG,EAAE,4BAA8B,CAC3C/F,SAAU,YACVC,UAAW,KACXC,iBAAiB,EACjBC,cAAc,EACdC,MAAO,OACPC,KAAM,UAIV,GAAmB,IAAhB2J,OAAO9B,GACR,OAAOnI,YAAMgG,EAAE,4BAA8B,CAC3C/F,SAAU,YACVC,UAAW,KACXC,iBAAiB,EACjBC,cAAc,EACdC,MAAO,OACPC,KAAM,UAIZ,IAAM4J,EAAkC,CACtC7B,MAAOA,EACP8B,QAASvI,EAAK8H,IACdU,OAAQvC,EACRE,UAAWA,EACXI,IAAK8B,OAAO9B,GACZoB,SAAUtB,EACVoC,KAAM,IAAIC,MAGZjF,EAAS1E,EAAe,CAAE4J,YAAaL,MAmH3B,SAKGlE,EAAE,6BC5KNwE,GAtBI,WACjB,IAAQ5I,EAASsD,YAAYP,GAArB/C,KACDoE,EAAKC,eAALD,EAEDyE,EAAQ7I,EAAK+G,KAAO/G,EAAKgH,KAE/B,OACE,gBAACpC,GAAA,EAAD,CAAKC,GAAG,IAAIC,GAAG,KAAKhB,UAAU,UAA9B,UACE,qBAAGA,UAAU,2CAAb,UACG+E,EAAQzE,EAAE,iBAAmB,GAC9B,wBAAMN,UAAU,aAAhB,cAA+B+E,EAAQlD,GAAiBkD,GAASzE,EAAE,+BAErE,qBAAGN,UAAU,OAAb,UAAqBM,EAAE,gBAAvB,IACE,sCAAQuB,GAAiB3F,EAAK+G,YAEhC,qBAAGjD,UAAU,OAAb,UAAqBM,EAAE,WAAvB,IACE,sCAAQuB,GAAiB3F,EAAKgH,gB,oBCYvB8B,I,MA3Bc,WAC3B,IAAQzG,EAAqBgB,EAAeH,GAApCb,iBACR,EAAuBgB,EAAeN,GAA9B/C,EAAR,EAAQA,KAAMI,EAAd,EAAcA,KACNgE,EAAMC,eAAND,EAER,OACE,eAACQ,GAAA,EAAD,CAAKC,GAAG,IAAIC,GAAG,KAAf,SACGzC,EACC,uBAAKyB,UAAU,eAAf,UACE,qBAAGA,UAAU,oBAAb,UAAkCM,EAAE,oBAApC,KAA0D,uBACxDN,UAAU,wBAD8C,SACrBzB,EAAiB0G,2BACtD,qBAAGjF,UAAU,eAAb,UAA6BM,EAAE,4BAA/B,KAA6D,uBAC3DN,UAAU,wBADiD,SACxBzB,EAAiB2G,kBACtD,qBAAGlF,UAAU,oBAAb,UAAkCM,EAAE,MAApC,IAA2C,uBACzCN,UAAU,aAD+B,6BAA3C,IACiDM,EAAE,SADnD,IAC6D,uBAC3DN,UAAU,wBADiD,SACxBmF,KAAOjJ,EAAKkJ,SAASC,OAAO/I,GAAMgJ,OAAO,cAGhF,sBAAKtF,UAAU,+EAAf,SACE,2ECfKuF,GAPM,kBACjB,gBAAC1E,GAAA,EAAD,WACE,eAAC,GAAD,IACA,eAAC,GAAD,Q,mBCLO2E,GAAwB,SAACb,GAA0B,IAAfrI,EAAc,uDAAT,KAC9CmJ,EAAeN,KAAOR,GAAMU,OAAO/I,GAEzC,OAAGmJ,EAAaC,OAAO,IAAId,KAAQ,QAC1Ba,EAAaE,UAGbF,EAAaH,OAAO,OCqBhBM,GAnBoB,SAAC,GAAqB,IAAnBf,EAAkB,EAAlBA,YAC7BvI,EAAQiD,EAAeN,GAAvB3C,KAEP,OACE,eAACuJ,GAAA,EAAD,CAAM7F,UAAU,yCAAyC8F,GAAG,QAAQC,KAAK,OAAzE,SACE,eAACF,GAAA,EAAKG,KAAN,UAAW,gBACTnF,GAAA,EADS,WAET,eAACC,GAAA,EAAD,CAAKE,GAAG,KAAKmC,GAAG,IAAInD,UAAU,eAA9B,SAA8C6E,EAAYlC,QAC1D,eAAC7B,GAAA,EAAD,CAAKE,GAAG,IAAImC,GAAG,IAAf,SAAoBqC,GAAsBX,EAAYF,KAAMrI,KAC5D,eAACwE,GAAA,EAAD,CAAKE,GAAG,IAAImC,GAAG,IAAf,SACE0B,EAAYxC,UACV,wBAAMrC,UAAU,cAAhB,cAAgC6B,GAAiBgD,EAAYpC,QAC7D,wBAAMzC,UAAU,eAAhB,cAAiC6B,GAAiBgD,EAAYpC,kBCxB3D,OAA0B,mCCmB1BwD,I,OAXe,SAAC,GAAoB,IAAlBC,EAAiB,EAAjBA,WAC/B,OACE,sBAAKlG,UAAS,qEACZkG,EAAa,aAAe,GADhB,WAAd,SAIE,sBAAKjG,IAAKkG,GAAajG,IAAI,mBC8ClBkG,GAnDM,WACnB,MAAsE7G,EAAeJ,GAA7EpB,EAAR,EAAQA,sBAAuBE,EAA/B,EAA+BA,aAAcD,EAA7C,EAA6CA,qBACvC2B,EAAWN,IACTiB,EAAMC,eAAND,EAER,EAAwC4B,mBAAiB,IAAzD,oBAAOmE,EAAP,KAAqBC,EAArB,KAOA,OAAIvI,IAA0BC,EACrB,eAAC,GAAD,IAIP,sBAAKgC,UAAU,OAAf,SAEIhC,EACE,uCACE,oBAAGgC,UAAU,2BAAb,SAAyCM,EAAE,uBAEzCrC,EAAa6F,KAAI,SAACe,GAAD,OAAiB,eAAC,GAAD,CAAmCA,YAAaA,GAA9BA,EAAYb,QAIhEjG,GAAyB,eAAC,GAAD,IAG1BsI,GAAgBrI,GACjB,eAACgF,GAAA,EAAD,CACEuD,SAAUxI,EACVyD,QAAQ,UACRxB,UAAU,kCACVD,QA5Be,WACzBJ,EAASxE,EAAuB,CAAEqL,MAJtB,GAIoCH,aAAcA,KAC9DC,EALY,GAKYD,IAsBhB,SAKE/F,EAAE,kBAIN,sBAAKN,UAAU,2EAAf,SACE,6BAAIM,EAAE,uCCfHmG,GAxBC,WACd,IAAQ1I,EAA0BwB,EAAeJ,GAAzCpB,sBACAW,EAA8Ba,EAAeH,GAA7CV,0BAEFiB,EAAWN,IAQjB,OANAyD,qBAAU,WACRnD,EAASzB,KACTyB,EAASxB,KACTwB,EAASxE,EAAuB,CAAEqL,MAAO,GAAIH,aAAc,OAC1D,IAEA3H,GAA6BX,EACvB,eAAC,GAAD,IAIT,gBAAC6C,GAAA,EAAD,CAAWZ,UAAU,OAArB,UACE,eAAC,GAAD,IACA,eAAC,GAAD,Q,mCCfE0G,GAAsD,SAAC,GASpD,IAPLC,EAOI,EAPJA,OACAC,EAMI,EANJA,OACAC,EAKI,EALJA,QACAC,EAII,EAJJA,aACAC,EAGI,EAHJA,WACAC,EAEI,EAFJA,aACAC,EACI,EADJA,aAEK3G,EAAKC,eAALD,EAEP,OACA,gBAAC,KAAD,CAAM4G,SAAUF,EAAhB,UACE,eAAC,KAAD,CACEvK,KAAK,QACL0K,OAAQ,gBAAGC,EAAH,EAAGA,MAAH,OACN,gBAACC,GAAA,EAAD,CACEC,UAAU,QACVtH,UAAU,qBAFZ,UAGE,eAACmE,GAAA,EAAD,CACEvJ,KAAM,OACN+I,MAAOyD,EAAMzD,MACbH,SAAU4D,EAAM5D,SAChBY,YAAa9D,EAAE,SACfiH,SAAS,IAGTV,EAAQW,OACRZ,EAAOY,OACP,eAACrD,GAAA,EAAYsD,SAAb,CACE7M,KAAK,UAAU8M,SAAO,EADxB,SAGGd,EAAOY,cAOlB,eAAC,KAAD,CACE5M,KAAK,WACL6B,KAAK,WACL+G,SAAUsD,EACVa,OAAQZ,EACRpD,MAAOgD,EAAOiB,SACdT,OAAQ,gBAAGC,EAAH,EAAGA,MAAH,OACN,gBAACC,GAAA,EAAD,CAAWC,UAAU,WAAWtH,UAAU,qBAA1C,UACE,eAACmE,GAAA,EAAD,CACEvJ,KAAM,WACN+I,MAAOyD,EAAMzD,MACbH,SAAU4D,EAAM5D,SAChBY,YAAa9D,EAAE,cAGfuG,EAAQe,UACRhB,EAAOgB,UACP,eAACzD,GAAA,EAAYsD,SAAb,CACE7M,KAAK,UAAU8M,SAAO,EADxB,SAGGd,EAAOgB,iBAOlB,eAAC,KAAD,CACEhN,KAAK,WACL6B,KAAK,kBACL+G,SAAUsD,EACVa,OAAQZ,EACRpD,MAAOgD,EAAOkB,gBACdV,OAAQ,gBAAGC,EAAH,EAAGA,MAAH,OACN,gBAACC,GAAA,EAAD,CAAWC,UAAU,kBAAkBtH,UAAU,qBAAjD,UACE,eAACmE,GAAA,EAAD,CACEvJ,KAAM,WACN+I,MAAOyD,EAAMzD,MACbH,SAAU4D,EAAM5D,SAChBY,YAAa9D,EAAE,sBAGfuG,EAAQgB,iBACRjB,EAAOiB,iBACP,eAAC1D,GAAA,EAAYsD,SAAb,CACE7M,KAAK,UAAU8M,SAAO,EADxB,SAGGd,EAAOiB,wBAOlB,eAAC7E,GAAA,EAAD,CACEpI,KAAK,SACL4G,QAAQ,UACR+E,SACEU,GACAa,QAAQlB,EAAOY,OAASX,EAAQW,QAChCM,QAAQlB,EAAOgB,UAAYf,EAAQe,UANvC,SASGtH,EAAE,iBAKHyH,GAAmB,CACvBP,MAAO,GACPI,SAAU,GACVC,gBAAiB,IA4BJG,kBArBI,SAACC,GAAD,OACjB,eAAC,KAAD,CACEC,cAAeH,GACfI,iBACEC,OAAaC,MAAM,CACjBb,MAAOY,OACJE,MAAM,mBACNC,SAAS,qBACZX,SAAUQ,OACPG,SAAS,wBACTC,IAAI,EAAG,4CACVX,gBAAiBO,OACdG,SAAS,yBACTE,MAAM,CAACL,KAAQ,aAAc,6BAGpClB,SAAU,SAACP,GAAD,OAAwBsB,EAAMtI,SAAStE,EAAOsL,KACxDQ,OAAQ,SAACc,GAAD,OAAoC,eAAC,GAAD,gBAAsBA,UC5IhES,GAAmD,SAAC,GASjD,IAPL/B,EAOI,EAPJA,OACAC,EAMI,EANJA,OACAC,EAKI,EALJA,QACAC,EAII,EAJJA,aACAC,EAGI,EAHJA,WACAC,EAEI,EAFJA,aACAC,EACI,EADJA,aAEK3G,EAAKC,eAALD,EAEP,OACE,gBAAC,KAAD,CAAM4G,SAAUF,EAAhB,UACE,eAAC,KAAD,CACEvK,KAAK,QACL0K,OAAQ,gBAAGC,EAAH,EAAGA,MAAH,OACN,gBAACC,GAAA,EAAD,CACEC,UAAU,QACVtH,UAAU,qBAFZ,UAGE,eAACmE,GAAA,EAAD,CACEvJ,KAAM,OACN+I,MAAOyD,EAAMzD,MACbH,SAAU4D,EAAM5D,SAChBY,YAAa9D,EAAE,SACfiH,SAAS,IAGTV,EAAQW,OACRZ,EAAOY,OACP,eAACrD,GAAA,EAAYsD,SAAb,CACE7M,KAAK,UAAU8M,SAAO,EADxB,SAGGd,EAAOY,cAQlB,eAAC,KAAD,CACE5M,KAAK,WACL6B,KAAK,WACL+G,SAAUsD,EACVa,OAAQZ,EACRpD,MAAOgD,EAAOiB,SACdT,OAAQ,gBAAGC,EAAH,EAAGA,MAAH,OACN,gBAACC,GAAA,EAAD,CAAWC,UAAU,WAAWtH,UAAU,qBAA1C,UACE,eAACmE,GAAA,EAAD,CACEvJ,KAAM,WACN+I,MAAOyD,EAAMzD,MACbH,SAAU4D,EAAM5D,SAChBY,YAAa9D,EAAE,cAGfuG,EAAQe,UACRhB,EAAOgB,UACP,eAACzD,GAAA,EAAYsD,SAAb,CACE7M,KAAK,UAAU8M,SAAO,EADxB,SAGGd,EAAOgB,iBAOlB,eAAC5E,GAAA,EAAD,CACEpI,KAAK,SACL4G,QAAQ,UACR+E,SACEU,GACAa,QAAQlB,EAAOY,OAASX,EAAQW,QAChCM,QAAQlB,EAAOgB,UAAYf,EAAQe,UANvC,SASGtH,EAAE,iBAMLyH,GAAiB,CACrBP,MAAO,GACPI,SAAU,IAyBGI,kBAlBG,SAACC,GAAD,OAChB,eAAC,KAAD,CACEC,cAAeH,GACfI,iBACEC,OAAaC,MAAM,CACjBb,MAAOY,OACJE,MAAM,mBACNC,SAAS,qBACZX,SAAUQ,OACPG,SAAS,wBACTC,IAAI,EAAG,8CAGdtB,SAAU,SAACP,GAAD,OAAsBsB,EAAMtI,SAAS/D,EAAM+K,KACrDQ,OAAQ,SAACc,GAAD,OAAkC,eAAC,GAAD,gBAAqBA,UCxDpDU,I,OAhDF,WACX,MAAoCzG,oBAAkB,GAAtD,oBAAO0G,EAAP,KAAmBC,EAAnB,KACQvI,EAAMC,eAAND,EAER,OACE,0BAASN,UAAU,sCAAnB,SACE,eAACY,GAAA,EAAD,UACE,gBAACC,GAAA,EAAD,CAAKb,UAAU,QAAf,UACE,gBAACc,GAAA,EAAD,CAAKE,GAAG,KAAKmC,GAAG,IAAInD,UAAU,cAA9B,UACE,sBAAKC,IAAKiB,GAAMhB,IAAI,SACpB,qBAAIF,UAAU,aAAd,6BACA,6BAAIM,EAAE,iDAER,gBAACQ,GAAA,EAAD,CAAKE,GAAG,KAAKmC,GAAG,IAAInD,UAAU,4BAA9B,UAEI4I,EAAc,uCACV,8BAAKtI,EAAE,aACP,eAACwI,GAAD,IACA,qBACE/I,QAAS,kBAAM8I,GAAc,IAC7B7I,UAAU,sBAFZ,UAGEM,EAAE,0BAHJ,KAGgC,gCAAOA,EAAE,mBAG3C,uCACE,8BAAKA,EAAE,aACP,eAAC,GAAD,IACA,qBACEP,QAAS,kBAAM8I,GAAc,IAC7B7I,UAAU,sBAFZ,UAGEM,EAAE,8BAHJ,KAGoC,gCAAOA,EAAE,mBAInD,sBACEN,UAAU,yDACV+I,MAAO,CAAEC,MAAO,QAASC,OAAQ,UAFnC,SAIE,eAAC,GAAD,kB,oBCUCC,GA/Ce,SAAC,GAAuC,IAArCzK,EAAoC,EAApCA,kBAAmB0K,EAAiB,EAAjBA,WAClD,EAA8BjH,mBAAwB,MAAtD,oBAAOkH,EAAP,KAAgBC,EAAhB,KACO/M,EAAQiD,EAAeN,GAAvB3C,KAEDgN,EAAS,CAAC,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,WAQnIC,EAAgC9K,EAAkBqF,KAAI,SAACC,EAAIyF,GAAL,MAAgB,CACxE7F,MAAOI,EAAGgB,MACV0E,MAAOL,IAAYI,EAAQ,OAASF,EAAOE,GAC3C9B,QAAQ,GAAD,OAAc,OAATpL,EAAgByH,EAAGC,IAAIC,OAASF,EAAGC,IAAIE,OAA5C,aAAuDrC,GAAiBkC,EAAGgB,YAGtF,OACE,uCACE,eAAC,YAAD,CACE3K,KAAMmP,EACNR,MAAO,CAAEW,OAAQ,QAASV,MAAO,SACjCW,cAAe,GACfpG,MAAO,gBAAGqG,EAAH,EAAGA,UAAH,gBAAsBC,KAAKC,MAAMF,EAAUG,YAAcF,KAAKC,MAAMF,EAAUG,YAAc,KAA5F,MACPC,WAAYb,EACZc,WAAY,CACVC,SAAU,MACVC,KAAM,SAERC,YAAa,SAACrG,EAAIyF,GAChBH,EAAWG,IAEba,WAAY,WACVhB,EAAW,OAEbiB,cAAe,CAAEC,WAAY,aAAcC,OAAQ,aAErD,eAAC,KAAD,CACEC,WAAY,uBACS,kBAAZrB,EAAP,UAA8BG,EAAaH,UAA3C,aAA8B,EAAuB1B,QAAU,YC9B1DgD,GAdgB,SAAC,GAAgB,IAAfC,EAAc,EAAdA,SAC/B,OACE,eAAC9E,GAAA,EAAD,CAAM7F,UAAU,yCAAyC8F,GAAG,QAAQC,KAAK,OAAzE,SACE,eAACF,GAAA,EAAKG,KAAN,UACE,gBAACnF,GAAA,EAAD,WACA,eAACC,GAAA,EAAD,CAAKE,GAAG,IAAImC,GAAG,IAAInD,UAAU,eAA7B,SAA6C2K,EAAShI,QACtD,eAAC7B,GAAA,EAAD,CAAKE,GAAG,IAAImC,GAAG,IAAf,SAAoBtB,GAAiB8I,EAAShH,SAC9C,gBAAC7C,GAAA,EAAD,CAAKE,GAAG,IAAImC,GAAG,IAAf,UAAoBwH,EAASZ,WAA7B,eCCKa,GAAsB,SAAC,GAAkD,IAAhDnM,EAA+C,EAA/CA,kBAAmBwG,EAA4B,EAA5BA,sBAC/C3I,EAASiD,EAAeN,GAAxB3C,KAEFiN,EAAmC9K,EAAkBqF,KAAI,SAACC,EAAIyF,GAAL,MAAgB,CAC7E7G,MAAgB,OAATrG,EAAgByH,EAAGC,IAAIC,OAASF,EAAGC,IAAIE,OAC9CP,MAAOI,EAAGgB,MACVgF,WAAYF,KAAKC,MAAO,IAAM/F,EAAGgB,MAASE,IAA0B,SAItE,OACE,+BACGsE,EAAasB,MAAK,SAAChR,EAAGiR,GAAJ,OAAUA,EAAEnH,MAAQ9J,EAAE8J,SAAOG,KAAI,SAAA6G,GAAQ,OAAI,eAAC,GAAD,CAA+BA,SAAUA,GAA1BA,EAAShI,a,qBC+G/EoI,I,OA1HO,WACpB,IAAMpL,EAAWN,IACjB,EAKIE,EAAeH,GAJjBZ,EADF,EACEA,eACAC,EAFF,EAEEA,kBACAE,EAHF,EAGEA,wBACAC,EAJF,EAIEA,2BAEM0B,EAAMC,eAAND,EACR,EAAuBf,EAAeN,GAA9B/C,EAAR,EAAQA,KAAMI,EAAd,EAAcA,KACd,EAAsC4F,mBAAiB,CAAC,IAAI0C,KAAK1I,EAAKkJ,SAAU,IAAIR,OAApF,oBAAOoG,EAAP,KAAoBC,EAApB,KACA,EAAoC/I,oBAAkB,GAAtD,oBAAOgJ,EAAP,KAAmBC,EAAnB,KAWA,OATArI,qBAAU,WACRnD,EAASvB,KACTuB,EAASvE,EAAqB,CAAEgQ,KAAMJ,EAAY,GAAI/J,GAAI+J,EAAY,QACrE,IAEHlI,qBAAU,WACRnD,EAASvE,EAAqB,CAAEgQ,KAAMJ,EAAY,GAAI/J,GAAI+J,EAAY,QACrE,CAACA,IAEArM,GAA2BC,EACtB,eAAC,GAAD,IAIL,eAACgC,GAAA,EAAD,CAAWZ,UAAU,OAArB,SACGxB,GAAkBC,EACjB,gBAACoC,GAAA,EAAD,WACE,gBAACC,GAAA,EAAD,CAAKE,GAAG,KAAKD,GAAG,IAAhB,UACE,qBAAGf,UAAU,gCAAb,UAA8CM,EAAE,gBAAhD,OACA,sBAAKN,UAAU,gCAAf,SACE,eAAC,KAAD,CACEwD,SAAUyH,EACVI,UAAU,OACV1H,MAAOqH,EACP3F,OAAO,KACPiG,aAAc,KACdC,UAAW,KACXjG,OAAO,OACPkG,UAAU,OACVC,QAAS,IAAI7G,KAAK,KAAM,EAAG,GAC3B8G,QAAS,IAAI9G,SAGjB,uBAAK5E,UAAU,+BAA+B,WAAS,QAAvD,UACE,uBAAKA,UAAU,2BAAf,UACE,eAACgD,GAAA,EAAD,CACE2I,KAAK,KACL3L,UAAS,eAAUkL,EAAa,aAAe,IAC/C1J,QAAS0J,EAAa,UAAY,kBAClCnL,QAAS,kBAAMoL,GAAc,IAJ/B,SAMG7K,EAAE,eAEL,eAAC0C,GAAA,EAAD,CACE2I,KAAK,KACL3L,UAAWkL,EAAa,GAAK,aAC7B1J,QAAS0J,EAAa,kBAAoB,UAC1CnL,QAAS,kBAAMoL,GAAc,IAJ/B,SAMG7K,EAAE,aAIL1B,EACK,eAAC,GAAD,IAED,uCACE,qBAAGoB,UAAU,UAAb,UAAwBM,EAAE,4BAA1B,IACE,wBAAMN,UAAU,wBAAhB,cAA0CvB,EAAkB0K,iBAC7D+B,EACC,eAAC,GAAD,CACE/B,WAAY1K,EAAkB0K,WAC9B1K,kBAAmBA,EAAkBmN,sBAGvC,eAAC,GAAD,CACE3G,sBAAuBzG,EAAeyG,sBACtCxG,kBAAmBA,EAAkBmN,+BAOrD,gBAAC9K,GAAA,EAAD,CAAKE,GAAG,KAAKD,GAAG,IAAhB,UACE,qBAAGf,UAAU,oBAAb,UAAkCM,EAAE,qBAApC,OACA,uBAAKN,UAAU,QAAf,UACE,qBAAGA,UAAU,OAAb,UAAqBM,EAAE,4BAAvB,IACE,uBAAMN,UAAU,wBAAhB,SACDxB,EAAe0G,kBAEhB,qBAAGlF,UAAU,OAAb,UAAqBM,EAAE,oBAAvB,IACE,wBAAMN,UAAU,wBAAhB,cAA0CxB,EAAeyG,+BAG7D,uBAAKjF,UAAU,cAAf,UACE,qBAAGA,UAAU,OAAb,UAAqBM,EAAE,6BAAvB,IACE,uBAAMN,UAAU,wBAAhB,SACJxB,EAAeqN,iBAEb,qBAAG7L,UAAU,OAAb,UAAqBM,EAAE,qBAAvB,IACE,uBAAMN,UAAU,wBAAhB,SACHxB,EAAesN,0BAEd,qBAAG9L,UAAU,oBAAb,UAAkCM,EAAE,MAApC,IAA2C,uBACzCN,UAAU,aAD+B,6BAA3C,IACiDM,EAAE,SADnD,IAC6D,uBAC3DN,UAAU,wBADiD,SACxBmF,KAAOjJ,EAAKkJ,SAASC,OAAO/I,GAAMgJ,OAAO,oBAKpF,sBAAKtF,UAAU,+EAAf,SACE,6BAAIM,EAAE,+CCvCHyL,GArFF,WACX,IAAMpM,EAAWN,IACXe,EAAUC,eACRC,EAAMC,eAAND,EACApE,EAASqD,EAAeN,GAAxB/C,KACR,EAAwBgG,mBAA0B,IAAlD,oBAAOe,EAAP,KAAa+I,EAAb,KACA,EAAwB9J,mBAA0B,IAAlD,oBAAOgB,EAAP,KAAa+I,EAAb,KAEMnF,EAAe,SAACoF,GAAD,OAAmE,SAAC7H,IACnFxB,EAAeyB,KAAKD,EAAMzC,OAAO+B,QAAiC,KAAvBU,EAAMzC,OAAO+B,QAC1DuI,EAAO7H,EAAMzC,OAAO+B,SAIlBd,EAAiB,WAEvBC,qBAAU,WACJ5G,EAAKiQ,cACPxM,EAAS3D,OAEV,IAuBH,OACE,uCACE,iCAPY,kDAQZ,gBAAC4E,GAAA,EAAD,CAAWZ,UAAU,OAArB,UACE,oBAAGA,UAAU,gCAAb,SAA8CM,EAAE,sDAChD,gBAACO,GAAA,EAAD,CAAKb,UAAU,cAAf,UACE,gBAACc,GAAA,EAAD,CAAKE,GAAG,KAAK+B,GAAG,IAAI/C,UAAU,eAA9B,UACE,qBAAGA,UAAU,eAAb,UAA6BM,EAAE,yBAA/B,OACA,eAAC6D,GAAA,EAAD,CACEvJ,KAAK,OACLwJ,YAAa9D,EAAE,eACfqD,MAAOV,EACPO,SAAUsD,EAAakF,QAG3B,gBAAClL,GAAA,EAAD,CAAKE,GAAG,KAAK+B,GAAG,IAAhB,UACE,qBAAG/C,UAAU,eAAb,UAA6BM,EAAE,yBAA/B,OACA,eAAC6D,GAAA,EAAD,CACEvJ,KAAK,OACLwJ,YAAa9D,EAAE,eACfqD,MAAOT,EACPM,SAAUsD,EAAamF,QAG3B,gBAACnL,GAAA,EAAD,CAAKE,GAAG,KAAKhB,UAAU,mBAAvB,UACE,qBAAGA,UAAU,iBAAb,UAA+BM,EAAE,sBAAjC,OACA,eAAC0C,GAAA,EAAD,CACExB,QAAQ,UACRxB,UAAU,oBACVD,QAlDO,WACjB,GAAa,KAATkD,GAAwB,KAATC,EACjB,OAAO5I,YAAMgG,EAAE,2BAA4B,CACzC/F,SAAU,YACVC,UAAW,KACXC,iBAAiB,EACjBC,cAAc,EACdC,MAAO,OACPC,KAAM,UAIV+E,EAAS9E,EAAiB,CAAEoI,KAAMsB,OAAOtB,GAAOC,KAAMqB,OAAOrB,MAC7D9C,EAAQsB,KAAK,MAkCL,SAKGpB,EAAE,gBAEL,oBAAGN,UAAU,2DACVD,QAAS,kBAAMK,EAAQsB,KAAK,MAD/B,SACsCpB,EAAE,uBC3CrC8L,GA5BkB,SAAC,GAAgB,IAAdjQ,EAAa,EAAbA,OAC1BC,EAAqBmD,EAAeN,GAApC7C,iBAER,OAAe,OAAXD,GAAmBC,EACd,eAAC,GAAD,CAAQ8J,YAAY,IAI3B,qCACG/J,EACG,gBAAC,KAAD,WACE,eAAC,KAAD,CAAOkQ,KAAK,aAAaC,UAAWvB,KACpC,eAAC,KAAD,CAAOsB,KAAK,qBAAqBC,UAAWrK,KAC5C,eAAC,KAAD,CAAOoK,KAAK,QAAQC,UAAW7F,KAC/B,eAAC,KAAD,CAAO4F,KAAK,kBAAkBC,UAAWP,KACzC,eAAC,KAAD,CAAU9K,GAAG,aAIf,gBAAC,KAAD,WACE,eAAC,KAAD,CAAOoL,KAAK,iBAAiBC,UAAW3D,KACxC,eAAC,KAAD,CAAU1H,GAAG,yBCOVsL,I,cAhCH,WACV,IAAMnM,EAAUC,eACVV,EAAWN,IACjB,EAAyBE,EAAeN,GAAhC9C,EAAR,EAAQA,OAAQD,EAAhB,EAAgBA,KAkBhB,OAhBA4G,qBAAU,WACR,IAAM0J,EAAQ/S,aAAaC,QAAQ,SAGjCiG,EADE6M,EACOzQ,IAEAgB,GAAQ,MAElB,IAEH+F,qBAAU,WACJ3G,GAAUD,EAAKiQ,cACjB/L,EAAQsB,KAAK,qBAEd,CAACvF,EAAQD,IAGV,uCACGC,IAAiC,KAAnB,OAAJD,QAAI,IAAJA,OAAA,EAAAA,EAAMiQ,eAA0B,eAAC,GAAD,IAC3C,eAAC,GAAD,CAAWhQ,OAAQA,IACnB,eAAC,IAAD,CACEoO,WAAYkC,W,6BC5BdC,GAAU,CAEdC,MAAO,CAAE,YAAa,UAAW,OAAQ,aAGzCC,kBAAmB,MACnBC,aAAc,UACdC,mBAAoB,aACpBC,oBAAqB,EACrBC,yBAA0B,EAG1BC,OAAQ,CAAC,eAAgB,UACzBC,gBAAiB,CAAC,UAGlBC,cAAe,GACfC,aAAc,WAGdC,QAASC,SAASC,gBAGlBC,gBAAgB,GAGlBC,KACGlU,IAAImU,MAEJnU,IAAIoU,MAEJpU,IAAIqU,MAEJ7F,KAAK,CACJ8F,QAAS,CACPC,SAAU,kDAEZC,IAAKtU,aAAcC,QAAQ,eAAiB,KAC5CsU,YA1CgB,CAAC,MA2CjBC,UA1CuB,CAAC,KAAM,MA2C9BC,UAAWxB,GAEXyB,cAAe,CACbC,aAAa,KAIJX,GAAf,EC9CAY,IAASlH,OACP,eAAC,IAAD,CAAUrI,MAAOA,EAAjB,SACA,eAAC,IAAMwP,WAAP,UACE,eAAC,IAAD,UACE,eAAC,WAAD,CAAUC,SAAU,kBAAM,eAAC,GAAD,CAAQrI,YAAY,KAA9C,SACE,eAAC,GAAD,YAKNoH,SAASkB,eAAe,W","file":"static/js/main.381d623c.chunk.js","sourcesContent":["import axios from 'axios'\r\nimport { loginResponseType } from '../types/user.type';\r\nimport { toast } from \"react-toastify\";\r\n\r\nconst baseUrl:string = 'https://young-beyond-74584.herokuapp.com'\r\n\r\nconst axiosInstance = axios.create({\r\n  withCredentials: true,\r\n  baseURL: `${baseUrl}/api`,\r\n  headers: {\r\n    \"Content-type\": \"application/json\"\r\n  }\r\n\r\n})\r\n\r\naxiosInstance.interceptors.request.use((config) => {\r\n  if (localStorage.getItem('token')) {\r\n    config.headers.Authorization = `Bearer ${localStorage.getItem('token')}`\r\n  }\r\n  return config;\r\n})\r\n\r\naxiosInstance.interceptors.response.use((config) => {\r\n  return config;\r\n}, async (error) => {\r\n  const originalRequest = error.config;\r\n  if (error.response.status === 401 && error.config && !error.config._isRetry) {\r\n    originalRequest._isRetry = true;\r\n    try {\r\n      const response = await axios.get<loginResponseType>(`${baseUrl}/api/user/refresh`, { withCredentials: true })\r\n      localStorage.setItem('token', response.data.accessToken);\r\n      return axiosInstance.request(originalRequest);\r\n    } catch (e) {\r\n      toast(localStorage.getItem('i18nextLng') === 'en'\r\n        ? 'Your session has expired'\r\n        : 'Время сессии истекло', {\r\n        position: \"top-right\",\r\n        autoClose: 2500,\r\n        hideProgressBar: true,\r\n        closeOnClick: true,\r\n        theme: 'dark',\r\n        type: 'warning'\r\n      })\r\n    }\r\n  }\r\n  throw error;\r\n})\r\n\r\nexport default axiosInstance","import api from './axiosInstance'\r\nimport { authData, loginResponseType, updateUserResponseType, signUpResponseType } from \"../types/user.type\";\r\nimport { AxiosResponse } from 'axios';\r\nimport { categoryResponseType } from \"../types/category.type\";\r\nimport { addTransactionResponseType, getTransactionsResponseType, transactionType } from \"../types/transaction.type\";\r\nimport {\r\n  getGeneralStatisticResponseType,\r\n  getStatisticForRangeResponseType,\r\n  getWholeStatisticResponseType\r\n} from \"../types/statistic.type\";\r\n\r\n/* user requests */\r\nexport const signUp = (body: authData): Promise<AxiosResponse<signUpResponseType>> => api.post('/user/signUp', body)\r\nexport const logIn = (body: authData): Promise<AxiosResponse<loginResponseType>> => api.post('/user/logIn', body)\r\nexport const logOut = (): Promise<AxiosResponse<void>> => api.post('/user/logOut')\r\nexport const refresh = (): Promise<AxiosResponse<loginResponseType>> => api.get('/user/refresh')\r\nexport const setFirstEnter = (): Promise<AxiosResponse<updateUserResponseType>> => api.patch('/user/setFirstEnter')\r\nexport const setInitialValues = (body:{card:number, cash:number}): Promise<AxiosResponse<updateUserResponseType>> => api.patch('/user/setInitialValues', body)\r\n\r\n/*transaction requests*/\r\nexport const addTransaction = (body: { transaction: transactionType }): Promise<AxiosResponse<addTransactionResponseType>> => api.post('/transaction/addNewTransaction', body)\r\nexport const getAllUserTransactions = (body: {limit: number, numberToSkip: number}): Promise<AxiosResponse<getTransactionsResponseType>> => api.post('/transaction/getAllUserTransactions', body)\r\n\r\n/*statistic requests*/\r\nexport const getGeneralStatistic = (): Promise<AxiosResponse<getGeneralStatisticResponseType>> => api.get('/statistic/getGeneralStatistic')\r\nexport const getWholeStatistic = (): Promise<AxiosResponse<getWholeStatisticResponseType>> => api.get('/statistic/getWholeStatistic')\r\nexport const getStatisticForRange = (body: { from: Date, to: Date }): Promise<AxiosResponse<getStatisticForRangeResponseType>> => api.post('/statistic/getStatisticForRange', body)\r\n\r\n/*category requests*/\r\nexport const getCategories = (): Promise<AxiosResponse<categoryResponseType>> => api.get('/category/getCategories')","import { createAsyncThunk, createSlice, PayloadAction } from '@reduxjs/toolkit'\r\nimport axios, { AxiosResponse } from 'axios'\r\nimport * as api from '../../api/index'\r\nimport {\r\n  authData,\r\n  loginResponseType,\r\n  updateUserResponseType,\r\n  signUpResponseType,\r\n  userType\r\n} from \"../../types/user.type\"\r\nimport { toast } from \"react-toastify\";\r\nimport { addTransactionResponseType, transactionType } from \"../../types/transaction.type\";\r\n\r\nexport const signUp = createAsyncThunk<signUpResponseType,\r\n  authData,\r\n  {\r\n    rejectValue: signUpResponseType\r\n  }>(\r\n  'user/signUp',\r\n  //todo:fix this\r\n  //@ts-ignore\r\n  async (signUpData, thunkApi) => {\r\n    try {\r\n      const res = await api.signUp(signUpData);\r\n      return res.data\r\n    } catch (e) {\r\n      if (axios.isAxiosError(e)) {\r\n        return thunkApi.rejectWithValue(e.response?.data)\r\n      }\r\n    }\r\n  })\r\n\r\n\r\nexport const logIn = createAsyncThunk<loginResponseType\r\n  , authData,\r\n  {\r\n    rejectValue: signUpResponseType\r\n  }>(\r\n  'user/logIn',\r\n  //todo:fix this\r\n  //@ts-ignore\r\n  async (loginData: authData, thunkApi) => {\r\n    try {\r\n      const res = await api.logIn(loginData)\r\n      return res.data\r\n    } catch (e) {\r\n      if (axios.isAxiosError(e)) {\r\n        return thunkApi.rejectWithValue(e.response?.data)\r\n      }\r\n    }\r\n  }\r\n)\r\n\r\nexport const logOut = createAsyncThunk(\r\n  'user/logOut',\r\n  async (): Promise<AxiosResponse<void>> => await api.logOut(),\r\n)\r\n\r\nexport const checkAuth = createAsyncThunk(\r\n  'user/refresh',\r\n  async (): Promise<AxiosResponse<loginResponseType>> => await api.refresh(),\r\n)\r\n\r\n//todo: think again about logic of adding transaction\r\nexport const addTransaction = createAsyncThunk(\r\n  'transaction/addTransaction',\r\n  async (body: { transaction: transactionType }): Promise<AxiosResponse<addTransactionResponseType>> => await api.addTransaction(body),\r\n)\r\n\r\nexport const setFirstEnter = createAsyncThunk(\r\n  'user/setFirstEnter',\r\n  async (): Promise<AxiosResponse<updateUserResponseType>> => await api.setFirstEnter()\r\n)\r\n\r\n\r\nexport const setInitialValues = createAsyncThunk(\r\n  'user/setInitialValues',\r\n  async (body:{card: number, cash: number}): Promise<AxiosResponse<updateUserResponseType>> => await api.setInitialValues(body)\r\n)\r\n\r\nexport type userState = {\r\n  user: userType,\r\n  isAuth: boolean | null,\r\n  isRefreshLoading: boolean,\r\n  isSignUpSignInLoading: boolean\r\n  lang: string,\r\n}\r\n\r\nconst initialState: userState = {\r\n  user: {} as userType,\r\n  isAuth: null,\r\n  isRefreshLoading: false,\r\n  isSignUpSignInLoading: false,\r\n  lang: localStorage.getItem('i18nextLng') || 'en'\r\n}\r\n\r\nconst userReducer = createSlice({\r\n  name: 'user',\r\n  initialState,\r\n  reducers: {\r\n    changeLang: (state: userState, action: PayloadAction<string>) => {\r\n      state.lang = action.payload\r\n    },\r\n    setAuth: (state: userState, action: PayloadAction<boolean>) => {\r\n      state.isAuth = action.payload\r\n    }\r\n  },\r\n  extraReducers: (builder => {\r\n    builder.addCase(signUp.fulfilled, (state, action) => {\r\n      state.isSignUpSignInLoading = false\r\n\r\n      toast(localStorage.getItem('i18nextLng') === 'en'\r\n        ? action.payload.messageEn\r\n        : action.payload.messageRu\r\n        , {\r\n          position: \"top-right\",\r\n          autoClose: 2500,\r\n          hideProgressBar: true,\r\n          closeOnClick: true,\r\n          theme: 'dark',\r\n          type: 'success'\r\n        })\r\n    })\r\n\r\n    builder.addCase(signUp.rejected, (state, action) => {\r\n      state.isSignUpSignInLoading = false\r\n\r\n      toast(localStorage.getItem('i18nextLng') === 'en'\r\n        ? action.payload?.messageEn\r\n        : action.payload?.messageRu, {\r\n        position: \"top-right\",\r\n        autoClose: 2500,\r\n        hideProgressBar: true,\r\n        closeOnClick: true,\r\n        theme: 'dark',\r\n        type: 'error'\r\n      })\r\n    })\r\n\r\n    builder.addCase(signUp.pending, (state) => {\r\n      state.isSignUpSignInLoading = true\r\n    })\r\n\r\n    builder.addCase(logIn.pending, (state) => {\r\n      state.isSignUpSignInLoading = true\r\n    })\r\n\r\n    builder.addCase(logIn.fulfilled, (state, action) => {\r\n      state.isSignUpSignInLoading = false\r\n\r\n      localStorage.setItem('token', action.payload.accessToken)\r\n      state.user = action.payload.user\r\n      state.isAuth = true\r\n    })\r\n\r\n    builder.addCase(logIn.rejected, (state, action) => {\r\n      state.isSignUpSignInLoading = false\r\n\r\n      toast(localStorage.getItem('i18nextLng') === 'en'\r\n        ? action.payload?.messageEn\r\n        : action.payload?.messageRu, {\r\n        position: \"top-right\",\r\n        autoClose: 2500,\r\n        hideProgressBar: true,\r\n        closeOnClick: true,\r\n        theme: 'dark',\r\n        type: 'error'\r\n      })\r\n    })\r\n\r\n    builder.addCase(logOut.fulfilled, (state) => {\r\n      localStorage.removeItem('token')\r\n      state.user = {} as userType\r\n      state.isAuth = false\r\n    })\r\n\r\n    builder.addCase(checkAuth.pending, (state) => {\r\n      state.isRefreshLoading = true\r\n    })\r\n\r\n    builder.addCase(checkAuth.rejected, (state) => {\r\n      state.isRefreshLoading = false\r\n    })\r\n\r\n    builder.addCase(checkAuth.fulfilled, (state, action) => {\r\n      state.isRefreshLoading = false\r\n\r\n      localStorage.setItem('token', action.payload.data.accessToken)\r\n      state.user = action.payload.data.user\r\n      state.isAuth = true\r\n    })\r\n\r\n    builder.addCase(addTransaction.fulfilled, (state, action) => {\r\n      state.user = action.payload.data.updatedUser\r\n\r\n      toast(localStorage.getItem('i18nextLng') === 'en'\r\n        ? action.payload?.data.messageEn\r\n        : action.payload?.data.messageRu, {\r\n        position: \"top-right\",\r\n        autoClose: 2500,\r\n        hideProgressBar: true,\r\n        closeOnClick: true,\r\n        theme: 'dark',\r\n        type: 'success'\r\n      })\r\n    })\r\n\r\n    builder.addCase(setFirstEnter.fulfilled, (state, action) => {\r\n      state.user = action.payload.data.user\r\n    })\r\n\r\n    builder.addCase(setInitialValues.fulfilled, (state, action) => {\r\n      state.user = action.payload.data.user\r\n\r\n      toast(localStorage.getItem('i18nextLng') === 'en'\r\n        ? action.payload?.data.messageEn\r\n        : action.payload?.data.messageRu, {\r\n        position: \"top-right\",\r\n        autoClose: 2500,\r\n        hideProgressBar: true,\r\n        closeOnClick: true,\r\n        theme: 'dark',\r\n        type: 'success'\r\n      })\r\n    })\r\n  })\r\n})\r\n\r\nexport const { changeLang, setAuth } = userReducer.actions\r\n\r\nexport default userReducer.reducer","import { createAsyncThunk, createSlice } from '@reduxjs/toolkit'\r\nimport { AxiosResponse } from 'axios'\r\nimport * as api from '../../api/index'\r\nimport { categoryResponseType, categoryType } from \"../../types/category.type\";\r\n\r\n\r\nexport const getCategories = createAsyncThunk(\r\n  'category/getCategories',\r\n  async (): Promise<AxiosResponse<categoryResponseType>> => await api.getCategories(),\r\n)\r\n\r\nexport type categoryState = {\r\n  categories: categoryType[],\r\n}\r\n\r\nconst initialState: categoryState = {\r\n  categories: [] as categoryType[],\r\n}\r\n\r\nconst categoryReducer = createSlice({\r\n  name: 'category',\r\n  initialState,\r\n  reducers: {},\r\n  extraReducers: (builder => {\r\n    builder.addCase(getCategories.fulfilled, (state, action) => {\r\n      state.categories = action.payload.data.categories\r\n    })\r\n\r\n  })\r\n})\r\n\r\nexport default categoryReducer.reducer","import { createAsyncThunk, createSlice } from '@reduxjs/toolkit'\r\nimport { AxiosResponse } from 'axios'\r\nimport * as api from '../../api/index'\r\nimport { getTransactionsResponseType, transactionType } from \"../../types/transaction.type\";\r\n\r\nexport const getAllUserTransactions = createAsyncThunk(\r\n  'transaction/getAllUserTransactions',\r\n  async (body: { limit: number, numberToSkip: number }): Promise<AxiosResponse<getTransactionsResponseType>> => await api.getAllUserTransactions(body),\r\n)\r\n\r\nexport type transactionState = {\r\n  isTransactionsloading: boolean,\r\n  numberOfTransactions: number,\r\n  transactions: transactionType[],\r\n}\r\n\r\nconst initialState: transactionState = {\r\n  isTransactionsloading: false,\r\n  numberOfTransactions: 0,\r\n  transactions: [] as transactionType[],\r\n}\r\n\r\nconst transactionReducer = createSlice({\r\n  name: 'transaction',\r\n  initialState,\r\n  reducers: {\r\n    resetTransactions: (state) => {\r\n      state.transactions = []\r\n    }\r\n  },\r\n  extraReducers: (builder => {\r\n    builder.addCase(getAllUserTransactions.pending, (state) => {\r\n      state.isTransactionsloading = true\r\n    })\r\n\r\n    builder.addCase(getAllUserTransactions.fulfilled, (state, action) => {\r\n      state.isTransactionsloading = false\r\n      state.transactions = [...state.transactions, ...action.payload.data.transactions]\r\n      state.numberOfTransactions = action.payload.data.numberOfTransactions || 0\r\n    })\r\n\r\n    builder.addCase(getAllUserTransactions.rejected, (state) => {\r\n      state.isTransactionsloading = false\r\n    })\r\n  })\r\n})\r\n\r\nexport const { resetTransactions } = transactionReducer.actions\r\n\r\nexport default transactionReducer.reducer","import { createAsyncThunk, createSlice } from '@reduxjs/toolkit'\r\nimport { AxiosResponse } from 'axios'\r\nimport * as api from '../../api/index'\r\nimport {\r\n  generalStatisticType,\r\n  getGeneralStatisticResponseType,\r\n  getStatisticForRangeResponseType,\r\n  getWholeStatisticResponseType,\r\n  statisticForRangeType,\r\n  wholeStatisticType\r\n} from \"../../types/statistic.type\";\r\n\r\nexport const getGeneralStatistic = createAsyncThunk(\r\n  'statistic/getGeneralStatistic',\r\n  async (): Promise<AxiosResponse<getGeneralStatisticResponseType>> => await api.getGeneralStatistic()\r\n)\r\n\r\nexport const getWholeStatistic = createAsyncThunk(\r\n  'statistic/getWholeStatistic',\r\n  async (): Promise<AxiosResponse<getWholeStatisticResponseType>> => await api.getWholeStatistic()\r\n)\r\n\r\nexport const getStatisticForRange = createAsyncThunk(\r\n  'statistic/getStatisticForRange',\r\n  async (body: { from: Date, to: Date }): Promise<AxiosResponse<getStatisticForRangeResponseType>> => await api.getStatisticForRange(body)\r\n)\r\n\r\nexport type statisticState = {\r\n  loading: boolean,\r\n  generalStatistic: generalStatisticType | null,\r\n  wholeStatistic: wholeStatisticType | null,\r\n  statisticForRange: statisticForRangeType | null\r\n  isGeneralStatisticLoading: boolean,\r\n  isWholeStatisticLoading: boolean,\r\n  isStatisticForRangeLoading: boolean,\r\n}\r\n\r\nconst initialState: statisticState = {\r\n  loading: false,\r\n  generalStatistic: null,\r\n  wholeStatistic: null,\r\n  statisticForRange: null,\r\n  isGeneralStatisticLoading: false,\r\n  isWholeStatisticLoading: false,\r\n  isStatisticForRangeLoading: false,\r\n}\r\n\r\nconst statisticReducer = createSlice({\r\n  name: 'statistic',\r\n  initialState,\r\n  reducers: {},\r\n  extraReducers: (builder => {\r\n    builder.addCase(getGeneralStatistic.pending, (state) => {\r\n      state.isGeneralStatisticLoading = true\r\n    })\r\n\r\n    builder.addCase(getGeneralStatistic.fulfilled, (state, action) => {\r\n      state.isGeneralStatisticLoading = false\r\n      state.generalStatistic = action.payload.data.statistic\r\n    })\r\n\r\n    builder.addCase(getGeneralStatistic.rejected, (state)=>{\r\n      state.isGeneralStatisticLoading = false\r\n    })\r\n\r\n    builder.addCase(getWholeStatistic.pending, (state) => {\r\n      state.isWholeStatisticLoading = true\r\n    })\r\n\r\n    builder.addCase(getWholeStatistic.fulfilled, (state, action) => {\r\n      state.isWholeStatisticLoading = false\r\n      state.wholeStatistic = action.payload.data.statistic\r\n    })\r\n\r\n    builder.addCase(getWholeStatistic.rejected, (state) => {\r\n      state.isWholeStatisticLoading = false\r\n    })\r\n\r\n    builder.addCase(getStatisticForRange.pending, (state) => {\r\n      state.isStatisticForRangeLoading = true\r\n    })\r\n\r\n    builder.addCase(getStatisticForRange.fulfilled, (state, action) => {\r\n      state.isStatisticForRangeLoading = false\r\n      state.statisticForRange = action.payload.data.statistic\r\n    })\r\n\r\n    builder.addCase(getStatisticForRange.rejected, (state) => {\r\n      state.isStatisticForRangeLoading = false\r\n    })\r\n  })\r\n})\r\n\r\n\r\nexport default statisticReducer.reducer","import { configureStore } from '@reduxjs/toolkit'\r\nimport userReducer from \"./reducers/user.reducer\";\r\nimport categoryReducer from \"./reducers/category.reducer\";\r\nimport transactionReducer from \"./reducers/transaction.reducer\";\r\nimport statisticReducer from \"./reducers/statistic.reducer\";\r\n\r\n\r\nconst store = configureStore({\r\n  reducer: {\r\n    userData: userReducer,\r\n    categoryDate: categoryReducer,\r\n    transactionData: transactionReducer,\r\n    statisticData: statisticReducer\r\n  }\r\n})\r\n\r\nexport type RootState = ReturnType<typeof store.getState>\r\nexport type AppDispatch = typeof store.dispatch\r\n\r\nexport default store","import { AppDispatch, RootState } from \"../store\"\r\nimport { TypedUseSelectorHook, useDispatch, useSelector } from \"react-redux\";\r\n\r\nexport const useAppDispatch = () => useDispatch<AppDispatch>()\r\nexport const useAppSelector: TypedUseSelectorHook<RootState> = useSelector\r\n","import { RootState } from \"./index\";\r\n\r\nexport const userData = (state:RootState) => state.userData\r\nexport const categoryData = (state:RootState) => state.categoryDate\r\nexport const transactionData = (state:RootState) => state.transactionData\r\nexport const statisticData = (state:RootState) => state.statisticData\r\n","export default __webpack_public_path__ + \"static/media/logo.9b355c54.png\";","import React from 'react';\r\nimport { changeLang } from \"../../store/reducers/user.reducer\";\r\nimport i18next from \"i18next\";\r\nimport enFlag from \"../../images/en.png\";\r\nimport ruFlag from \"../../images/ru.png\";\r\nimport { userData } from \"../../store/selectors\";\r\nimport { useAppDispatch, useAppSelector } from \"../../hooks/react-redux.hook\";\r\n\r\nconst LanguageSwitcher = () => {\r\n  const dispatch = useAppDispatch()\r\n  const { lang } = useAppSelector(userData)\r\n\r\n  const handleLangChange = (lang: string) => () => {\r\n    dispatch(changeLang(lang))\r\n    i18next.changeLanguage(lang)\r\n  }\r\n\r\n  return (\r\n    <>\r\n      <span\r\n        onClick={handleLangChange('en')}\r\n        className={lang === 'en' ? 'activeLang' : ''}\r\n      >\r\n                    <img src={enFlag} alt='en'/>\r\n                  </span>\r\n      <span\r\n        onClick={handleLangChange('ru')}\r\n        className={lang === 'ru' ? 'activeLang' : ''}\r\n      >\r\n                    <img src={ruFlag} alt='en'/>\r\n                  </span>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default LanguageSwitcher;","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAMAAABEpIrGAAAAA3NCSVQICAjb4U/gAAAACXBIWXMAAADdAAAA3QFwU6IHAAAAGXRFWHRTb2Z0d2FyZQB3d3cuaW5rc2NhcGUub3Jnm+48GgAAAThQTFRF////+5CWpG6Y+4WMum+RlGOUQUebQkibQkicRkueRkydR02dR02eSE2eSE6eSE6fSU+fSlCfSlCgTFGgTFKhTVKgTVOhTlOhTlSiT1WiUVWhUVajUVejUkeVUkqXUk6bUlGeUlOgUlejUlikU0eUU1ikVFqkVVqlVlumV1ymWV6nXGGoXmOpX2SqYGWqYGWrYWarYmesY2isZE2TZGmsZmqtZmuuZ2uuaG2uaW2vam+va3CwbHGxbXGxbXKxbnOyb3OycHSycHWzcXWzcnazdHi0dXm1d3y2eHy3en64e3+4fIC4foK6gl2WiIy/io7Ai4/AjZDBkFaKlZjFl5rGmJvGmZzHnaDJoKLKoKPLoaTLoqTLo6bMpKfMpafNpajN9fDw9fX19uDh+Lq++MrN+5CW/Wpy/0tV1Uw64AAAAAZ0Uk5TAIqwuMzZ24+8ogAAAOpJREFUOMtjYBgKgIkVGbAwowFGBjZ+NjYeOFJJRwcMHPE8vHECXLECnFEC3DFSSeiAgU3E1VHY3V7Yy0bYx1JYMQUdMHBECwlGifJFivOEi/FFyGJawabkYqfqZqfkbq3kZaGkkIwOGDjClGVC1SRDNSSCNSRDpBPQAQO7gZW5ga25gYOZvouRPjYrArU0A7TV/XVV/fRV/eVT0QEDh7OhnrOJrrOpnpOFjpNMIjpgYPNmY/MEIw8gKZeGDhh8jZFBEKaCRAKAIZUAYEgnABgSCACGZAKAsBUpBABDEgFA2ApGZryAcUjkPABWg9YaCJi69wAAAABJRU5ErkJggg==\"","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAABHNCSVQICAgIfAhkiAAAAAlwSFlzAAAA7AAAAOwBeShxvQAAABl0RVh0U29mdHdhcmUAd3d3Lmlua3NjYXBlLm9yZ5vuPBoAAACWSURBVFiF7ZMrDsJQFETn3Vw+BoFAsQQca8Kj2AQodA17qcBhSNgCoiEvDaQp0Fyw7GBIOmcD5ySTAUTfSZ+mmSNiRrGbVY6IDVJaUwIi9kYR/6AABdADfHsc5XuLE0M+GSP7tcYUwJIR8HiipE+gAAX44nbJg3hRbvi2YfbVuaDdENANFaAAwNF1O5gdKPaIiuIVf8UX88QnAAqjY10AAAAASUVORK5CYII=\"","import React from 'react'\r\nimport { Link, NavLink, useHistory } from 'react-router-dom';\r\nimport './header.scss'\r\nimport logo from '../../images/logo.png'\r\nimport { useAppDispatch, useAppSelector } from '../../hooks/react-redux.hook';\r\nimport { logOut } from '../../store/reducers/user.reducer';\r\nimport { Col, Container, Dropdown, Row } from 'react-bootstrap';\r\nimport { useTranslation } from \"react-i18next\";\r\nimport LanguageSwitcher from \"./LanguageSwitcher\";\r\n\r\nconst AppHeader = () => {\r\n  const dispatch = useAppDispatch()\r\n  const history = useHistory()\r\n  const {t} = useTranslation()\r\n\r\n  const handleLogout = () => {\r\n    dispatch(logOut())\r\n    history.push('/authorization')\r\n  }\r\n\r\n  //todo: fix any\r\n  const customToggle = React.forwardRef <HTMLDivElement>(({ onClick }: any, ref) => (\r\n    <div className='dropdownMenu'>\r\n      <div\r\n        className='menuTogglerContainer'\r\n        ref={ref}\r\n        onClick={onClick}\r\n      >\r\n        <span/>\r\n      </div>\r\n    </div>\r\n  ));\r\n\r\n  return (\r\n    <header>\r\n      <Container>\r\n        <Row>\r\n          <Col md='3' xs='6' className='logo'>\r\n            <Link to='/'>\r\n              <img src={logo} alt='app logo'/>\r\n              Billionstracker\r\n            </Link>\r\n          </Col>\r\n          <Col md='6' xs='12' className='menu order-1 order-md-0'>\r\n            <ul className='m-0 p-0'>\r\n              <li><NavLink to='/home'>{t('Profile')}</NavLink></li>\r\n              <li><NavLink to='/createTransaction'>{t('New transaction')}</NavLink></li>\r\n              <li><NavLink to='/statistic'>{t('Statistic')}</NavLink></li>\r\n            </ul>\r\n          </Col>\r\n          <Col md='3' xs='6'>\r\n            <Dropdown>\r\n              <Dropdown.Toggle as={customToggle} id='dropdown-custom-components'/>\r\n              <Dropdown.Menu variant='dark'>\r\n                <Dropdown.Item\r\n                  as='span'\r\n                  className='d-flex justify-content-around languagesController'\r\n                >\r\n                <LanguageSwitcher/>\r\n                </Dropdown.Item>\r\n                <Dropdown.Item as='span' onClick={() => history.push('/home')}>{t('Home')}</Dropdown.Item>\r\n                <Dropdown.Item href='https://t.me/qeorqe' target='_blank'>{t('Support')} </Dropdown.Item>\r\n                <Dropdown.Item as='span' onClick={handleLogout}>{t('Log out')}</Dropdown.Item>\r\n              </Dropdown.Menu>\r\n            </Dropdown>\r\n          </Col>\r\n        </Row>\r\n\r\n      </Container>\r\n    </header>\r\n  )\r\n}\r\n\r\nexport default AppHeader","export const formattingNumber = (number: number): string => (\r\n  String(number).replace(/\\B(?=(\\d{3})+(?!\\d))/g, ' ')\r\n)\r\n","import React, { useEffect, useState } from 'react'\r\nimport { Button, Col, Container, Form, FormControl, Row } from \"react-bootstrap\"\r\nimport { categoryData, userData } from \"../../store/selectors\"\r\nimport { formattingNumber } from \"../../helpers/index.js\"\r\nimport { useAppDispatch, useAppSelector } from \"../../hooks/react-redux.hook\"\r\nimport { addTransaction } from \"../../store/reducers/user.reducer\"\r\nimport { transactionType } from \"../../types/transaction.type\"\r\nimport { getCategories } from \"../../store/reducers/category.reducer\"\r\nimport './transaction.scss'\r\nimport { useTranslation } from \"react-i18next\";\r\nimport { toast } from \"react-toastify\";\r\n\r\nconst CreateTransaction = () => {\r\n  const { user, lang } = useAppSelector(userData)\r\n  const { categories } = useAppSelector(categoryData)\r\n  const [useCard, setUseCard] = useState<boolean>(true)\r\n  const [isExpense, setIsExpense] = useState<boolean>(true)\r\n  const [categoryId, setCategoryId] = useState<string>('')\r\n  const [sum, setSum] = useState<number | string>('')\r\n  const [title, setTitle] = useState<string>('')\r\n  const { t } = useTranslation()\r\n  const dispatch = useAppDispatch()\r\n\r\n\r\n  const validateSumReg = /^((?!(0))[0-9]+)$/;\r\n\r\n  const handleChangeSum = (event: React.ChangeEvent<HTMLInputElement>) => {\r\n    if (validateSumReg.test(event.target.value) || event.target.value === '') {\r\n      setSum(event.target.value)\r\n    }\r\n  }\r\n\r\n  const handleChangeTitle = (event: React.ChangeEvent<HTMLInputElement>) => {\r\n    setTitle(event.target.value)\r\n  }\r\n\r\n  const handleSubmit = () => {\r\n    if (!sum || !categoryId || !title) {\r\n      return toast(t('All fields are required'), {\r\n        position: \"top-right\",\r\n        autoClose: 2500,\r\n        hideProgressBar: true,\r\n        closeOnClick: true,\r\n        theme: 'dark',\r\n        type: 'error'\r\n      })\r\n    }\r\n\r\n    if(isExpense){\r\n      if ((useCard && user.card < sum) || (!useCard && user.cash < sum)){\r\n        return toast(t('You don\\'t have this much'), {\r\n          position: \"top-right\",\r\n          autoClose: 2500,\r\n          hideProgressBar: true,\r\n          closeOnClick: true,\r\n          theme: 'dark',\r\n          type: 'error'\r\n        })\r\n      }\r\n\r\n      if(Number(sum) === 0){\r\n        return toast(t('You don\\'t have this much'), {\r\n          position: \"top-right\",\r\n          autoClose: 2500,\r\n          hideProgressBar: true,\r\n          closeOnClick: true,\r\n          theme: 'dark',\r\n          type: 'error'\r\n        })\r\n      }\r\n    }\r\n    const newTransaction: transactionType = {\r\n      title: title,\r\n      ownerId: user._id,\r\n      isCard: useCard,\r\n      isExpense: isExpense,\r\n      sum: Number(sum),\r\n      category: categoryId,\r\n      date: new Date()\r\n    }\r\n\r\n    dispatch(addTransaction({ transaction: newTransaction }))\r\n  }\r\n\r\n  useEffect(() => {\r\n    dispatch(getCategories())\r\n  }, [])\r\n\r\n  return (\r\n    <>\r\n      <Container className='py-md-4 my-4'>\r\n        <Row>\r\n          <p className='mb-1 fs-4 text-center fw-bold'>{t('Select operation type')}:</p>\r\n          <Col xs='12' lg='5' className='mx-auto d-flex'>\r\n            <div className='w-50 text-center'>\r\n              <Button\r\n                variant={isExpense ? 'danger' : 'outline-danger'}\r\n                className='w-75'\r\n                onClick={() => {\r\n                  setIsExpense(true)\r\n                  setCategoryId('')\r\n                }}\r\n              >\r\n                {t('expense')}\r\n              </Button>\r\n            </div>\r\n            <div className='w-50 text-center'>\r\n              <Button\r\n                variant={!isExpense ? 'success' : 'outline-success'}\r\n                className='w-75'\r\n                onClick={() => {\r\n                  setIsExpense(false)\r\n                  setCategoryId('')\r\n                }}\r\n              >\r\n                {t('income')}\r\n              </Button>\r\n            </div>\r\n\r\n          </Col>\r\n        </Row>\r\n        <Row>\r\n          <Col xs='12' lg='5' className='mx-auto d-md-flex mt-3'>\r\n            <p className='fs-5 mb-0 w-50 text-md-center text-nowrap'>{t('Card balance')}:\r\n              <span className='yellowText'> {formattingNumber(user.card)}</span>\r\n            </p>\r\n            <p className='fs-5 w-50 text-md-center text-nowrap'>{t('Cash balance')}:\r\n              <span className='yellowText'> {formattingNumber(user.cash)}</span>\r\n            </p>\r\n          </Col>\r\n        </Row>\r\n        <Row>\r\n          <Col xs='12' lg='7' className='mx-auto'>\r\n            <Row>\r\n              <Col xs='12' sm='6' className='d-flex flex-wrap'>\r\n                <p className='mb-1 fs-5 text-center w-100'>{t('Select card or cash')}:</p>\r\n                <Form.Check\r\n                  checked={useCard}\r\n                  type='radio'\r\n                  name='cardOrCash'\r\n                  id='default-radio2'\r\n                  className='paymentCard d-flex align-items-center w-50 justify-content-center'\r\n                  label=''\r\n                  onChange={() => setUseCard(true)}\r\n                />\r\n                <Form.Check\r\n                  checked={!useCard}\r\n                  type='radio'\r\n                  name='cardOrCash'\r\n                  id='default-radio1'\r\n                  label=''\r\n                  className='paymentCash d-flex align-items-center w-50 justify-content-center'\r\n                  onChange={() => setUseCard(false)}\r\n                />\r\n              </Col>\r\n              <Col xs='12' sm='6'>\r\n                <p className='mb-1 fs-5 text-center w-100'>{t('Select category')}:</p>\r\n                <Form.Select onChange={(e: React.ChangeEvent<HTMLSelectElement>) => setCategoryId(e.target.value)}>\r\n                  <option className='d-none' value=''>{t('Select category')}</option>\r\n                  {categories &&\r\n                  categories\r\n                    .filter((category) => category.isExpense === isExpense)\r\n                    .map((el) =>\r\n                      <option\r\n                        key={el._id}\r\n                        value={el._id}\r\n                      >\r\n                        {lang === 'en' ? el.nameEn : el.nameRu}\r\n                      </option>\r\n                    )}\r\n                </Form.Select>\r\n              </Col>\r\n            </Row>\r\n            <Row className='mt-3'>\r\n              <Col xs='6' className='d-flex flex-wrap'>\r\n                <p className='mb-1 fs-5'>{t('Name the transaction')}:</p>\r\n                <FormControl\r\n                  type='text'\r\n                  placeholder={t('Transaction title')}\r\n                  value={title}\r\n                  onChange={handleChangeTitle}\r\n                />\r\n              </Col>\r\n              <Col xs='6' className='d-flex flex-wrap'>\r\n                <p className='mb-1  fs-5'>{t('Enter the sum of transaction')}:</p>\r\n                <FormControl\r\n                  type='text'\r\n                  placeholder={t('Transaction sum')}\r\n                  value={sum}\r\n                  onChange={handleChangeSum}\r\n                />\r\n              </Col>\r\n            </Row>\r\n            <Row>\r\n              <Col xs='12' className='mt-3 text-center'>\r\n                <p className='fs-5 mb-1'>{t('Submit transaction')}:</p>\r\n                <Button\r\n                  variant='warning'\r\n                  className='w300Px text-white'\r\n                  onClick={handleSubmit}\r\n                >\r\n                  {t('Submit')}\r\n                </Button>\r\n              </Col>\r\n            </Row>\r\n          </Col>\r\n        </Row>\r\n      </Container>\r\n    </>\r\n  )\r\n}\r\n\r\nexport default CreateTransaction","import React, { FC } from 'react'\r\nimport { Col } from \"react-bootstrap\";\r\nimport { formattingNumber } from \"../../helpers/index.js\";\r\nimport { useSelector } from \"react-redux\";\r\nimport { userData } from \"../../store/selectors\";\r\nimport { useTranslation } from \"react-i18next\";\r\n\r\nconst Balance:FC = () => {\r\n  const { user } = useSelector(userData)\r\n  const {t} = useTranslation()\r\n\r\n  const total = user.card + user.cash;\r\n\r\n  return (\r\n    <Col md='6' xs='12' className='balance'>\r\n      <p className='totalBalance fs-3 text-uppercase fw-bold'>\r\n        {total ? t('Total balance') : ''}\r\n        <span className='yellowText'> {total ? formattingNumber(total) : t('There is no money yet')}\r\n      </span></p>\r\n      <p className='fs-5'>{t('Card balance')}:\r\n        <span> {formattingNumber(user.card)}</span>\r\n      </p>\r\n      <p className='fs-5'>{t('In cash')}:\r\n        <span> {formattingNumber(user.cash)}</span>\r\n      </p>\r\n    </Col>\r\n  )\r\n}\r\n\r\nexport default Balance","import moment from 'moment';\r\nimport React, { FC } from 'react'\r\nimport { Col } from \"react-bootstrap\";\r\nimport { useAppSelector } from \"../../hooks/react-redux.hook\";\r\nimport { statisticData, userData } from \"../../store/selectors\";\r\nimport { useTranslation } from \"react-i18next\";\r\nimport 'moment/locale/ru'\r\n\r\nconst GeneralStatistic: FC = () => {\r\n  const { generalStatistic } = useAppSelector(statisticData)\r\n  const { user, lang } = useAppSelector(userData)\r\n  const { t } = useTranslation()\r\n\r\n  return (\r\n    <Col md='6' xs='12'>\r\n      {generalStatistic ? (\r\n        <div className='my-3 my-md-0'>\r\n          <p className='fs-5 mb-0 fw-bold'>{t('Spent this month')}: <span\r\n            className='fst-italic yellowText'>{generalStatistic.userExpensesThisMonth}</span></p>\r\n          <p className='fs-5 fw-bold'>{t('Spent for the whole time')}: <span\r\n            className='fst-italic yellowText'>{generalStatistic.userExpenses}</span></p>\r\n          <p className='fs-6 mb-0 fw-bold'>{t('On')} <span\r\n            className='yellowText'>Billionstracker</span> {t('Since')} <span\r\n            className='fst-italic yellowText'>{moment(user.created).locale(lang).format('LL')}</span></p>\r\n        </div>\r\n      ) : (\r\n        <div className='d-flex justify-content-center align-items-center h-100 fw-bold my-3 my-md-0 '>\r\n          <p>Some of your statistic will be here</p>\r\n        </div>\r\n      )\r\n\r\n      }\r\n    </Col>\r\n  )\r\n}\r\nexport default GeneralStatistic","import React, { FC, useEffect } from 'react'\r\nimport { Row } from 'react-bootstrap';\r\nimport Balance from \"./Balance\";\r\nimport GeneralStatistic from \"./GeneralStatistic\";\r\n\r\nconst UserInfo: FC = () => (\r\n    <Row>\r\n      <Balance/>\r\n      <GeneralStatistic/>\r\n    </Row>\r\n  )\r\n\r\nexport default UserInfo","import moment from \"moment\";\r\nimport 'moment/locale/ru'\r\n\r\nexport const formatTransactionDate = (date:Date, lang='en') => {\r\n  const formatedDate = moment(date).locale(lang)\r\n\r\n  if(formatedDate.isSame(new Date(), 'week')) {\r\n    return formatedDate.fromNow()\r\n  }\r\n\r\n    return formatedDate.format('LL')\r\n}\r\n","import React, { FC } from 'react'\r\nimport { transactionType } from \"../../types/transaction.type\"\r\nimport { Card, Col, Row } from \"react-bootstrap\"\r\nimport { formatTransactionDate } from \"../../helpers/time\";\r\nimport { formattingNumber } from \"../../helpers/index.js\";\r\nimport { useAppSelector } from \"../../hooks/react-redux.hook\";\r\nimport { userData } from \"../../store/selectors\";\r\n\r\ntype propsType = {\r\n  transaction: transactionType\r\n}\r\n\r\nconst Transaction: FC<propsType> = ({ transaction }) => {\r\n  const {lang} = useAppSelector(userData)\r\n\r\n  return (\r\n    <Card className='mb-3  w-75 mx-auto fw-bold text-center' bg='light' text='dark'>\r\n      <Card.Body><\r\n        Row>\r\n        <Col xs='12' sm='4' className='mb-2 mb-sm-0'>{transaction.title}</Col>\r\n        <Col xs='8' sm='4'>{formatTransactionDate(transaction.date, lang)}</Col>\r\n        <Col xs='4' sm='4'>{\r\n          transaction.isExpense ?\r\n            <span className='text-danger'>-{formattingNumber(transaction.sum)}</span> :\r\n            <span className='text-success'>+{formattingNumber(transaction.sum)}</span>}</Col>\r\n      </Row>\r\n      </Card.Body>\r\n    </Card>\r\n  )\r\n}\r\n\r\nexport default Transaction","export default __webpack_public_path__ + \"static/media/loader.b77cbe87.gif\";","import React, { FC } from 'react';\r\nimport loaderImage from '../../images/loader.gif'\r\nimport './loader.scss'\r\n\r\ntype propsType = {\r\n  fullHeight?: boolean,\r\n}\r\n\r\nconst Loader: FC<propsType> = ({ fullHeight }) => {\r\n  return (\r\n    <div className={`d-flex align-items-center justify-content-center pt-2\r\n    ${fullHeight ? 'fullHeight' : ''} \r\n    `}\r\n    >\r\n      <img src={loaderImage} alt='loader img'/>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Loader;","import React, { useEffect, useState } from 'react';\r\nimport { useAppDispatch, useAppSelector } from \"../../hooks/react-redux.hook\";\r\nimport { getAllUserTransactions, resetTransactions } from '../../store/reducers/transaction.reducer';\r\nimport { transactionData } from \"../../store/selectors\";\r\nimport Transaction from './Transaction';\r\nimport { Button } from \"react-bootstrap\";\r\nimport { useTranslation } from \"react-i18next\";\r\nimport Loader from \"../loader/Loader\";\r\n\r\nconst Transactions = () => {\r\n  const { isTransactionsloading, transactions, numberOfTransactions } = useAppSelector(transactionData)\r\n  const dispatch = useAppDispatch()\r\n  const { t } = useTranslation()\r\n  const LIMIT = 10;\r\n  const [numberToSkip, setNumberToSkip] = useState<number>(10)\r\n\r\n  const getAllTransactions = () => {\r\n    dispatch(getAllUserTransactions({ limit: LIMIT, numberToSkip: numberToSkip }))\r\n    setNumberToSkip(LIMIT + numberToSkip)\r\n  }\r\n\r\n  if (isTransactionsloading && !numberOfTransactions) {\r\n    return <Loader/>\r\n  }\r\n\r\n  return (\r\n    <div className='mt-4'>\r\n      {\r\n        numberOfTransactions ? (\r\n          <>\r\n            <p className='text-center fw-bold fs-4'>{t('Your transactions')}</p>\r\n            {\r\n              transactions.map((transaction) => <Transaction key={transaction._id} transaction={transaction}/>)\r\n            }\r\n\r\n            {\r\n              isTransactionsloading && <Loader/>\r\n            }\r\n\r\n            {numberToSkip <= numberOfTransactions &&\r\n            <Button\r\n              disabled={isTransactionsloading}\r\n              variant='warning'\r\n              className='mt-4 mx-auto d-block text-white'\r\n              onClick={getAllTransactions}\r\n            >{t('Load more')}</Button>\r\n            }\r\n          </>\r\n        ) : (\r\n          <div className='d-flex justify-content-center align-items-center h-100 fw-bold my-3 mt-3'>\r\n            <p>{t('There is no transactions yet')}</p>\r\n          </div>\r\n        )\r\n      }\r\n\r\n\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Transactions;","import React, { useEffect } from 'react'\r\nimport UserInfo from \"../../components/profile/UserInfo\";\r\nimport { Container } from 'react-bootstrap';\r\nimport './profile.scss'\r\nimport Transactions from \"../../components/profile/Transactions\";\r\nimport { getGeneralStatistic } from \"../../store/reducers/statistic.reducer\";\r\nimport { useAppDispatch, useAppSelector } from \"../../hooks/react-redux.hook\";\r\nimport { getAllUserTransactions, resetTransactions } from \"../../store/reducers/transaction.reducer\";\r\nimport { statisticData, transactionData } from \"../../store/selectors\";\r\nimport Loader from \"../../components/loader/Loader\";\r\n\r\nconst Profile = () => {\r\n  const { isTransactionsloading } = useAppSelector(transactionData)\r\n  const { isGeneralStatisticLoading } = useAppSelector(statisticData)\r\n\r\n  const dispatch = useAppDispatch()\r\n\r\n  useEffect(() => {\r\n    dispatch(resetTransactions())\r\n    dispatch(getGeneralStatistic())\r\n    dispatch(getAllUserTransactions({ limit: 10, numberToSkip: 0 }))\r\n  }, [])\r\n  \r\n  if(isGeneralStatisticLoading && isTransactionsloading){\r\n    return <Loader/>\r\n  }\r\n\r\n  return(\r\n  <Container className='py-4'>\r\n    <UserInfo/>\r\n    <Transactions/>\r\n  </Container>\r\n)}\r\n\r\n\r\nexport default Profile","import React from 'react'\r\nimport { Field, FieldProps, Form, Formik, FormikProps } from 'formik'\r\nimport * as Yup from 'yup'\r\nimport { Button, FormControl, FormGroup } from 'react-bootstrap'\r\nimport { logIn, signUp } from '../../store/reducers/user.reducer'\r\nimport { connect } from \"react-redux\";\r\nimport { AppDispatch } from \"../../store\";\r\nimport { useTranslation } from \"react-i18next\";\r\n\r\ntype signupForm = {\r\n  login: string,\r\n  password: string,\r\n  confirmPassword: string\r\n}\r\n\r\nconst SignUpFormMarkup: React.FC<FormikProps<signupForm>> = (\r\n  {\r\n    values,\r\n    errors,\r\n    touched,\r\n    handleChange,\r\n    handleBlur,\r\n    handleSubmit,\r\n    isSubmitting,\r\n  }) => {\r\n  const {t} = useTranslation()\r\n\r\n  return(\r\n  <Form onSubmit={handleSubmit}>\r\n    <Field\r\n      name='login'\r\n      render={({ field }: FieldProps) => (\r\n        <FormGroup\r\n          controlId=\"login\"\r\n          className='authFormGroup mb-4'>\r\n          <FormControl\r\n            type={'text'}\r\n            value={field.value}\r\n            onChange={field.onChange}\r\n            placeholder={t('login')}\r\n            isValid={false}\r\n          />\r\n          {\r\n            touched.login &&\r\n            errors.login &&\r\n            <FormControl.Feedback\r\n              type=\"invalid\" tooltip\r\n            >\r\n              {errors.login}\r\n            </FormControl.Feedback>\r\n          }\r\n        </FormGroup>\r\n      )}\r\n    />\r\n\r\n    <Field\r\n      type='password'\r\n      name='password'\r\n      onChange={handleChange}\r\n      onBlur={handleBlur}\r\n      value={values.password}\r\n      render={({ field }: FieldProps) => (\r\n        <FormGroup controlId=\"password\" className='authFormGroup mb-4'>\r\n          <FormControl\r\n            type={'password'}\r\n            value={field.value}\r\n            onChange={field.onChange}\r\n            placeholder={t('password')}\r\n          />\r\n          {\r\n            touched.password &&\r\n            errors.password &&\r\n            <FormControl.Feedback\r\n              type=\"invalid\" tooltip\r\n            >\r\n              {errors.password}\r\n            </FormControl.Feedback>\r\n          }\r\n        </FormGroup>\r\n      )}\r\n    />\r\n\r\n    <Field\r\n      type='password'\r\n      name='confirmPassword'\r\n      onChange={handleChange}\r\n      onBlur={handleBlur}\r\n      value={values.confirmPassword}\r\n      render={({ field }: FieldProps) => (\r\n        <FormGroup controlId=\"confirmPassword\" className='authFormGroup mb-4'>\r\n          <FormControl\r\n            type={'password'}\r\n            value={field.value}\r\n            onChange={field.onChange}\r\n            placeholder={t('Confirm password')}\r\n          />\r\n          {\r\n            touched.confirmPassword &&\r\n            errors.confirmPassword &&\r\n            <FormControl.Feedback\r\n              type=\"invalid\" tooltip\r\n            >\r\n              {errors.confirmPassword}\r\n            </FormControl.Feedback>\r\n          }\r\n        </FormGroup>\r\n      )}\r\n    />\r\n\r\n    <Button\r\n      type='submit'\r\n      variant='warning'\r\n      disabled={\r\n        isSubmitting ||\r\n        Boolean(errors.login && touched.login) ||\r\n        Boolean(errors.password && touched.password)\r\n      }\r\n    >\r\n      {t('Sign up')}\r\n    </Button>\r\n  </Form>\r\n)}\r\n\r\nconst init: signupForm = {\r\n  login: '',\r\n  password: '',\r\n  confirmPassword: ''\r\n}\r\n\r\ntype propsType = {\r\n  dispatch: AppDispatch\r\n}\r\n\r\nconst SignUpForm = (props: propsType) => (\r\n  <Formik\r\n    initialValues={init}\r\n    validationSchema={\r\n      Yup.object().shape({\r\n        login: Yup.string()\r\n          .email('Email not valid')\r\n          .required('Email is required'),\r\n        password: Yup.string()\r\n          .required('Password is required')\r\n          .min(6, 'Password must contain at least 6 symbols'),\r\n        confirmPassword: Yup.string()\r\n          .required(\"Confirm your password\")\r\n          .oneOf([Yup.ref(\"password\")], \"Password does not match\")\r\n      })\r\n    }\r\n    onSubmit={(values: signupForm) => props.dispatch(signUp(values))}\r\n    render={(props: FormikProps<signupForm>) => <SignUpFormMarkup {...props} />}\r\n  />\r\n)\r\n\r\nexport default connect()(SignUpForm)","import React from 'react'\r\nimport { Field, FieldProps, Form, Formik, FormikProps } from 'formik'\r\nimport * as Yup from 'yup'\r\nimport { authData } from '../../types/user.type'\r\nimport { Button, FormControl, FormGroup } from 'react-bootstrap'\r\nimport { logIn } from '../../store/reducers/user.reducer'\r\nimport { connect } from \"react-redux\";\r\nimport { AppDispatch } from \"../../store\";\r\nimport { useTranslation } from \"react-i18next\";\r\n\r\nconst LogInFormMarkup: React.FC<FormikProps<authData>> = (\r\n  {\r\n    values,\r\n    errors,\r\n    touched,\r\n    handleChange,\r\n    handleBlur,\r\n    handleSubmit,\r\n    isSubmitting,\r\n  }) => {\r\n  const {t} = useTranslation()\r\n\r\n  return(\r\n    <Form onSubmit={handleSubmit}>\r\n      <Field\r\n        name='login'\r\n        render={({ field }: FieldProps) => (\r\n          <FormGroup\r\n            controlId=\"login\"\r\n            className='authFormGroup mb-4'>\r\n            <FormControl\r\n              type={'text'}\r\n              value={field.value}\r\n              onChange={field.onChange}\r\n              placeholder={t('login')}\r\n              isValid={false}\r\n            />\r\n            {\r\n              touched.login &&\r\n              errors.login &&\r\n              <FormControl.Feedback\r\n                type=\"invalid\" tooltip\r\n              >\r\n                {errors.login}\r\n              </FormControl.Feedback>\r\n            }\r\n          </FormGroup>\r\n        )}\r\n      />\r\n\r\n\r\n      <Field\r\n        type='password'\r\n        name='password'\r\n        onChange={handleChange}\r\n        onBlur={handleBlur}\r\n        value={values.password}\r\n        render={({ field }: FieldProps) => (\r\n          <FormGroup controlId=\"password\" className='authFormGroup mb-4'>\r\n            <FormControl\r\n              type={'password'}\r\n              value={field.value}\r\n              onChange={field.onChange}\r\n              placeholder={t('password')}\r\n            />\r\n            {\r\n              touched.password &&\r\n              errors.password &&\r\n              <FormControl.Feedback\r\n                type=\"invalid\" tooltip\r\n              >\r\n                {errors.password}\r\n              </FormControl.Feedback>\r\n            }\r\n          </FormGroup>\r\n        )}\r\n      />\r\n\r\n      <Button\r\n        type='submit'\r\n        variant='warning'\r\n        disabled={\r\n          isSubmitting ||\r\n          Boolean(errors.login && touched.login) ||\r\n          Boolean(errors.password && touched.password)\r\n        }\r\n      >\r\n        {t('Sign in')}\r\n      </Button>\r\n    </Form>\r\n  )\r\n}\r\n\r\nconst init: authData = {\r\n  login: '',\r\n  password: ''\r\n}\r\n\r\ntype propsType = {\r\n  dispatch: AppDispatch\r\n}\r\n\r\nconst LoginForm = (props: propsType) => (\r\n  <Formik\r\n    initialValues={init}\r\n    validationSchema={\r\n      Yup.object().shape({\r\n        login: Yup.string()\r\n          .email('Email not valid')\r\n          .required('Email is required'),\r\n        password: Yup.string()\r\n          .required('Password is required')\r\n          .min(6, 'Password must contain at least 6 symbols')\r\n      })\r\n    }\r\n    onSubmit={(values: authData) => props.dispatch(logIn(values))}\r\n    render={(props: FormikProps<authData>) => <LogInFormMarkup {...props} />}\r\n  />\r\n)\r\n\r\nexport default connect()(LoginForm)","import React, { useState } from 'react'\r\nimport SignUpForm from \"../../components/auth/Signnup\";\r\nimport LoginForm from \"../../components/auth/Login\";\r\n\r\nimport logo from '../../images/logo.png';\r\nimport './auth.scss'\r\nimport { Button, Col, Container, Row } from 'react-bootstrap';\r\nimport { toast } from \"react-toastify\";\r\nimport { Form } from \"formik\";\r\nimport { useTranslation } from \"react-i18next\";\r\nimport LanguageSwitcher from \"../../components/header/LanguageSwitcher\";\r\n\r\nconst Auth = () => {\r\n  const [showSignIn, setShowSignIn] = useState<boolean>(true)\r\n  const { t } = useTranslation()\r\n\r\n  return (\r\n    <section className='signUp align-items-md-center d-flex'>\r\n      <Container>\r\n        <Row className='h-100'>\r\n          <Col xs='12' sm='6' className='text-center'>\r\n            <img src={logo} alt='logo'/>\r\n            <h1 className='yellowText'>Billionstracker</h1>\r\n            <p>{t('Powerful app for controlling your budget')}</p>\r\n          </Col>\r\n          <Col xs='12' sm='6' className='authFormContainer mt-sm-3'>\r\n            {\r\n              showSignIn ? (<>\r\n                  <h2>{t('Sign in')}</h2>\r\n                  <LoginForm/>\r\n                  <p\r\n                    onClick={() => setShowSignIn(false)}\r\n                    className='my-2 cursor-pointer'\r\n                  >{t('New to billionstracker')}? <span>{t('Sign up')}</span></p>\r\n                </>\r\n              ) : (\r\n                <>\r\n                  <h2>{t('Sign up')}</h2>\r\n                  <SignUpForm/>\r\n                  <p\r\n                    onClick={() => setShowSignIn(true)}\r\n                    className='my-2 cursor-pointer'\r\n                  >{t('Already on billionstracker')}? <span>{t('Sign in')}</span></p>\r\n                </>\r\n              )\r\n            }\r\n            <div\r\n              className='d-flex justify-content-around languagesController pb-3'\r\n              style={{ width: '100px', margin: '0 auto' }}\r\n            >\r\n              <LanguageSwitcher/>\r\n            </div>\r\n          </Col>\r\n        </Row>\r\n      </Container>\r\n      {/*<div className='col m6 s12 center-align'>*/}\r\n    </section>\r\n  )\r\n}\r\n\r\nexport default Auth","import { PieChart } from \"react-minimal-pie-chart\";\r\nimport ReactTooltip from \"react-tooltip\";\r\nimport React, { FC, useState } from \"react\";\r\nimport { expenseIncomeType } from \"../../types/statistic.type\";\r\nimport { useAppSelector } from \"../../hooks/react-redux.hook\";\r\nimport { userData } from \"../../store/selectors\";\r\nimport { formattingNumber } from \"../../helpers/index.js\";\r\n\r\ntype propsType = {\r\n  statisticForRange: expenseIncomeType[]\r\n  totalSpent:number\r\n}\r\n\r\nconst Diagram:FC<propsType> = ({ statisticForRange, totalSpent }) => {\r\n  const [hovered, setHovered] = useState<number | null>(null);\r\n  const {lang} = useAppSelector(userData)\r\n\r\n  const colors = ['#E38627', '#C13C37', '#6A2135', '#E38627', '#C13C37', '#6A2135', '#E38627', '#C13C37', '#6A2135', '#E38627', '#C13C37', '#6A2135']\r\n\r\n  type rangeDataType = {\r\n    value: number,\r\n    color: string,\r\n    tooltip: string\r\n  }\r\n\r\n  const dataForRange: rangeDataType[] = statisticForRange.map((el, index) => ({\r\n      value: el.total,\r\n      color: hovered === index ? 'grey' : colors[index],\r\n      tooltip: `${lang === 'en' ? el._id.nameEn : el._id.nameRu}, ${formattingNumber(el.total)}`\r\n    }))\r\n\r\n  return (\r\n    <>\r\n      <PieChart\r\n        data={dataForRange}\r\n        style={{ height: '300px', width: '300px' }}\r\n        segmentsShift={0.5}\r\n        label={({ dataEntry }) => `${Math.round(dataEntry.percentage) ? Math.round(dataEntry.percentage) : '>1' }%`}\r\n        totalValue={totalSpent}\r\n        labelStyle={{\r\n          fontSize: '5px',\r\n          fill: 'white',\r\n        }}\r\n        onMouseOver={(el, index) => {\r\n          setHovered(index);\r\n        }}\r\n        onMouseOut={() => {\r\n          setHovered(null);\r\n        }}\r\n        segmentsStyle={{ transition: 'stroke .3s', cursor: 'pointer' }}\r\n      />\r\n      <ReactTooltip\r\n        getContent={() =>\r\n          typeof hovered === 'number' ? dataForRange[hovered]?.tooltip : null\r\n        }\r\n      />\r\n    </>\r\n  )\r\n}\r\n\r\nexport default Diagram\r\n","import React, { FC } from 'react';\r\nimport { Card, Col, Row } from \"react-bootstrap\";\r\nimport { formattingNumber } from '../../helpers/index.js';\r\nimport { listForRangeItem } from \"./List\";\r\n\r\ntype propsType = {\r\n  listItem: listForRangeItem\r\n}\r\n\r\nconst ListItem:FC<propsType> = ({listItem}) => {\r\n  return (\r\n    <Card className='mb-3  w-75 mx-auto fw-bold text-center' bg='light' text='dark'>\r\n      <Card.Body>\r\n        <Row>\r\n        <Col xs='4' sm='4' className='mb-2 mb-sm-0'>{listItem.title}</Col>\r\n        <Col xs='4' sm='4'>{formattingNumber(listItem.value)}</Col>\r\n        <Col xs='4' sm='4'>{listItem.percentage}%</Col>\r\n      </Row>\r\n      </Card.Body>\r\n    </Card>\r\n  );\r\n};\r\n\r\nexport default ListItem;","import React, { FC } from 'react';\r\nimport { expenseIncomeType } from \"../../types/statistic.type\";\r\nimport ListItem from \"./ListItem\";\r\nimport { useAppSelector } from \"../../hooks/react-redux.hook\";\r\nimport { userData } from \"../../store/selectors\";\r\n\r\ntype propsType = {\r\n  statisticForRange: expenseIncomeType[]\r\n  userExpensesThisMonth: number\r\n}\r\n\r\nexport type listForRangeItem = {\r\n  title: string,\r\n  value: number,\r\n  percentage: number | string\r\n}\r\n\r\nexport const List: FC<propsType> = ({ statisticForRange, userExpensesThisMonth }) => {\r\n  const { lang } = useAppSelector(userData)\r\n\r\n  const dataForRange: listForRangeItem[] = statisticForRange.map((el, index) => ({\r\n    title: lang === 'en' ? el._id.nameEn : el._id.nameRu,\r\n    value: el.total,\r\n    percentage: Math.round((100 * el.total) / userExpensesThisMonth) || '>1'\r\n  }))\r\n\r\n\r\n  return (\r\n    <div>\r\n      {dataForRange.sort((a, b) => b.value - a.value).map(listItem => <ListItem key={listItem.title} listItem={listItem}/>)}\r\n    </div>\r\n  );\r\n};","import React, { FC, useEffect, useState } from 'react'\r\nimport { Button, Col, Container, Row } from \"react-bootstrap\"\r\nimport { useAppDispatch, useAppSelector } from \"../../hooks/react-redux.hook\"\r\nimport { getStatisticForRange, getWholeStatistic } from \"../../store/reducers/statistic.reducer\"\r\nimport { statisticData, userData } from \"../../store/selectors\"\r\nimport moment from \"moment\";\r\nimport Diagram from \"../../components/statistic/Diagram\";\r\nimport { useTranslation } from \"react-i18next\";\r\nimport { List } from \"../../components/statistic/List\";\r\nimport Loader from \"../../components/loader/Loader\";\r\n//@ts-ignore\r\n//todo: learn how to work when there is no ts for library\r\nimport DateRangePicker from '@wojtekmaj/react-daterange-picker'\r\nimport './statistic.scss'\r\nimport 'moment/locale/ru'\r\nimport AppHeader from \"../../components/header/AppHeader\";\r\n\r\n\r\nconst Statistic: FC = () => {\r\n  const dispatch = useAppDispatch()\r\n  const {\r\n    wholeStatistic,\r\n    statisticForRange,\r\n    isWholeStatisticLoading,\r\n    isStatisticForRangeLoading\r\n  } = useAppSelector(statisticData)\r\n  const { t } = useTranslation()\r\n  const { user, lang } = useAppSelector(userData)\r\n  const [monthsRange, setMonthsRange] = useState<Date[]>([new Date(user.created), new Date()]);\r\n  const [useDiagram, setUseDiagram] = useState<boolean>(true)\r\n\r\n  useEffect(() => {\r\n    dispatch(getWholeStatistic())\r\n    dispatch(getStatisticForRange({ from: monthsRange[0], to: monthsRange[1] }))\r\n  }, [])\r\n\r\n  useEffect(() => {\r\n    dispatch(getStatisticForRange({ from: monthsRange[0], to: monthsRange[1] }))\r\n  }, [monthsRange])\r\n\r\n  if (isWholeStatisticLoading && isStatisticForRangeLoading) {\r\n    return <Loader/>\r\n  }\r\n\r\n  return (\r\n      <Container className='py-4'>\r\n        {wholeStatistic && statisticForRange ? (\r\n          <Row>\r\n            <Col xs='12' md='6'>\r\n              <p className='fs-5 mb-0 fw-bold text-center'>{t('Select range')}:</p>\r\n              <div className='d-flex justify-content-center'>\r\n                <DateRangePicker\r\n                  onChange={setMonthsRange}\r\n                  maxDetail='year'\r\n                  value={monthsRange}\r\n                  locale='en'\r\n                  calendarIcon={null}\r\n                  clearIcon={null}\r\n                  format='MM.y'\r\n                  minDetail='year'\r\n                  minDate={new Date(2021, 3, 1)}\r\n                  maxDate={new Date()}\r\n                />\r\n              </div>\r\n              <div className='rangeHolder mt-3 text-center' data-tip='chart'>\r\n                <div className='rangeHolderControls mb-3'>\r\n                  <Button\r\n                    size='sm'\r\n                    className={`mx-2 ${useDiagram ? 'text-white' : ''}`}\r\n                    variant={useDiagram ? 'warning' : 'outline-warning'}\r\n                    onClick={() => setUseDiagram(true)}\r\n                  >\r\n                    {t('Pie chart')}\r\n                  </Button>\r\n                  <Button\r\n                    size='sm'\r\n                    className={useDiagram ? '' : 'text-white'}\r\n                    variant={useDiagram ? 'outline-warning' : 'warning'}\r\n                    onClick={() => setUseDiagram(false)}\r\n                  >\r\n                    {t('List')}\r\n                  </Button>\r\n                </div>\r\n                {\r\n                  isStatisticForRangeLoading\r\n                    ? (<Loader/>)\r\n                    : (\r\n                      <>\r\n                        <p className='fw-bold'>{t('Spent during this period')}:\r\n                          <span className='fst-italic yellowText'> {statisticForRange.totalSpent}</span></p>\r\n                        {useDiagram ?\r\n                          <Diagram\r\n                            totalSpent={statisticForRange.totalSpent}\r\n                            statisticForRange={statisticForRange.transactionsInRange}\r\n                          />\r\n                          :\r\n                          <List\r\n                            userExpensesThisMonth={wholeStatistic.userExpensesThisMonth}\r\n                            statisticForRange={statisticForRange.transactionsInRange}\r\n                          />}\r\n                      </>\r\n                    )\r\n                }\r\n              </div>\r\n            </Col>\r\n            <Col xs='12' md='6'>\r\n              <p className='fs-5 mb-0 fw-bold'>{t('General statistic')}:</p>\r\n              <div className='spent'>\r\n                <p className='mb-0'>{t('Spent for the whole time')}:\r\n                  <span className='fst-italic yellowText'>\r\n                {wholeStatistic.userExpenses}\r\n              </span></p>\r\n                <p className='mb-0'>{t('Spent this month')}:\r\n                  <span className='fst-italic yellowText'> {wholeStatistic.userExpensesThisMonth}\r\n              </span></p>\r\n              </div>\r\n              <div className='earned mt-2'>\r\n                <p className='mb-0'>{t('Earned for the whole time')}:\r\n                  <span className='fst-italic yellowText'>\r\n             {wholeStatistic.userIncomes}\r\n          </span></p>\r\n                <p className='mb-1'>{t('Earned this month')}:\r\n                  <span className='fst-italic yellowText'>\r\n              {wholeStatistic.userIncomesThisMonth}\r\n          </span></p>\r\n                <p className='fs-6 mb-0 fw-bold'>{t('On')} <span\r\n                  className='yellowText'>Billionstracker</span> {t('Since')} <span\r\n                  className='fst-italic yellowText'>{moment(user.created).locale(lang).format('LL')}</span></p>\r\n              </div>\r\n            </Col>\r\n          </Row>\r\n        ) : (\r\n          <div className='d-flex justify-content-center align-items-center h-100 fw-bold my-3 my-md-0 '>\r\n            <p>{t('Some of your statistic will be here')}</p>\r\n          </div>\r\n        )}\r\n      </Container>\r\n  )\r\n}\r\n\r\nexport default Statistic","import React, { useEffect, useState } from 'react';\r\nimport { Button, Col, Container, FormControl, Row } from 'react-bootstrap';\r\nimport { useTranslation } from \"react-i18next\";\r\nimport { useHistory } from 'react-router-dom';\r\nimport { toast } from \"react-toastify\";\r\nimport { useAppDispatch, useAppSelector } from \"../../hooks/react-redux.hook\";\r\nimport { setFirstEnter, setInitialValues } from \"../../store/reducers/user.reducer\";\r\nimport { userData } from \"../../store/selectors\";\r\n\r\nconst Init = () => {\r\n  const dispatch = useAppDispatch()\r\n  const history = useHistory()\r\n  const { t } = useTranslation()\r\n  const { user } = useAppSelector(userData)\r\n  const [card, setCard] = useState<number | string>('')\r\n  const [cash, setCash] = useState<number | string>('')\r\n\r\n  const handleChange = (setter: React.Dispatch<React.SetStateAction<number | string>>) => (event: React.ChangeEvent<HTMLInputElement>) => {\r\n    if (validateSumReg.test(event.target.value) || event.target.value === '') {\r\n      setter(event.target.value)\r\n    }\r\n  }\r\n\r\n  const validateSumReg = /^[0-9]+$/;\r\n\r\n  useEffect(() => {\r\n    if (user.isFirstEnter) {\r\n      dispatch(setFirstEnter())\r\n    }\r\n  }, [])\r\n\r\n  const handleInit = () => {\r\n    if (card === '' || cash === '') {\r\n      return toast(t('All fields are required'), {\r\n        position: \"top-right\",\r\n        autoClose: 2500,\r\n        hideProgressBar: true,\r\n        closeOnClick: true,\r\n        theme: 'dark',\r\n        type: 'error'\r\n      })\r\n    }\r\n\r\n    dispatch(setInitialValues({ card: Number(card), cash: Number(cash) }))\r\n    history.push('/')\r\n  }\r\n\r\n  const hideHeader = `\r\n  header .menu ul{\r\n    display: none;\r\n  }`\r\n\r\n  return (\r\n    <>\r\n      <style>{hideHeader}</style>\r\n      <Container className='py-4'>\r\n        <p className='fs-4 fw-bold text-center py-2'>{t('Here you can set initial values for your balance')}</p>\r\n        <Row className='text-center'>\r\n          <Col xs='12' lg='6' className='mb-3 mb-lg-0' >\r\n            <p className='fs-5 fw-bold'>{t('Set your card balance')}:</p>\r\n            <FormControl\r\n              type='text'\r\n              placeholder={t('Sum on card')}\r\n              value={card}\r\n              onChange={handleChange(setCard)}\r\n            />\r\n          </Col>\r\n          <Col xs='12' lg='6'>\r\n            <p className='fs-5 fw-bold'>{t('Set your cash balance')}:</p>\r\n            <FormControl\r\n              type='text'\r\n              placeholder={t('Sum in cash')}\r\n              value={cash}\r\n              onChange={handleChange(setCash)}\r\n            />\r\n          </Col>\r\n          <Col xs='12' className='mt-3 text-center'>\r\n            <p className='fs-5 mb-1 mt-4'>{t('Set initial values')}:</p>\r\n            <Button\r\n              variant='warning'\r\n              className='w300Px text-white'\r\n              onClick={handleInit}\r\n            >\r\n              {t('Initialize')}\r\n            </Button>\r\n            <p className='mt-2 yellowText text-decoration-underline cursor-pointer'\r\n               onClick={() => history.push('/')}>{t('Skip')}</p>\r\n          </Col>\r\n        </Row>\r\n      </Container>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default Init;","import React, { FC } from 'react';\r\nimport { Redirect, Route, Switch } from \"react-router-dom\";\r\nimport CreateTransaction from \"../../pages/createTransaction/CreateTransaction\";\r\nimport Profile from \"../../pages/profile/Profile\";\r\nimport Auth from \"../../pages/auth/Auth\";\r\nimport { useAppSelector } from \"../../hooks/react-redux.hook\";\r\nimport { userData } from \"../../store/selectors\";\r\nimport Statistic from \"../../pages/statistic/Statistic\";\r\nimport Loader from \"../loader/Loader\";\r\nimport Init from \"../../pages/initPage/Init\";\r\n\r\ntype propsType = {\r\n  isAuth: boolean | null\r\n}\r\n\r\nconst AppRouter: FC<propsType> = ({ isAuth }) => {\r\n  const { isRefreshLoading } = useAppSelector(userData)\r\n\r\n  if (isAuth === null || isRefreshLoading) {\r\n    return <Loader fullHeight={true}/>\r\n  }\r\n\r\n  return (\r\n    <>\r\n      {isAuth ? (\r\n          <Switch>\r\n            <Route path='/statistic' component={Statistic}/>\r\n            <Route path='/createTransaction' component={CreateTransaction}/>\r\n            <Route path='/home' component={Profile}/>\r\n            <Route path='/initialization' component={Init}/>\r\n            <Redirect to='/home'/>\r\n          </Switch>\r\n        ) :\r\n        (\r\n          <Switch>\r\n            <Route path=\"/authorization\" component={Auth}/>\r\n            <Redirect to='/authorization'/>\r\n          </Switch>\r\n        )}\r\n    </>\r\n  );\r\n}\r\n\r\nexport default AppRouter;","import React, { useEffect } from 'react'\nimport { useAppDispatch, useAppSelector } from './hooks/react-redux.hook'\nimport { checkAuth, setAuth } from \"./store/reducers/user.reducer\"\nimport { Slide, ToastContainer } from 'react-toastify'\nimport { userData } from \"./store/selectors\"\nimport AppHeader from \"./components/header/AppHeader\";\nimport AppRouter from \"./components/router/AppRouter\";\nimport 'react-toastify/dist/ReactToastify.css';\nimport './App.scss'\nimport { useHistory } from 'react-router-dom'\n\nconst App = () => {\n  const history = useHistory()\n  const dispatch = useAppDispatch()\n  const { isAuth, user } = useAppSelector(userData)\n\n  useEffect(() => {\n    const token = localStorage.getItem('token');\n\n    if (token) {\n      dispatch(checkAuth());\n    } else {\n      dispatch(setAuth(false))\n    }\n  }, []);\n\n  useEffect(() => {\n    if (isAuth && user.isFirstEnter) {\n      history.push('/initialization')\n    }\n  }, [isAuth, user])\n\n  return (\n    <>\n      {isAuth && user?.isFirstEnter === false && <AppHeader/>}\n      <AppRouter isAuth={isAuth}/>\n      <ToastContainer\n        transition={Slide}\n      />\n    </>\n  )\n}\n\nexport default App\n","import i18n from 'i18next';\r\nimport Backend from 'i18next-http-backend';\r\nimport LanguageDetector from 'i18next-browser-languagedetector';\r\nimport { initReactI18next } from 'react-i18next';\r\n\r\nconst fallbackLng = ['en'];\r\nconst availableLanguages = ['en', 'ru'];\r\n\r\n\r\nconst options = {\r\n  // order and from where user language should be detected\r\n  order: [ 'navigator', 'htmlTag', 'path', 'subdomain'],\r\n\r\n  // keys or params to lookup language from\r\n  lookupQuerystring: 'lng',\r\n  lookupCookie: 'i18next',\r\n  lookupLocalStorage: 'i18nextLng',\r\n  lookupFromPathIndex: 0,\r\n  lookupFromSubdomainIndex: 0,\r\n\r\n  // cache user language on\r\n  caches: ['localStorage', 'cookie'],\r\n  excludeCacheFor: ['cimode'], // languages to not persist (cookie, localStorage)\r\n\r\n  // optional expire and domain for set cookie\r\n  cookieMinutes: 10,\r\n  cookieDomain: 'myDomain',\r\n\r\n  // optional htmlTag with lang attribute, the default is:\r\n  htmlTag: document.documentElement,\r\n\r\n  // only detect languages that are in the whitelist\r\n  checkWhitelist: true\r\n}\r\n\r\ni18n\r\n  .use(Backend) // load translation using xhr -> see /public/locales. We will add locales in the next step\r\n\r\n  .use(LanguageDetector) // detect user language\r\n\r\n  .use(initReactI18next) // pass the i18n instance to react-i18next.\r\n\r\n  .init({\r\n    backend: {\r\n      loadPath: \"/billionstraker-fe/locales/{{lng}}/{{ns}}.json\",\r\n    },\r\n    lng: localStorage. getItem('i18nextLng') || 'en',\r\n    fallbackLng,\r\n    whitelist: availableLanguages,\r\n    detection: options,\r\n\r\n    interpolation: {\r\n      escapeValue: false\r\n    },\r\n  });\r\n\r\nexport default i18n;","import React, { Suspense } from 'react'\nimport ReactDOM from 'react-dom'\nimport { Provider } from 'react-redux'\nimport { HashRouter as Router } from 'react-router-dom'\nimport 'bootstrap/dist/css/bootstrap.min.css';\nimport store from './store/index'\nimport App from './App'\nimport './i18n'\nimport Loader from \"./components/loader/Loader\";\n\nReactDOM.render(\n  <Provider store={store}>\n  <React.StrictMode>\n    <Router>\n      <Suspense fallback={() => <Loader fullHeight={true}/>}>\n        <App />\n      </Suspense>\n    </Router>\n  </React.StrictMode>\n  </Provider>,\n  document.getElementById('root')\n)\n"],"sourceRoot":""}