(this["webpackJsonpbillionstracker-fe"]=this["webpackJsonpbillionstracker-fe"]||[]).push([[0],{174:function(e,t,a){},183:function(e,t,a){},184:function(e,t,a){},185:function(e,t,a){},284:function(e,t,a){},300:function(e,t,a){},302:function(e,t,a){},303:function(e,t,a){"use strict";a.r(t);var n=a(0),s=a.n(n),c=a(31),r=a.n(c),i=a(28),o=a(32),l=(a(154),a(12)),d=a(9),u=a.n(d),j=a(15),b=a(47),h=a.n(b),m=a(17),p="https://young-beyond-74584.herokuapp.com",x=h.a.create({withCredentials:!0,baseURL:"".concat(p,"/api"),headers:{"Content-type":"application/json"}});x.interceptors.request.use((function(e){return localStorage.getItem("token")&&(e.headers.Authorization="Bearer ".concat(localStorage.getItem("token"))),e})),x.interceptors.response.use((function(e){return e}),function(){var e=Object(j.a)(u.a.mark((function e(t){var a,n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=t.config,401!==t.response.status||!t.config||t.config._isRetry){e.next=14;break}return a._isRetry=!0,e.prev=3,e.next=6,h.a.get("".concat(p,"/api/user/refresh"),{withCredentials:!0});case 6:return n=e.sent,localStorage.setItem("token",n.data.accessToken),e.abrupt("return",x.request(a));case 11:e.prev=11,e.t0=e.catch(3),Object(m.c)("en"===localStorage.getItem("i18nextLng")?"Your session has expired":"\u0412\u0440\u0435\u043c\u044f \u0441\u0435\u0441\u0441\u0438\u0438 \u0438\u0441\u0442\u0435\u043a\u043b\u043e",{position:"top-right",autoClose:2500,hideProgressBar:!0,closeOnClick:!0,theme:"dark",type:"warning"});case 14:throw t;case 15:case"end":return e.stop()}}),e,null,[[3,11]])})));return function(t){return e.apply(this,arguments)}}());var g=x,f=function(e){return g.patch("/user/setInitialValues",e)},O=function(e){return g.post("/transaction/addNewTransaction",e)},w=function(e){return g.post("/transaction/getAllUserTransactions",e)},v=function(e){return g.post("/statistic/getStatisticForRange",e)},y=Object(l.b)("user/signUp",function(){var e=Object(j.a)(u.a.mark((function e(t,a){var n,s;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,c=t,g.post("/user/signUp",c);case 3:return n=e.sent,e.abrupt("return",n.data);case 7:if(e.prev=7,e.t0=e.catch(0),!h.a.isAxiosError(e.t0)){e.next=11;break}return e.abrupt("return",a.rejectWithValue(null===(s=e.t0.response)||void 0===s?void 0:s.data));case 11:case"end":return e.stop()}var c}),e,null,[[0,7]])})));return function(t,a){return e.apply(this,arguments)}}()),S=Object(l.b)("user/logIn",function(){var e=Object(j.a)(u.a.mark((function e(t,a){var n,s;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,c=t,g.post("/user/logIn",c);case 3:return n=e.sent,e.abrupt("return",n.data);case 7:if(e.prev=7,e.t0=e.catch(0),!h.a.isAxiosError(e.t0)){e.next=11;break}return e.abrupt("return",a.rejectWithValue(null===(s=e.t0.response)||void 0===s?void 0:s.data));case 11:case"end":return e.stop()}var c}),e,null,[[0,7]])})));return function(t,a){return e.apply(this,arguments)}}()),A=Object(l.b)("user/logOut",Object(j.a)(u.a.mark((function e(){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,g.post("/user/logOut");case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))),C=Object(l.b)("user/refresh",Object(j.a)(u.a.mark((function e(){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,g.get("/user/refresh");case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))),N=Object(l.b)("transaction/addTransaction",function(){var e=Object(j.a)(u.a.mark((function e(t){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,O(t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),k=Object(l.b)("user/setFirstEnter",Object(j.a)(u.a.mark((function e(){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,g.patch("/user/setFirstEnter");case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))),F=Object(l.b)("user/setInitialValues",function(){var e=Object(j.a)(u.a.mark((function e(t){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,f(t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),I={user:{},isAuth:null,isRefreshLoading:!1,isSignUpSignInLoading:!1,lang:localStorage.getItem("i18nextLng")||"en"},T=Object(l.c)({name:"user",initialState:I,reducers:{changeLang:function(e,t){e.lang=t.payload},setAuth:function(e,t){e.isAuth=t.payload}},extraReducers:function(e){e.addCase(y.fulfilled,(function(e,t){e.isSignUpSignInLoading=!1,Object(m.c)("en"===localStorage.getItem("i18nextLng")?t.payload.messageEn:t.payload.messageRu,{position:"top-right",autoClose:2500,hideProgressBar:!0,closeOnClick:!0,theme:"dark",type:"success"})})),e.addCase(y.rejected,(function(e,t){var a,n;e.isSignUpSignInLoading=!1,Object(m.c)("en"===localStorage.getItem("i18nextLng")?null===(a=t.payload)||void 0===a?void 0:a.messageEn:null===(n=t.payload)||void 0===n?void 0:n.messageRu,{position:"top-right",autoClose:2500,hideProgressBar:!0,closeOnClick:!0,theme:"dark",type:"error"})})),e.addCase(y.pending,(function(e){e.isSignUpSignInLoading=!0})),e.addCase(S.pending,(function(e){e.isSignUpSignInLoading=!0})),e.addCase(S.fulfilled,(function(e,t){e.isSignUpSignInLoading=!1,localStorage.setItem("token",t.payload.accessToken),e.user=t.payload.user,e.isAuth=!0})),e.addCase(S.rejected,(function(e,t){var a,n;e.isSignUpSignInLoading=!1,Object(m.c)("en"===localStorage.getItem("i18nextLng")?null===(a=t.payload)||void 0===a?void 0:a.messageEn:null===(n=t.payload)||void 0===n?void 0:n.messageRu,{position:"top-right",autoClose:2500,hideProgressBar:!0,closeOnClick:!0,theme:"dark",type:"error"})})),e.addCase(A.fulfilled,(function(e){localStorage.removeItem("token"),e.user={},e.isAuth=!1})),e.addCase(C.pending,(function(e){e.isRefreshLoading=!0})),e.addCase(C.rejected,(function(e){e.isRefreshLoading=!1})),e.addCase(C.fulfilled,(function(e,t){e.isRefreshLoading=!1,localStorage.setItem("token",t.payload.data.accessToken),e.user=t.payload.data.user,e.isAuth=!0})),e.addCase(N.fulfilled,(function(e,t){var a,n;e.user=t.payload.data.updatedUser,Object(m.c)("en"===localStorage.getItem("i18nextLng")?null===(a=t.payload)||void 0===a?void 0:a.data.messageEn:null===(n=t.payload)||void 0===n?void 0:n.data.messageRu,{position:"top-right",autoClose:2500,hideProgressBar:!0,closeOnClick:!0,theme:"dark",type:"success"})})),e.addCase(k.fulfilled,(function(e,t){e.user=t.payload.data.user})),e.addCase(F.fulfilled,(function(e,t){var a,n;e.user=t.payload.data.user,Object(m.c)("en"===localStorage.getItem("i18nextLng")?null===(a=t.payload)||void 0===a?void 0:a.data.messageEn:null===(n=t.payload)||void 0===n?void 0:n.data.messageRu,{position:"top-right",autoClose:2500,hideProgressBar:!0,closeOnClick:!0,theme:"dark",type:"success"})}))}}),E=T.actions,L=E.changeLang,R=E.setAuth,B=T.reducer,U=Object(l.b)("category/getCategories",Object(j.a)(u.a.mark((function e(){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,g.get("/category/getCategories");case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))),G=Object(l.c)({name:"category",initialState:{categories:[]},reducers:{},extraReducers:function(e){e.addCase(U.fulfilled,(function(e,t){e.categories=t.payload.data.categories}))}}).reducer,V=a(19),P=Object(l.b)("transaction/getAllUserTransactions",function(){var e=Object(j.a)(u.a.mark((function e(t){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,w(t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),D=Object(l.c)({name:"transaction",initialState:{isTransactionsloading:!1,numberOfTransactions:0,transactions:[]},reducers:{resetTransactions:function(e){e.transactions=[]}},extraReducers:function(e){e.addCase(P.pending,(function(e){e.isTransactionsloading=!0})),e.addCase(P.fulfilled,(function(e,t){e.isTransactionsloading=!1,e.transactions=[].concat(Object(V.a)(e.transactions),Object(V.a)(t.payload.data.transactions)),e.numberOfTransactions=t.payload.data.numberOfTransactions||0})),e.addCase(P.rejected,(function(e){e.isTransactionsloading=!1}))}}),Y=D.actions.resetTransactions,q=D.reducer,W=Object(l.b)("statistic/getGeneralStatistic",Object(j.a)(u.a.mark((function e(){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,g.get("/statistic/getGeneralStatistic");case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))),M=Object(l.b)("statistic/getWholeStatistic",Object(j.a)(u.a.mark((function e(){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,g.get("/statistic/getWholeStatistic");case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))),Z=Object(l.b)("statistic/getStatisticForRange",function(){var e=Object(j.a)(u.a.mark((function e(t){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v(t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),H=Object(l.c)({name:"statistic",initialState:{loading:!1,generalStatistic:null,wholeStatistic:null,statisticForRange:null,isGeneralStatisticLoading:!1,isWholeStatisticLoading:!1,isStatisticForRangeLoading:!1},reducers:{},extraReducers:function(e){e.addCase(W.pending,(function(e){e.isGeneralStatisticLoading=!0})),e.addCase(W.fulfilled,(function(e,t){e.isGeneralStatisticLoading=!1,e.generalStatistic=t.payload.data.statistic})),e.addCase(W.rejected,(function(e){e.isGeneralStatisticLoading=!1})),e.addCase(M.pending,(function(e){e.isWholeStatisticLoading=!0})),e.addCase(M.fulfilled,(function(e,t){e.isWholeStatisticLoading=!1,e.wholeStatistic=t.payload.data.statistic})),e.addCase(M.rejected,(function(e){e.isWholeStatisticLoading=!1})),e.addCase(Z.pending,(function(e){e.isStatisticForRangeLoading=!0})),e.addCase(Z.fulfilled,(function(e,t){e.isStatisticForRangeLoading=!1,e.statisticForRange=t.payload.data.statistic})),e.addCase(Z.rejected,(function(e){e.isStatisticForRangeLoading=!1}))}}).reducer,Q=Object(l.a)({reducer:{userData:B,categoryDate:G,transactionData:q,statisticData:H}}),J=function(){return Object(i.c)()},K=i.d,X=function(e){return e.userData},z=function(e){return e.categoryDate},_=function(e){return e.transactionData},$=function(e){return e.statisticData},ee=a(13),te=(a(174),a.p+"static/media/logo.9b355c54.png"),ae=a(311),ne=a(312),se=a(129),ce=a(313),re=a(316),ie=a(58),oe=a(1),le=function(){var e=J(),t=K(X).lang,a=function(t){return function(){e(L(t)),ie.a.changeLanguage(t)}};return Object(oe.jsxs)(oe.Fragment,{children:[Object(oe.jsx)("span",{onClick:a("en"),className:"en"===t?"activeLang":"",children:Object(oe.jsx)("img",{src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAMAAABEpIrGAAAAA3NCSVQICAjb4U/gAAAACXBIWXMAAADdAAAA3QFwU6IHAAAAGXRFWHRTb2Z0d2FyZQB3d3cuaW5rc2NhcGUub3Jnm+48GgAAAThQTFRF////+5CWpG6Y+4WMum+RlGOUQUebQkibQkicRkueRkydR02dR02eSE2eSE6eSE6fSU+fSlCfSlCgTFGgTFKhTVKgTVOhTlOhTlSiT1WiUVWhUVajUVejUkeVUkqXUk6bUlGeUlOgUlejUlikU0eUU1ikVFqkVVqlVlumV1ymWV6nXGGoXmOpX2SqYGWqYGWrYWarYmesY2isZE2TZGmsZmqtZmuuZ2uuaG2uaW2vam+va3CwbHGxbXGxbXKxbnOyb3OycHSycHWzcXWzcnazdHi0dXm1d3y2eHy3en64e3+4fIC4foK6gl2WiIy/io7Ai4/AjZDBkFaKlZjFl5rGmJvGmZzHnaDJoKLKoKPLoaTLoqTLo6bMpKfMpafNpajN9fDw9fX19uDh+Lq++MrN+5CW/Wpy/0tV1Uw64AAAAAZ0Uk5TAIqwuMzZ24+8ogAAAOpJREFUOMtjYBgKgIkVGbAwowFGBjZ+NjYeOFJJRwcMHPE8vHECXLECnFEC3DFSSeiAgU3E1VHY3V7Yy0bYx1JYMQUdMHBECwlGifJFivOEi/FFyGJawabkYqfqZqfkbq3kZaGkkIwOGDjClGVC1SRDNSSCNSRDpBPQAQO7gZW5ga25gYOZvouRPjYrArU0A7TV/XVV/fRV/eVT0QEDh7OhnrOJrrOpnpOFjpNMIjpgYPNmY/MEIw8gKZeGDhh8jZFBEKaCRAKAIZUAYEgnABgSCACGZAKAsBUpBABDEgFA2ApGZryAcUjkPABWg9YaCJi69wAAAABJRU5ErkJggg==",alt:"en"})}),Object(oe.jsx)("span",{onClick:a("ru"),className:"ru"===t?"activeLang":"",children:Object(oe.jsx)("img",{src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAABHNCSVQICAgIfAhkiAAAAAlwSFlzAAAA7AAAAOwBeShxvQAAABl0RVh0U29mdHdhcmUAd3d3Lmlua3NjYXBlLm9yZ5vuPBoAAACWSURBVFiF7ZMrDsJQFETn3Vw+BoFAsQQca8Kj2AQodA17qcBhSNgCoiEvDaQp0Fyw7GBIOmcD5ySTAUTfSZ+mmSNiRrGbVY6IDVJaUwIi9kYR/6AABdADfHsc5XuLE0M+GSP7tcYUwJIR8HiipE+gAAX44nbJg3hRbvi2YfbVuaDdENANFaAAwNF1O5gdKPaIiuIVf8UX88QnAAqjY10AAAAASUVORK5CYII=",alt:"en"})})]})},de=function(){var e=J(),t=Object(ee.g)(),a=Object(re.a)().t,n=s.a.forwardRef((function(e,t){var a=e.onClick;return Object(oe.jsx)("div",{className:"dropdownMenu",children:Object(oe.jsx)("div",{className:"menuTogglerContainer",ref:t,onClick:a,children:Object(oe.jsx)("span",{})})})}));return Object(oe.jsx)("header",{children:Object(oe.jsx)(ae.a,{children:Object(oe.jsxs)(ne.a,{children:[Object(oe.jsx)(se.a,{md:"3",xs:"6",className:"logo",children:Object(oe.jsxs)(o.b,{to:"/",children:[Object(oe.jsx)("img",{src:te,alt:"app logo"}),"Billionstracker"]})}),Object(oe.jsx)(se.a,{md:"6",xs:"12",className:"menu order-1 order-md-0",children:Object(oe.jsxs)("ul",{className:"m-0 p-0",children:[Object(oe.jsx)("li",{children:Object(oe.jsx)(o.c,{to:"/home",children:a("Profile")})}),Object(oe.jsx)("li",{children:Object(oe.jsx)(o.c,{to:"/createTransaction",children:a("New transaction")})}),Object(oe.jsx)("li",{children:Object(oe.jsx)(o.c,{to:"/statistic",children:a("Statistic")})})]})}),Object(oe.jsx)(se.a,{md:"3",xs:"6",children:Object(oe.jsxs)(ce.a,{children:[Object(oe.jsx)(ce.a.Toggle,{as:n,id:"dropdown-custom-components"}),Object(oe.jsxs)(ce.a.Menu,{variant:"dark",children:[Object(oe.jsx)(ce.a.Item,{as:"span",className:"d-flex justify-content-around languagesController",children:Object(oe.jsx)(le,{})}),Object(oe.jsx)(ce.a.Item,{as:"span",onClick:function(){return t.push("/home")},children:a("Home")}),Object(oe.jsxs)(ce.a.Item,{href:"https://t.me/qeorqe",target:"_blank",children:[a("Support")," "]}),Object(oe.jsx)(ce.a.Item,{as:"span",onClick:function(){e(A()),t.push("/authorization")},children:a("Log out")})]})]})})]})})})},ue=a(10),je=a(133),be=a(314),he=a(134),me=function(e){return String(e).replace(/\B(?=(\d{3})+(?!\d))/g," ")},pe=(a(183),function(){var e=K(X),t=e.user,a=e.lang,s=K(z).categories,c=Object(n.useState)(!0),r=Object(ue.a)(c,2),i=r[0],o=r[1],l=Object(n.useState)(!0),d=Object(ue.a)(l,2),u=d[0],j=d[1],b=Object(n.useState)(""),h=Object(ue.a)(b,2),p=h[0],x=h[1],g=Object(n.useState)(""),f=Object(ue.a)(g,2),O=f[0],w=f[1],v=Object(n.useState)(""),y=Object(ue.a)(v,2),S=y[0],A=y[1],C=Object(re.a)().t,k=J(),F=/^((?!(0))[0-9]+)$/;return Object(n.useEffect)((function(){k(U())}),[]),Object(oe.jsx)(oe.Fragment,{children:Object(oe.jsxs)(ae.a,{className:"py-md-4 my-4",children:[Object(oe.jsxs)(ne.a,{children:[Object(oe.jsxs)("p",{className:"mb-1 fs-4 text-center fw-bold",children:[C("Select operation type"),":"]}),Object(oe.jsxs)(se.a,{xs:"12",lg:"5",className:"mx-auto d-flex",children:[Object(oe.jsx)("div",{className:"w-50 text-center",children:Object(oe.jsx)(je.a,{variant:u?"danger":"outline-danger",className:"w-75",onClick:function(){j(!0),x("")},children:C("expense")})}),Object(oe.jsx)("div",{className:"w-50 text-center",children:Object(oe.jsx)(je.a,{variant:u?"outline-success":"success",className:"w-75",onClick:function(){j(!1),x("")},children:C("income")})})]})]}),Object(oe.jsx)(ne.a,{children:Object(oe.jsxs)(se.a,{xs:"12",lg:"5",className:"mx-auto d-md-flex mt-3",children:[Object(oe.jsxs)("p",{className:"fs-5 mb-0 w-50 text-md-center text-nowrap",children:[C("Card balance"),":",Object(oe.jsxs)("span",{className:"yellowText",children:[" ",me(t.card)]})]}),Object(oe.jsxs)("p",{className:"fs-5 w-50 text-md-center text-nowrap",children:[C("Cash balance"),":",Object(oe.jsxs)("span",{className:"yellowText",children:[" ",me(t.cash)]})]})]})}),Object(oe.jsx)(ne.a,{children:Object(oe.jsxs)(se.a,{xs:"12",lg:"7",className:"mx-auto",children:[Object(oe.jsxs)(ne.a,{children:[Object(oe.jsxs)(se.a,{xs:"12",sm:"6",className:"d-flex flex-wrap",children:[Object(oe.jsxs)("p",{className:"mb-1 fs-5 text-center w-100",children:[C("Select card or cash"),":"]}),Object(oe.jsx)(be.a.Check,{checked:i,type:"radio",name:"cardOrCash",id:"default-radio2",className:"paymentCard d-flex align-items-center w-50 justify-content-center",label:"",onChange:function(){return o(!0)}}),Object(oe.jsx)(be.a.Check,{checked:!i,type:"radio",name:"cardOrCash",id:"default-radio1",label:"",className:"paymentCash d-flex align-items-center w-50 justify-content-center",onChange:function(){return o(!1)}})]}),Object(oe.jsxs)(se.a,{xs:"12",sm:"6",children:[Object(oe.jsxs)("p",{className:"mb-1 fs-5 text-center w-100",children:[C("Select category"),":"]}),Object(oe.jsxs)(be.a.Select,{onChange:function(e){return x(e.target.value)},children:[Object(oe.jsx)("option",{className:"d-none",value:"",children:C("Select category")}),s&&s.filter((function(e){return e.isExpense===u})).map((function(e){return Object(oe.jsx)("option",{value:e._id,children:"en"===a?e.nameEn:e.nameRu},e._id)}))]})]})]}),Object(oe.jsxs)(ne.a,{className:"mt-3",children:[Object(oe.jsxs)(se.a,{xs:"6",className:"d-flex flex-wrap",children:[Object(oe.jsxs)("p",{className:"mb-1 fs-5",children:[C("Name the transaction"),":"]}),Object(oe.jsx)(he.a,{type:"text",placeholder:C("Transaction title"),value:S,onChange:function(e){A(e.target.value)}})]}),Object(oe.jsxs)(se.a,{xs:"6",className:"d-flex flex-wrap",children:[Object(oe.jsxs)("p",{className:"mb-1  fs-5",children:[C("Enter the sum of transaction"),":"]}),Object(oe.jsx)(he.a,{type:"text",placeholder:C("Transaction sum"),value:O,onChange:function(e){(F.test(e.target.value)||""===e.target.value)&&w(e.target.value)}})]})]}),Object(oe.jsx)(ne.a,{children:Object(oe.jsxs)(se.a,{xs:"12",className:"mt-3 text-center",children:[Object(oe.jsxs)("p",{className:"fs-5 mb-1",children:[C("Submit transaction"),":"]}),Object(oe.jsx)(je.a,{variant:"warning",className:"w300Px text-white",onClick:function(){if(!O||!p||!S)return Object(m.c)(C("All fields are required"),{position:"top-right",autoClose:2500,hideProgressBar:!0,closeOnClick:!0,theme:"dark",type:"error"});if(u){if(i&&t.card<O||!i&&t.cash<O)return Object(m.c)(C("You don't have this much"),{position:"top-right",autoClose:2500,hideProgressBar:!0,closeOnClick:!0,theme:"dark",type:"error"});if(0===Number(O))return Object(m.c)(C("You don't have this much"),{position:"top-right",autoClose:2500,hideProgressBar:!0,closeOnClick:!0,theme:"dark",type:"error"})}var e={title:S,ownerId:t._id,isCard:i,isExpense:u,sum:Number(O),category:p,date:new Date};k(N({transaction:e}))},children:C("Submit")})]})})]})})]})})}),xe=function(){var e=Object(i.d)(X).user,t=Object(re.a)().t,a=e.card+e.cash;return Object(oe.jsxs)(se.a,{md:"6",xs:"12",className:"balance",children:[Object(oe.jsxs)("p",{className:"totalBalance fs-3 text-uppercase fw-bold",children:[a?t("Total balance"):"",Object(oe.jsxs)("span",{className:"yellowText",children:[" ",a?me(a):t("There is no money yet")]})]}),Object(oe.jsxs)("p",{className:"fs-5",children:[t("Card balance"),":",Object(oe.jsxs)("span",{children:[" ",me(e.card)]})]}),Object(oe.jsxs)("p",{className:"fs-5",children:[t("In cash"),":",Object(oe.jsxs)("span",{children:[" ",me(e.cash)]})]})]})},ge=a(44),fe=a.n(ge),Oe=(a(81),function(){var e=K($).generalStatistic,t=K(X),a=t.user,n=t.lang,s=Object(re.a)().t;return Object(oe.jsx)(se.a,{md:"6",xs:"12",children:e?Object(oe.jsxs)("div",{className:"my-3 my-md-0",children:[Object(oe.jsxs)("p",{className:"fs-5 mb-0 fw-bold",children:[s("Spent this month"),": ",Object(oe.jsx)("span",{className:"fst-italic yellowText",children:e.userExpensesThisMonth})]}),Object(oe.jsxs)("p",{className:"fs-5 fw-bold",children:[s("Spent for the whole time"),": ",Object(oe.jsx)("span",{className:"fst-italic yellowText",children:e.userExpenses})]}),Object(oe.jsxs)("p",{className:"fs-6 mb-0 fw-bold",children:[s("On")," ",Object(oe.jsx)("span",{className:"yellowText",children:"Billionstracker"})," ",s("Since")," ",Object(oe.jsx)("span",{className:"fst-italic yellowText",children:fe()(a.created).locale(n).format("LL")})]})]}):Object(oe.jsx)("div",{className:"d-flex justify-content-center align-items-center h-100 fw-bold my-3 my-md-0 ",children:Object(oe.jsx)("p",{children:"Some of your statistic will be here"})})})}),we=function(){return Object(oe.jsxs)(ne.a,{children:[Object(oe.jsx)(xe,{}),Object(oe.jsx)(Oe,{})]})},ve=(a(184),a(315)),ye=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"en",a=fe()(e).locale(t);return a.isSame(new Date,"week")?a.fromNow():a.format("LL")},Se=function(e){var t=e.transaction,a=K(X).lang;return Object(oe.jsx)(ve.a,{className:"mb-3  w-75 mx-auto fw-bold text-center",bg:"light",text:"dark",children:Object(oe.jsx)(ve.a.Body,{children:Object(oe.jsxs)(ne.a,{children:[Object(oe.jsx)(se.a,{xs:"12",sm:"4",className:"mb-2 mb-sm-0",children:t.title}),Object(oe.jsx)(se.a,{xs:"8",sm:"4",children:ye(t.date,a)}),Object(oe.jsx)(se.a,{xs:"4",sm:"4",children:t.isExpense?Object(oe.jsxs)("span",{className:"text-danger",children:["-",me(t.sum)]}):Object(oe.jsxs)("span",{className:"text-success",children:["+",me(t.sum)]})})]})})})},Ae=a.p+"static/media/loader.b77cbe87.gif",Ce=(a(185),function(e){var t=e.fullHeight;return Object(oe.jsx)("div",{className:"d-flex align-items-center justify-content-center pt-2\n    ".concat(t?"fullHeight":""," \n    "),children:Object(oe.jsx)("img",{src:Ae,alt:"loader img"})})}),Ne=function(){var e=K(_),t=e.isTransactionsloading,a=e.transactions,s=e.numberOfTransactions,c=J(),r=Object(re.a)().t,i=Object(n.useState)(10),o=Object(ue.a)(i,2),l=o[0],d=o[1];return t&&!s?Object(oe.jsx)(Ce,{}):Object(oe.jsx)("div",{className:"mt-4",children:s?Object(oe.jsxs)(oe.Fragment,{children:[Object(oe.jsx)("p",{className:"text-center fw-bold fs-4",children:r("Your transactions")}),a.map((function(e){return Object(oe.jsx)(Se,{transaction:e},e._id)})),t&&Object(oe.jsx)(Ce,{}),l<=s&&Object(oe.jsx)(je.a,{disabled:t,variant:"warning",className:"mt-4 mx-auto d-block text-white",onClick:function(){c(P({limit:10,numberToSkip:l})),d(10+l)},children:r("Load more")})]}):Object(oe.jsx)("div",{className:"d-flex justify-content-center align-items-center h-100 fw-bold my-3 mt-3",children:Object(oe.jsx)("p",{children:r("There is no transactions yet")})})})},ke=function(){var e=K(_).isTransactionsloading,t=K($).isGeneralStatisticLoading,a=J();return Object(n.useEffect)((function(){a(Y()),a(W()),a(P({limit:10,numberToSkip:0}))}),[]),t&&e?Object(oe.jsx)(Ce,{}):Object(oe.jsxs)(ae.a,{className:"py-4",children:[Object(oe.jsx)(we,{}),Object(oe.jsx)(Ne,{})]})},Fe=a(3),Ie=a(29),Te=a(33),Ee=a(72),Le=function(e){var t=e.values,a=e.errors,n=e.touched,s=e.handleChange,c=e.handleBlur,r=e.handleSubmit,i=e.isSubmitting,o=Object(re.a)().t;return Object(oe.jsxs)(Ie.b,{onSubmit:r,children:[Object(oe.jsx)(Ie.a,{name:"login",render:function(e){var t=e.field;return Object(oe.jsxs)(Ee.a,{controlId:"login",className:"authFormGroup mb-4",children:[Object(oe.jsx)(he.a,{type:"text",value:t.value,onChange:t.onChange,placeholder:o("login"),isValid:!1}),n.login&&a.login&&Object(oe.jsx)(he.a.Feedback,{type:"invalid",tooltip:!0,children:a.login})]})}}),Object(oe.jsx)(Ie.a,{type:"password",name:"password",onChange:s,onBlur:c,value:t.password,render:function(e){var t=e.field;return Object(oe.jsxs)(Ee.a,{controlId:"password",className:"authFormGroup mb-4",children:[Object(oe.jsx)(he.a,{type:"password",value:t.value,onChange:t.onChange,placeholder:o("password")}),n.password&&a.password&&Object(oe.jsx)(he.a.Feedback,{type:"invalid",tooltip:!0,children:a.password})]})}}),Object(oe.jsx)(Ie.a,{type:"password",name:"confirmPassword",onChange:s,onBlur:c,value:t.confirmPassword,render:function(e){var t=e.field;return Object(oe.jsxs)(Ee.a,{controlId:"confirmPassword",className:"authFormGroup mb-4",children:[Object(oe.jsx)(he.a,{type:"password",value:t.value,onChange:t.onChange,placeholder:o("Confirm password")}),n.confirmPassword&&a.confirmPassword&&Object(oe.jsx)(he.a.Feedback,{type:"invalid",tooltip:!0,children:a.confirmPassword})]})}}),Object(oe.jsx)(je.a,{type:"submit",variant:"warning",disabled:i||Boolean(a.login&&n.login)||Boolean(a.password&&n.password),children:o("Sign up")})]})},Re={login:"",password:"",confirmPassword:""},Be=Object(i.b)()((function(e){return Object(oe.jsx)(Ie.c,{initialValues:Re,validationSchema:Te.a().shape({login:Te.c().email("Email not valid").required("Email is required"),password:Te.c().required("Password is required").min(6,"Password must contain at least 6 symbols"),confirmPassword:Te.c().required("Confirm your password").oneOf([Te.b("password")],"Password does not match")}),onSubmit:function(t){return e.dispatch(y({login:t.login.toLowerCase(),password:t.password}))},render:function(e){return Object(oe.jsx)(Le,Object(Fe.a)({},e))}})})),Ue=function(e){var t=e.values,a=e.errors,n=e.touched,s=e.handleChange,c=e.handleBlur,r=e.handleSubmit,i=e.isSubmitting,o=Object(re.a)().t;return Object(oe.jsxs)(Ie.b,{onSubmit:r,children:[Object(oe.jsx)(Ie.a,{name:"login",render:function(e){var t=e.field;return Object(oe.jsxs)(Ee.a,{controlId:"login",className:"authFormGroup mb-4",children:[Object(oe.jsx)(he.a,{type:"text",value:t.value,onChange:t.onChange,placeholder:o("login"),isValid:!1}),n.login&&a.login&&Object(oe.jsx)(he.a.Feedback,{type:"invalid",tooltip:!0,children:a.login})]})}}),Object(oe.jsx)(Ie.a,{type:"password",name:"password",onChange:s,onBlur:c,value:t.password,render:function(e){var t=e.field;return Object(oe.jsxs)(Ee.a,{controlId:"password",className:"authFormGroup mb-4",children:[Object(oe.jsx)(he.a,{type:"password",value:t.value,onChange:t.onChange,placeholder:o("password")}),n.password&&a.password&&Object(oe.jsx)(he.a.Feedback,{type:"invalid",tooltip:!0,children:a.password})]})}}),Object(oe.jsx)(je.a,{type:"submit",variant:"warning",disabled:i||Boolean(a.login&&n.login)||Boolean(a.password&&n.password),children:o("Sign in")})]})},Ge={login:"",password:""},Ve=Object(i.b)()((function(e){return Object(oe.jsx)(Ie.c,{initialValues:Ge,validationSchema:Te.a().shape({login:Te.c().email("Email not valid").required("Email is required"),password:Te.c().required("Password is required").min(6,"Password must contain at least 6 symbols")}),onSubmit:function(t){return e.dispatch(S({login:t.login.toLowerCase(),password:t.password}))},render:function(e){return Object(oe.jsx)(Ue,Object(Fe.a)({},e))}})})),Pe=(a(284),function(){var e=Object(n.useState)(!0),t=Object(ue.a)(e,2),a=t[0],s=t[1],c=Object(re.a)().t;return Object(oe.jsx)("section",{className:"signUp align-items-md-center d-flex",children:Object(oe.jsx)(ae.a,{children:Object(oe.jsxs)(ne.a,{className:"h-100",children:[Object(oe.jsxs)(se.a,{xs:"12",sm:"6",className:"text-center",children:[Object(oe.jsx)("img",{src:te,alt:"logo"}),Object(oe.jsx)("h1",{className:"yellowText",children:"Billionstracker"}),Object(oe.jsx)("p",{children:c("Powerful app for controlling your budget")})]}),Object(oe.jsxs)(se.a,{xs:"12",sm:"6",className:"authFormContainer mt-sm-3",children:[a?Object(oe.jsxs)(oe.Fragment,{children:[Object(oe.jsx)("h2",{children:c("Sign in")}),Object(oe.jsx)(Ve,{}),Object(oe.jsxs)("p",{onClick:function(){return s(!1)},className:"my-2 cursor-pointer",children:[c("New to billionstracker"),"? ",Object(oe.jsx)("span",{children:c("Sign up")})]})]}):Object(oe.jsxs)(oe.Fragment,{children:[Object(oe.jsx)("h2",{children:c("Sign up")}),Object(oe.jsx)(Be,{}),Object(oe.jsxs)("p",{onClick:function(){return s(!0)},className:"my-2 cursor-pointer",children:[c("Already on billionstracker"),"? ",Object(oe.jsx)("span",{children:c("Sign in")})]})]}),Object(oe.jsx)("div",{className:"d-flex justify-content-around languagesController pb-3",style:{width:"100px",margin:"0 auto"},children:Object(oe.jsx)(le,{})})]})]})})})}),De=a(141),Ye=a(140),qe=function(e){var t=e.statisticForRange,a=e.totalSpent,s=Object(n.useState)(null),c=Object(ue.a)(s,2),r=c[0],i=c[1],o=K(X).lang,l=["#E38627","#C13C37","#6A2135","#E38627","#C13C37","#6A2135","#E38627","#C13C37","#6A2135","#E38627","#C13C37","#6A2135"],d=t.map((function(e,t){return{value:e.total,color:r===t?"grey":l[t],tooltip:"".concat("en"===o?e._id.nameEn:e._id.nameRu,", ").concat(me(e.total))}}));return Object(oe.jsx)(oe.Fragment,{children:a>0&&Object(oe.jsxs)(oe.Fragment,{children:[Object(oe.jsx)(De.PieChart,{data:d,style:{height:"300px",width:"300px"},segmentsShift:.5,label:function(e){var t=e.dataEntry;return"".concat(Math.round(t.percentage)?Math.round(t.percentage):">1","%")},totalValue:a,labelStyle:{fontSize:"5px",fill:"white"},onMouseOver:function(e,t){i(t)},onMouseOut:function(){i(null)},segmentsStyle:{transition:"stroke .3s",cursor:"pointer"}}),Object(oe.jsx)(Ye.a,{getContent:function(){var e;return"number"===typeof r?null===(e=d[r])||void 0===e?void 0:e.tooltip:null}})]})})},We=function(e){var t=e.listItem;return Object(oe.jsx)(ve.a,{className:"mb-3  w-75 mx-auto fw-bold text-center",bg:"light",text:"dark",children:Object(oe.jsx)(ve.a.Body,{children:Object(oe.jsxs)(ne.a,{children:[Object(oe.jsx)(se.a,{xs:"4",sm:"4",className:"mb-2 mb-sm-0",children:t.title}),Object(oe.jsx)(se.a,{xs:"4",sm:"4",children:me(t.value)}),Object(oe.jsxs)(se.a,{xs:"4",sm:"4",children:[t.percentage,"%"]})]})})})},Me=function(e){var t=e.statisticForRange,a=e.totalSpent,n=K(X).lang,s=t.map((function(e,t){return{title:"en"===n?e._id.nameEn:e._id.nameRu,value:e.total,percentage:Math.round(100*e.total/a)||">1"}}));return Object(oe.jsx)("div",{children:s.sort((function(e,t){return t.value-e.value})).map((function(e){return Object(oe.jsx)(We,{listItem:e},e.title)}))})},Ze=a(142),He=a.n(Ze),Qe=(a(300),function(){var e=J(),t=K($),a=t.wholeStatistic,s=t.statisticForRange,c=t.isWholeStatisticLoading,r=t.isStatisticForRangeLoading,i=Object(re.a)().t,o=K(X),l=o.user,d=o.lang,u=Object(n.useState)([new Date(l.created),new Date]),j=Object(ue.a)(u,2),b=j[0],h=j[1],m=Object(n.useState)(!0),p=Object(ue.a)(m,2),x=p[0],g=p[1];return Object(n.useEffect)((function(){e(M()),e(Z({from:b[0],to:b[1]}))}),[]),Object(n.useEffect)((function(){e(Z({from:b[0],to:b[1]}))}),[b]),c&&r?Object(oe.jsx)(Ce,{}):Object(oe.jsx)(ae.a,{className:"py-4",children:a&&s?Object(oe.jsxs)(ne.a,{children:[Object(oe.jsxs)(se.a,{xs:"12",md:"6",children:[Object(oe.jsxs)("p",{className:"fs-5 mb-0 fw-bold text-center",children:[i("Select range"),":"]}),Object(oe.jsx)("div",{className:"d-flex justify-content-center",children:Object(oe.jsx)(He.a,{onChange:h,maxDetail:"year",value:b,locale:"en",calendarIcon:null,clearIcon:null,format:"MM.y",minDetail:"year",minDate:new Date(2021,3,1),maxDate:new Date})}),Object(oe.jsxs)("div",{className:"rangeHolder mt-3 text-center","data-tip":"chart",children:[s.totalSpent>0&&Object(oe.jsxs)("div",{className:"rangeHolderControls mb-3",children:[Object(oe.jsx)(je.a,{size:"sm",className:"mx-2 ".concat(x?"text-white":""),variant:x?"warning":"outline-warning",onClick:function(){return g(!0)},children:i("Pie chart")}),Object(oe.jsx)(je.a,{size:"sm",className:x?"":"text-white",variant:x?"outline-warning":"warning",onClick:function(){return g(!1)},children:i("List")})]}),r?Object(oe.jsx)(Ce,{}):Object(oe.jsxs)(oe.Fragment,{children:[Object(oe.jsxs)("p",{className:"fw-bold",children:[i("Spent during this period"),":",Object(oe.jsxs)("span",{className:"fst-italic yellowText",children:[" ",s.totalSpent]})]}),x?Object(oe.jsx)(qe,{totalSpent:s.totalSpent,statisticForRange:s.transactionsInRange}):Object(oe.jsx)(Me,{totalSpent:s.totalSpent,statisticForRange:s.transactionsInRange})]})]})]}),Object(oe.jsxs)(se.a,{xs:"12",md:"6",children:[Object(oe.jsxs)("p",{className:"fs-5 mb-0 fw-bold",children:[i("General statistic"),":"]}),Object(oe.jsxs)("div",{className:"spent",children:[Object(oe.jsxs)("p",{className:"mb-0",children:[i("Spent for the whole time"),":",Object(oe.jsx)("span",{className:"fst-italic yellowText",children:a.userExpenses})]}),Object(oe.jsxs)("p",{className:"mb-0",children:[i("Spent this month"),":",Object(oe.jsxs)("span",{className:"fst-italic yellowText",children:[" ",a.userExpensesThisMonth]})]})]}),Object(oe.jsxs)("div",{className:"earned mt-2",children:[Object(oe.jsxs)("p",{className:"mb-0",children:[i("Earned for the whole time"),":",Object(oe.jsx)("span",{className:"fst-italic yellowText",children:a.userIncomes})]}),Object(oe.jsxs)("p",{className:"mb-1",children:[i("Earned this month"),":",Object(oe.jsx)("span",{className:"fst-italic yellowText",children:a.userIncomesThisMonth})]}),Object(oe.jsxs)("p",{className:"fs-6 mb-0 fw-bold",children:[i("On")," ",Object(oe.jsx)("span",{className:"yellowText",children:"Billionstracker"})," ",i("Since")," ",Object(oe.jsx)("span",{className:"fst-italic yellowText",children:fe()(l.created).locale(d).format("LL")})]})]})]})]}):Object(oe.jsx)("div",{className:"d-flex justify-content-center align-items-center h-100 fw-bold my-3 my-md-0 ",children:Object(oe.jsx)("p",{children:i("Some of your statistic will be here")})})})}),Je=function(){var e=J(),t=Object(ee.g)(),a=Object(re.a)().t,s=K(X).user,c=Object(n.useState)(""),r=Object(ue.a)(c,2),i=r[0],o=r[1],l=Object(n.useState)(""),d=Object(ue.a)(l,2),u=d[0],j=d[1],b=function(e){return function(t){(h.test(t.target.value)||""===t.target.value)&&e(t.target.value)}},h=/^[0-9]+$/;Object(n.useEffect)((function(){s.isFirstEnter&&e(k())}),[]);return Object(oe.jsxs)(oe.Fragment,{children:[Object(oe.jsx)("style",{children:"\n  header .menu ul{\n    display: none;\n  }"}),Object(oe.jsxs)(ae.a,{className:"py-4",children:[Object(oe.jsx)("p",{className:"fs-4 fw-bold text-center py-2",children:a("Here you can set initial values for your balance")}),Object(oe.jsxs)(ne.a,{className:"text-center",children:[Object(oe.jsxs)(se.a,{xs:"12",lg:"6",className:"mb-3 mb-lg-0",children:[Object(oe.jsxs)("p",{className:"fs-5 fw-bold",children:[a("Set your card balance"),":"]}),Object(oe.jsx)(he.a,{type:"text",placeholder:a("Sum on card"),value:i,onChange:b(o)})]}),Object(oe.jsxs)(se.a,{xs:"12",lg:"6",children:[Object(oe.jsxs)("p",{className:"fs-5 fw-bold",children:[a("Set your cash balance"),":"]}),Object(oe.jsx)(he.a,{type:"text",placeholder:a("Sum in cash"),value:u,onChange:b(j)})]}),Object(oe.jsxs)(se.a,{xs:"12",className:"mt-3 text-center",children:[Object(oe.jsxs)("p",{className:"fs-5 mb-1 mt-4",children:[a("Set initial values"),":"]}),Object(oe.jsx)(je.a,{variant:"warning",className:"w300Px text-white",onClick:function(){if(""===i||""===u)return Object(m.c)(a("All fields are required"),{position:"top-right",autoClose:2500,hideProgressBar:!0,closeOnClick:!0,theme:"dark",type:"error"});e(F({card:Number(i),cash:Number(u)})),t.push("/")},children:a("Initialize")}),Object(oe.jsx)("p",{className:"mt-2 yellowText text-decoration-underline cursor-pointer",onClick:function(){return t.push("/")},children:a("Skip")})]})]})]})]})},Ke=function(e){var t=e.isAuth,a=K(X).isRefreshLoading;return null===t||a?Object(oe.jsx)(Ce,{fullHeight:!0}):Object(oe.jsx)(oe.Fragment,{children:t?Object(oe.jsxs)(ee.d,{children:[Object(oe.jsx)(ee.b,{path:"/statistic",component:Qe}),Object(oe.jsx)(ee.b,{path:"/createTransaction",component:pe}),Object(oe.jsx)(ee.b,{path:"/home",component:ke}),Object(oe.jsx)(ee.b,{path:"/initialization",component:Je}),Object(oe.jsx)(ee.a,{to:"/home"})]}):Object(oe.jsxs)(ee.d,{children:[Object(oe.jsx)(ee.b,{path:"/authorization",component:Pe}),Object(oe.jsx)(ee.a,{to:"/authorization"})]})})},Xe=(a(301),a(302),function(){var e=Object(ee.g)(),t=J(),a=K(X),s=a.isAuth,c=a.user;return Object(n.useEffect)((function(){var e=localStorage.getItem("token");t(e?C():R(!1))}),[]),Object(n.useEffect)((function(){s&&c.isFirstEnter&&e.push("/initialization")}),[s,c]),Object(oe.jsxs)(oe.Fragment,{children:[s&&!1===(null===c||void 0===c?void 0:c.isFirstEnter)&&Object(oe.jsx)(de,{}),Object(oe.jsx)(Ke,{isAuth:s}),Object(oe.jsx)(m.b,{transition:m.a})]})}),ze=a(143),_e=a(145),$e=a(59),et={order:["navigator","htmlTag","path","subdomain"],lookupQuerystring:"lng",lookupCookie:"i18next",lookupLocalStorage:"i18nextLng",lookupFromPathIndex:0,lookupFromSubdomainIndex:0,caches:["localStorage","cookie"],excludeCacheFor:["cimode"],cookieMinutes:10,cookieDomain:"myDomain",htmlTag:document.documentElement,checkWhitelist:!0};ie.a.use(ze.a).use(_e.a).use($e.e).init({backend:{loadPath:"/billionstraker-fe/locales/{{lng}}/{{ns}}.json"},lng:localStorage.getItem("i18nextLng")||"en",fallbackLng:["en"],whitelist:["en","ru"],detection:et,interpolation:{escapeValue:!1}});ie.a;r.a.render(Object(oe.jsx)(i.a,{store:Q,children:Object(oe.jsx)(s.a.StrictMode,{children:Object(oe.jsx)(o.a,{children:Object(oe.jsx)(n.Suspense,{fallback:function(){return Object(oe.jsx)(Ce,{fullHeight:!0})},children:Object(oe.jsx)(Xe,{})})})})}),document.getElementById("root"))}},[[303,1,2]]]);
//# sourceMappingURL=main.bd1dd8b7.chunk.js.map