(this["webpackJsonpbillionstracker-fe"]=this["webpackJsonpbillionstracker-fe"]||[]).push([[4],{467:function(e,t,s){},472:function(e,t,s){"use strict";s.r(t);var a=s(12),n=s(0),c=s(440),l=s(430),i=s(224),r=s(236),o=s(17),j=s(220),b=s(45),d=s(83),m=s(165),h=s.n(m),x=s(1),O=function(e){var t=e.wholeStatistic,s=e.user,a=e.lang,n=Object(r.a)().t,c=h()().diff(s.created,"days")+1;return Object(x.jsxs)(x.Fragment,{children:[Object(x.jsxs)("p",{className:"fs-5 mb-0 fw-bold",children:[n("General statistic"),":"]}),Object(x.jsxs)("div",{className:"spent",children:[Object(x.jsxs)("p",{className:"mb-0",children:[n("Spent for the whole time"),":",Object(x.jsx)("span",{className:"fst-italic yellowText",children:t.userExpenses})]}),Object(x.jsxs)("p",{className:"mb-0",children:[n("Spent this month"),":",Object(x.jsxs)("span",{className:"fst-italic yellowText",children:[" ",t.userExpensesThisMonth]})]})]}),Object(x.jsxs)("div",{className:"earned mt-2",children:[Object(x.jsxs)("p",{className:"mb-0",children:[n("Earned for the whole time"),":",Object(x.jsx)("span",{className:"fst-italic yellowText",children:t.userIncomes})]}),Object(x.jsxs)("p",{className:"mb-0",children:[n("Earned this month"),":",Object(x.jsx)("span",{className:"fst-italic yellowText",children:t.userIncomesThisMonth})]}),t.averageIncomePerMonth>0&&Object(x.jsxs)("p",{className:"mb-0",children:[n("Average earned per month"),":",Object(x.jsxs)("span",{className:"fst-italic yellowText",children:[" ",t.averageIncomePerMonth]})]}),t.averageExpensePerMonth>0&&Object(x.jsxs)("p",{className:"mt-2 mb-0",children:[n("Average spent per month"),":",Object(x.jsxs)("span",{className:"fst-italic yellowText",children:[" ",t.averageExpensePerMonth]})]}),Object(x.jsxs)("p",{className:"mb-1",children:[n("Average spent per day"),":",Object(x.jsxs)("span",{className:"fst-italic yellowText",children:[" ",Math.ceil(t.userExpenses/c)]})]}),Object(x.jsxs)("p",{className:"fs-6 mb-0 fw-bold",children:[n("On")," ",Object(x.jsx)("span",{className:"yellowText",children:"Billionstracker"})," ",n("Since")," ",Object(x.jsx)("span",{className:"fst-italic yellowText",children:h()(s.created).locale(a).format("LL")})]})]})]})},u=s(186),p=s(448),f=s.n(p),g=s(466),w=s(465),v=s(167),N=function(e){var t=e.statisticForRange,s=e.totalSpent,c=Object(n.useState)(null),l=Object(a.a)(c,2),i=l[0],r=l[1],o=["#E38627","#C13C37","#6A2135","#E38627","#C13C37","#6A2135","#E38627","#C13C37","#6A2135","#E38627","#C13C37","#6A2135"],j=t.map((function(e,t){return{value:e.total,color:i===t?"grey":o[t],tooltip:"".concat(e._id.name,", ").concat(Object(v.a)(e.total))}}));return Object(x.jsx)(x.Fragment,{children:s>0&&Object(x.jsxs)(x.Fragment,{children:[Object(x.jsx)(g.PieChart,{data:j,style:{height:"300px",width:"300px"},segmentsShift:.5,label:function(e){var t=e.dataEntry;return"".concat(Math.round(t.percentage)?Math.round(t.percentage):">1","%")},totalValue:s,labelStyle:{fontSize:"5px",fill:"white"},onMouseOver:function(e,t){r(t)},onMouseOut:function(){r(null)},segmentsStyle:{transition:"stroke .3s",cursor:"pointer"}}),Object(x.jsx)(w.a,{getContent:function(){var e;return"number"===typeof i?null===(e=j[i])||void 0===e?void 0:e.tooltip:null}})]})})},y=s(163),S=function(e){var t=e.listItem;return Object(x.jsx)(y.a,{className:"mb-3  w-75 mx-auto fw-bold text-center",bg:"light",text:"dark",children:Object(x.jsx)(y.a.Body,{children:Object(x.jsxs)(l.a,{children:[Object(x.jsx)(i.a,{xs:"4",sm:"4",className:"mb-2 mb-sm-0",children:t.title}),Object(x.jsx)(i.a,{xs:"4",sm:"4",children:Object(v.a)(t.value)}),Object(x.jsxs)(i.a,{xs:"4",sm:"4",children:[t.percentage,"%"]})]})})})},M=function(e){var t=e.statisticForRange,s=e.totalSpent,a=t.map((function(e,t){return{title:e._id.name,value:e.total,percentage:Math.round(100*e.total/s)||">1"}}));return Object(x.jsx)("div",{children:a.sort((function(e,t){return t.value-e.value})).map((function(e){return Object(x.jsx)(S,{listItem:e},e.title)}))})},R=(s(467),function(e){var t=e.statisticForRange,s=e.monthsRange,c=e.setMonthsRange,l=Object(r.a)().t,i=Object(o.b)(b.d).lang,j=Object(o.b)(b.b).isStatisticForRangeLoading,m=Object(n.useState)(!0),h=Object(a.a)(m,2),O=h[0],p=h[1];return Object(x.jsxs)(x.Fragment,{children:[Object(x.jsxs)("p",{className:"fs-5 mb-0 fw-bold text-center",children:[l("Select range"),":"]}),Object(x.jsx)("div",{className:"d-flex justify-content-center",children:Object(x.jsx)(f.a,{onChange:c,maxDetail:"year",value:s,locale:i,calendarIcon:null,clearIcon:null,format:"MM.y",minDetail:"year",minDate:new Date(2021,3,1),maxDate:new Date})}),Object(x.jsxs)("div",{className:"rangeHolder mt-3 text-center","data-tip":"chart",children:[t.totalSpent>0&&Object(x.jsxs)("div",{className:"rangeHolderControls mb-3",children:[Object(x.jsx)(u.a,{size:"sm",className:"mx-2 ".concat(O?"text-white":""),variant:O?"warning":"outline-warning",onClick:function(){return p(!0)},children:l("Pie chart")}),Object(x.jsx)(u.a,{size:"sm",className:O?"":"text-white",variant:O?"outline-warning":"warning",onClick:function(){return p(!1)},children:l("List")})]}),j?Object(x.jsx)(d.a,{}):Object(x.jsxs)(x.Fragment,{children:[Object(x.jsxs)("p",{className:"fw-bold",children:[l("Spent during this period"),":",Object(x.jsxs)("span",{className:"fst-italic yellowText",children:[" ",t.totalSpent]})]}),O?Object(x.jsx)(N,{totalSpent:t.totalSpent,statisticForRange:t.transactionsInRange}):Object(x.jsx)(M,{totalSpent:t.totalSpent,statisticForRange:t.transactionsInRange})]})]})]})});s(237),t.default=function(){var e=Object(o.a)(),t=Object(o.b)(b.b),s=t.wholeStatistic,m=t.statisticForRange,h=t.isWholeStatisticLoading,u=t.isStatisticForRangeLoading,p=Object(r.a)().t,f=Object(o.b)(b.d),g=f.user,w=f.lang;Object(n.useEffect)((function(){e(Object(j.c)())}),[]);var v=Object(n.useState)([new Date(g.created),new Date]),N=Object(a.a)(v,2),y=N[0],S=N[1];return Object(n.useEffect)((function(){e(Object(j.b)({from:y[0],to:y[1]}))}),[y]),h&&u?Object(x.jsx)(d.a,{}):Object(x.jsx)(c.a,{className:"py-4",children:s&&m?Object(x.jsxs)(l.a,{children:[Object(x.jsx)(i.a,{xs:"12",md:"6",children:Object(x.jsx)(R,{statisticForRange:m,monthsRange:y,setMonthsRange:S})}),Object(x.jsx)(i.a,{xs:"12",md:"6",children:Object(x.jsx)(O,{wholeStatistic:s,user:g,lang:w})})]}):Object(x.jsx)("div",{className:"d-flex justify-content-center align-items-center h-100 fw-bold my-3 my-md-0 ",children:Object(x.jsx)("p",{children:p("Some of your statistic will be here")})})})}}}]);
//# sourceMappingURL=4.564ea487.chunk.js.map