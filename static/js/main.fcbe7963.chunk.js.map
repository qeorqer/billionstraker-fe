{"version":3,"sources":["api/axiosInstance.ts","api/index.ts","store/reducers/user.reducer.ts","store/reducers/category.reducer.ts","store/reducers/transaction.reducer.ts","store/reducers/statistic.reducer.ts","store/index.ts","hooks/react-redux.hook.ts","store/selectors.ts","images/logo.png","components/header/LanguageSwitcher.tsx","images/en.png","images/ru.png","components/header/AppHeader.tsx","helpers/index.js.ts","pages/createTransaction/CreateTransaction.tsx","components/profile/Balance.tsx","components/profile/GeneralStatistic.tsx","components/profile/UserInfo.tsx","helpers/time.ts","components/profile/Transaction.tsx","images/loader.gif","components/loader/Loader.tsx","components/profile/Transactions.tsx","pages/profile/Profile.tsx","components/auth/Signnup.tsx","components/auth/Login.tsx","pages/auth/Auth.tsx","components/statistic/WholeStatistic.tsx","components/statistic/Diagram.tsx","components/statistic/ListItem.tsx","components/statistic/List.tsx","components/statistic/RangeStatistic.tsx","pages/statistic/Statistic.tsx","pages/initPage/Init.tsx","components/router/AppRouter.tsx","App.tsx","i18n.ts","index.tsx"],"names":["baseUrl","axiosInstance","axios","create","withCredentials","baseURL","headers","setInitialValues","body","api","patch","addTransaction","post","getAllUserTransactions","getStatisticForRange","signUp","createAsyncThunk","signUpData","thunkApi","a","res","data","isAxiosError","rejectWithValue","response","logIn","loginData","logOut","checkAuth","get","setFirstEnter","initialState","user","isAuth","isRefreshLoading","isSignUpSignInLoading","lang","localStorage","getItem","userReducer","createSlice","name","reducers","changeLang","state","action","payload","setAuth","extraReducers","builder","addCase","fulfilled","toast","messageEn","messageRu","position","autoClose","hideProgressBar","closeOnClick","theme","type","rejected","pending","setItem","accessToken","removeItem","updatedUser","actions","getCategories","categoryReducer","categories","transactionReducer","isTransactionsloading","numberOfTransactions","transactions","resetTransactions","getGeneralStatistic","getWholeStatistic","statisticReducer","loading","generalStatistic","wholeStatistic","statisticForRange","isGeneralStatisticLoading","isWholeStatisticLoading","isStatisticForRangeLoading","statistic","store","configureStore","reducer","userData","categoryDate","transactionData","statisticData","useAppDispatch","useDispatch","useAppSelector","useSelector","categoryData","LanguageSwitcher","dispatch","handleLangChange","i18next","changeLanguage","onClick","className","src","alt","AppHeader","history","useHistory","t","useTranslation","customToggle","React","forwardRef","ref","Container","Row","Col","md","xs","to","logo","Dropdown","Toggle","as","id","Menu","variant","Item","push","href","target","formattingNumber","number","String","replace","CreateTransaction","useState","useCard","setUseCard","isExpense","setIsExpense","categoryId","setCategoryId","sum","setSum","title","setTitle","validateSumReg","useEffect","lg","Button","card","cash","sm","Form","Check","checked","label","onChange","Select","e","value","filter","category","map","el","_id","nameEn","nameRu","FormControl","placeholder","event","test","Number","newTransaction","ownerId","isCard","date","Date","transaction","Balance","total","GeneralStatistic","userExpensesThisMonth","userExpenses","moment","created","locale","format","UserInfo","formatTransactionDate","formatedDate","isSame","fromNow","Transaction","Card","bg","text","Body","Loader","fullHeight","loaderImage","Transactions","numberToSkip","setNumberToSkip","disabled","limit","Profile","SignUpFormMarkup","values","errors","touched","handleChange","handleBlur","handleSubmit","isSubmitting","onSubmit","render","field","FormGroup","controlId","isValid","login","Feedback","tooltip","onBlur","password","confirmPassword","Boolean","init","connect","props","initialValues","validationSchema","Yup","shape","email","required","min","oneOf","trim","toLowerCase","LogInFormMarkup","Auth","showSignIn","setShowSignIn","Login","style","width","margin","WholeStatistic","daysOnApp","diff","userIncomes","userIncomesThisMonth","averageIncomePerMonth","averageExpensePerMonth","Math","ceil","Diagram","totalSpent","hovered","setHovered","colors","dataForRange","index","color","height","segmentsShift","dataEntry","round","percentage","totalValue","labelStyle","fontSize","fill","onMouseOver","onMouseOut","segmentsStyle","transition","cursor","getContent","ListItem","listItem","List","sort","b","RangeStatistic","monthsRange","setMonthsRange","useDiagram","setUseDiagram","maxDetail","calendarIcon","clearIcon","minDetail","minDate","maxDate","size","transactionsInRange","Statistic","from","Init","setCard","setCash","setter","console","log","isFirstEnter","AppRouter","path","component","App","token","interceptors","request","use","config","Authorization","error","originalRequest","status","_isRetry","Slide","options","order","lookupQuerystring","lookupCookie","lookupLocalStorage","lookupFromPathIndex","lookupFromSubdomainIndex","caches","excludeCacheFor","cookieMinutes","cookieDomain","htmlTag","document","documentElement","checkWhitelist","i18n","Backend","LanguageDetector","initReactI18next","backend","loadPath","lng","fallbackLng","whitelist","detection","interpolation","escapeValue","ReactDOM","StrictMode","fallback","getElementById"],"mappings":"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","file":"static/js/main.fcbe7963.chunk.js","sourcesContent":["import axios from 'axios'\r\n\r\nexport const baseUrl:string = 'https://young-beyond-74584.herokuapp.com'\r\n\r\nexport const axiosInstance = axios.create({\r\n  withCredentials: true,\r\n  baseURL: `${baseUrl}/api`,\r\n  headers: {\r\n    \"Content-type\": \"application/json\"\r\n  }\r\n\r\n})\r\n\r\nexport default axiosInstance","import api from './axiosInstance'\r\nimport { authData, loginResponseType, updateUserResponseType, signUpResponseType } from \"../types/user.type\";\r\nimport { AxiosResponse } from 'axios';\r\nimport { categoryResponseType } from \"../types/category.type\";\r\nimport { addTransactionResponseType, getTransactionsResponseType, transactionType } from \"../types/transaction.type\";\r\nimport {\r\n  getGeneralStatisticResponseType,\r\n  getStatisticForRangeResponseType,\r\n  getWholeStatisticResponseType\r\n} from \"../types/statistic.type\";\r\n\r\n/* user requests */\r\nexport const signUp = (body: authData): Promise<AxiosResponse<signUpResponseType>> => api.post('/user/signUp', body)\r\nexport const logIn = (body: authData): Promise<AxiosResponse<loginResponseType>> => api.post('/user/logIn', body)\r\nexport const logOut = (): Promise<AxiosResponse<void>> => api.post('/user/logOut')\r\nexport const refresh = (): Promise<AxiosResponse<loginResponseType>> => api.get('/user/refresh')\r\nexport const setFirstEnter = (): Promise<AxiosResponse<updateUserResponseType>> => api.patch('/user/setFirstEnter')\r\nexport const setInitialValues = (body:{card:number, cash:number}): Promise<AxiosResponse<updateUserResponseType>> => api.patch('/user/setInitialValues', body)\r\n\r\n/*transaction requests*/\r\nexport const addTransaction = (body: { transaction: transactionType }): Promise<AxiosResponse<addTransactionResponseType>> => api.post('/transaction/addNewTransaction', body)\r\nexport const getAllUserTransactions = (body: {limit: number, numberToSkip: number}): Promise<AxiosResponse<getTransactionsResponseType>> => api.post('/transaction/getAllUserTransactions', body)\r\n\r\n/*statistic requests*/\r\nexport const getGeneralStatistic = (): Promise<AxiosResponse<getGeneralStatisticResponseType>> => api.get('/statistic/getGeneralStatistic')\r\nexport const getWholeStatistic = (): Promise<AxiosResponse<getWholeStatisticResponseType>> => api.get('/statistic/getWholeStatistic')\r\nexport const getStatisticForRange = (body: { from: Date, to: Date }): Promise<AxiosResponse<getStatisticForRangeResponseType>> => api.post('/statistic/getStatisticForRange', body)\r\n\r\n/*category requests*/\r\nexport const getCategories = (): Promise<AxiosResponse<categoryResponseType>> => api.get('/category/getCategories')","import { createAsyncThunk, createSlice, PayloadAction } from '@reduxjs/toolkit'\r\nimport axios, { AxiosResponse } from 'axios'\r\nimport * as api from '../../api/index'\r\nimport {\r\n  authData,\r\n  loginResponseType,\r\n  updateUserResponseType,\r\n  signUpResponseType,\r\n  userType\r\n} from \"../../types/user.type\"\r\nimport { toast } from \"react-toastify\";\r\nimport { addTransactionResponseType, transactionType } from \"../../types/transaction.type\";\r\n\r\nexport const signUp = createAsyncThunk<signUpResponseType,\r\n  authData,\r\n  {\r\n    rejectValue: signUpResponseType\r\n  }>(\r\n  'user/signUp',\r\n  //todo:fix this\r\n  //@ts-ignore\r\n  async (signUpData, thunkApi) => {\r\n    try {\r\n      const res = await api.signUp(signUpData);\r\n      return res.data\r\n    } catch (e) {\r\n      if (axios.isAxiosError(e)) {\r\n        return thunkApi.rejectWithValue(e.response?.data)\r\n      }\r\n    }\r\n  })\r\n\r\n\r\nexport const logIn = createAsyncThunk<loginResponseType\r\n  , authData,\r\n  {\r\n    rejectValue: signUpResponseType\r\n  }>(\r\n  'user/logIn',\r\n  //todo:fix this\r\n  //@ts-ignore\r\n  async (loginData: authData, thunkApi) => {\r\n    try {\r\n      const res = await api.logIn(loginData)\r\n      return res.data\r\n    } catch (e) {\r\n      if (axios.isAxiosError(e)) {\r\n        return thunkApi.rejectWithValue(e.response?.data)\r\n      }\r\n    }\r\n  }\r\n)\r\n\r\nexport const logOut = createAsyncThunk(\r\n  'user/logOut',\r\n  async (): Promise<AxiosResponse<void>> => await api.logOut(),\r\n)\r\n\r\nexport const checkAuth = createAsyncThunk(\r\n  'user/refresh',\r\n  async (): Promise<AxiosResponse<loginResponseType>> => await api.refresh(),\r\n)\r\n\r\n//todo: think again about logic of adding transaction\r\nexport const addTransaction = createAsyncThunk(\r\n  'transaction/addTransaction',\r\n  async (body: { transaction: transactionType }): Promise<AxiosResponse<addTransactionResponseType>> => await api.addTransaction(body),\r\n)\r\n\r\nexport const setFirstEnter = createAsyncThunk(\r\n  'user/setFirstEnter',\r\n  async (): Promise<AxiosResponse<updateUserResponseType>> => await api.setFirstEnter()\r\n)\r\n\r\n\r\nexport const setInitialValues = createAsyncThunk(\r\n  'user/setInitialValues',\r\n  async (body:{card: number, cash: number}): Promise<AxiosResponse<updateUserResponseType>> => await api.setInitialValues(body)\r\n)\r\n\r\nexport type userState = {\r\n  user: userType,\r\n  isAuth: boolean | null,\r\n  isRefreshLoading: boolean,\r\n  isSignUpSignInLoading: boolean\r\n  lang: string,\r\n}\r\n\r\nconst initialState: userState = {\r\n  user: {} as userType,\r\n  isAuth: null,\r\n  isRefreshLoading: false,\r\n  isSignUpSignInLoading: false,\r\n  lang: localStorage.getItem('i18nextLng') || 'en'\r\n}\r\n\r\nconst userReducer = createSlice({\r\n  name: 'user',\r\n  initialState,\r\n  reducers: {\r\n    changeLang: (state: userState, action: PayloadAction<string>) => {\r\n      state.lang = action.payload\r\n    },\r\n    setAuth: (state: userState, action: PayloadAction<boolean>) => {\r\n      state.isAuth = action.payload\r\n    }\r\n  },\r\n  extraReducers: (builder => {\r\n    builder.addCase(signUp.fulfilled, (state, action) => {\r\n      state.isSignUpSignInLoading = false\r\n\r\n      toast(localStorage.getItem('i18nextLng') === 'en'\r\n        ? action.payload.messageEn\r\n        : action.payload.messageRu\r\n        , {\r\n          position: \"top-right\",\r\n          autoClose: 2500,\r\n          hideProgressBar: true,\r\n          closeOnClick: true,\r\n          theme: 'dark',\r\n          type: 'success'\r\n        })\r\n    })\r\n\r\n    builder.addCase(signUp.rejected, (state, action) => {\r\n      state.isSignUpSignInLoading = false\r\n\r\n      toast(localStorage.getItem('i18nextLng') === 'en'\r\n        ? action.payload?.messageEn\r\n        : action.payload?.messageRu, {\r\n        position: \"top-right\",\r\n        autoClose: 2500,\r\n        hideProgressBar: true,\r\n        closeOnClick: true,\r\n        theme: 'dark',\r\n        type: 'error'\r\n      })\r\n    })\r\n\r\n    builder.addCase(signUp.pending, (state) => {\r\n      state.isSignUpSignInLoading = true\r\n    })\r\n\r\n    builder.addCase(logIn.pending, (state) => {\r\n      state.isSignUpSignInLoading = true\r\n    })\r\n\r\n    builder.addCase(logIn.fulfilled, (state, action) => {\r\n      state.isSignUpSignInLoading = false\r\n\r\n      localStorage.setItem('token', action.payload.accessToken)\r\n      state.user = action.payload.user\r\n      state.isAuth = true\r\n    })\r\n\r\n    builder.addCase(logIn.rejected, (state, action) => {\r\n      state.isSignUpSignInLoading = false\r\n\r\n      toast(localStorage.getItem('i18nextLng') === 'en'\r\n        ? action.payload?.messageEn\r\n        : action.payload?.messageRu, {\r\n        position: \"top-right\",\r\n        autoClose: 2500,\r\n        hideProgressBar: true,\r\n        closeOnClick: true,\r\n        theme: 'dark',\r\n        type: 'error'\r\n      })\r\n    })\r\n\r\n    builder.addCase(logOut.fulfilled, (state) => {\r\n      localStorage.removeItem('token')\r\n      state.user = {} as userType\r\n      state.isAuth = false\r\n    })\r\n\r\n    builder.addCase(logOut.rejected, (state) => {\r\n      localStorage.removeItem('token')\r\n      state.user = {} as userType\r\n      state.isAuth = false\r\n    })\r\n\r\n    builder.addCase(checkAuth.pending, (state) => {\r\n      state.isRefreshLoading = true\r\n    })\r\n\r\n    builder.addCase(checkAuth.rejected, (state) => {\r\n      state.isRefreshLoading = false\r\n    })\r\n\r\n    builder.addCase(checkAuth.fulfilled, (state, action) => {\r\n      state.isRefreshLoading = false\r\n\r\n      localStorage.setItem('token', action.payload.data.accessToken)\r\n      state.user = action.payload.data.user\r\n      state.isAuth = true\r\n    })\r\n\r\n    builder.addCase(addTransaction.fulfilled, (state, action) => {\r\n      state.user = action.payload.data.updatedUser\r\n\r\n      toast(localStorage.getItem('i18nextLng') === 'en'\r\n        ? action.payload?.data.messageEn\r\n        : action.payload?.data.messageRu, {\r\n        position: \"top-right\",\r\n        autoClose: 2500,\r\n        hideProgressBar: true,\r\n        closeOnClick: true,\r\n        theme: 'dark',\r\n        type: 'success'\r\n      })\r\n    })\r\n\r\n    builder.addCase(setFirstEnter.fulfilled, (state, action) => {\r\n      state.user = action.payload.data.user\r\n    })\r\n\r\n    builder.addCase(setInitialValues.fulfilled, (state, action) => {\r\n      state.user = action.payload.data.user\r\n\r\n      toast(localStorage.getItem('i18nextLng') === 'en'\r\n        ? action.payload?.data.messageEn\r\n        : action.payload?.data.messageRu, {\r\n        position: \"top-right\",\r\n        autoClose: 2500,\r\n        hideProgressBar: true,\r\n        closeOnClick: true,\r\n        theme: 'dark',\r\n        type: 'success'\r\n      })\r\n    })\r\n  })\r\n})\r\n\r\nexport const { changeLang, setAuth } = userReducer.actions\r\n\r\nexport default userReducer.reducer","import { createAsyncThunk, createSlice } from '@reduxjs/toolkit'\r\nimport { AxiosResponse } from 'axios'\r\nimport * as api from '../../api/index'\r\nimport { categoryResponseType, categoryType } from \"../../types/category.type\";\r\n\r\n\r\nexport const getCategories = createAsyncThunk(\r\n  'category/getCategories',\r\n  async (): Promise<AxiosResponse<categoryResponseType>> => await api.getCategories(),\r\n)\r\n\r\nexport type categoryState = {\r\n  categories: categoryType[],\r\n}\r\n\r\nconst initialState: categoryState = {\r\n  categories: [] as categoryType[],\r\n}\r\n\r\nconst categoryReducer = createSlice({\r\n  name: 'category',\r\n  initialState,\r\n  reducers: {},\r\n  extraReducers: (builder => {\r\n    builder.addCase(getCategories.fulfilled, (state, action) => {\r\n      state.categories = action.payload.data.categories\r\n    })\r\n\r\n  })\r\n})\r\n\r\nexport default categoryReducer.reducer","import { createAsyncThunk, createSlice } from '@reduxjs/toolkit'\r\nimport { AxiosResponse } from 'axios'\r\nimport * as api from '../../api/index'\r\nimport { getTransactionsResponseType, transactionType } from \"../../types/transaction.type\";\r\n\r\nexport const getAllUserTransactions = createAsyncThunk(\r\n  'transaction/getAllUserTransactions',\r\n  async (body: { limit: number, numberToSkip: number }): Promise<AxiosResponse<getTransactionsResponseType>> => await api.getAllUserTransactions(body),\r\n)\r\n\r\nexport type transactionState = {\r\n  isTransactionsloading: boolean,\r\n  numberOfTransactions: number,\r\n  transactions: transactionType[],\r\n}\r\n\r\nconst initialState: transactionState = {\r\n  isTransactionsloading: false,\r\n  numberOfTransactions: 0,\r\n  transactions: [] as transactionType[],\r\n}\r\n\r\nconst transactionReducer = createSlice({\r\n  name: 'transaction',\r\n  initialState,\r\n  reducers: {\r\n    resetTransactions: (state) => {\r\n      state.transactions = []\r\n    }\r\n  },\r\n  extraReducers: (builder => {\r\n    builder.addCase(getAllUserTransactions.pending, (state) => {\r\n      state.isTransactionsloading = true\r\n    })\r\n\r\n    builder.addCase(getAllUserTransactions.fulfilled, (state, action) => {\r\n      state.isTransactionsloading = false\r\n      state.transactions = [...state.transactions, ...action.payload.data.transactions]\r\n      state.numberOfTransactions = action.payload.data.numberOfTransactions || 0\r\n    })\r\n\r\n    builder.addCase(getAllUserTransactions.rejected, (state) => {\r\n      state.isTransactionsloading = false\r\n    })\r\n  })\r\n})\r\n\r\nexport const { resetTransactions } = transactionReducer.actions\r\n\r\nexport default transactionReducer.reducer","import { createAsyncThunk, createSlice } from '@reduxjs/toolkit'\r\nimport { AxiosResponse } from 'axios'\r\nimport * as api from '../../api/index'\r\nimport {\r\n  generalStatisticType,\r\n  getGeneralStatisticResponseType,\r\n  getStatisticForRangeResponseType,\r\n  getWholeStatisticResponseType,\r\n  statisticForRangeType,\r\n  wholeStatisticType\r\n} from \"../../types/statistic.type\";\r\n\r\nexport const getGeneralStatistic = createAsyncThunk(\r\n  'statistic/getGeneralStatistic',\r\n  async (): Promise<AxiosResponse<getGeneralStatisticResponseType>> => await api.getGeneralStatistic()\r\n)\r\n\r\nexport const getWholeStatistic = createAsyncThunk(\r\n  'statistic/getWholeStatistic',\r\n  async (): Promise<AxiosResponse<getWholeStatisticResponseType>> => await api.getWholeStatistic()\r\n)\r\n\r\nexport const getStatisticForRange = createAsyncThunk(\r\n  'statistic/getStatisticForRange',\r\n  async (body: { from: Date, to: Date }): Promise<AxiosResponse<getStatisticForRangeResponseType>> => await api.getStatisticForRange(body)\r\n)\r\n\r\nexport type statisticState = {\r\n  loading: boolean,\r\n  generalStatistic: generalStatisticType | null,\r\n  wholeStatistic: wholeStatisticType | null,\r\n  statisticForRange: statisticForRangeType | null\r\n  isGeneralStatisticLoading: boolean,\r\n  isWholeStatisticLoading: boolean,\r\n  isStatisticForRangeLoading: boolean,\r\n}\r\n\r\nconst initialState: statisticState = {\r\n  loading: false,\r\n  generalStatistic: null,\r\n  wholeStatistic: null,\r\n  statisticForRange: null,\r\n  isGeneralStatisticLoading: false,\r\n  isWholeStatisticLoading: false,\r\n  isStatisticForRangeLoading: false,\r\n}\r\n\r\nconst statisticReducer = createSlice({\r\n  name: 'statistic',\r\n  initialState,\r\n  reducers: {},\r\n  extraReducers: (builder => {\r\n    builder.addCase(getGeneralStatistic.pending, (state) => {\r\n      state.isGeneralStatisticLoading = true\r\n    })\r\n\r\n    builder.addCase(getGeneralStatistic.fulfilled, (state, action) => {\r\n      state.isGeneralStatisticLoading = false\r\n      state.generalStatistic = action.payload.data.statistic\r\n    })\r\n\r\n    builder.addCase(getGeneralStatistic.rejected, (state)=>{\r\n      state.isGeneralStatisticLoading = false\r\n    })\r\n\r\n    builder.addCase(getWholeStatistic.pending, (state) => {\r\n      state.isWholeStatisticLoading = true\r\n    })\r\n\r\n    builder.addCase(getWholeStatistic.fulfilled, (state, action) => {\r\n      state.isWholeStatisticLoading = false\r\n      state.wholeStatistic = action.payload.data.statistic\r\n    })\r\n\r\n    builder.addCase(getWholeStatistic.rejected, (state) => {\r\n      state.isWholeStatisticLoading = false\r\n    })\r\n\r\n    builder.addCase(getStatisticForRange.pending, (state) => {\r\n      state.isStatisticForRangeLoading = true\r\n    })\r\n\r\n    builder.addCase(getStatisticForRange.fulfilled, (state, action) => {\r\n      state.isStatisticForRangeLoading = false\r\n      state.statisticForRange = action.payload.data.statistic\r\n    })\r\n\r\n    builder.addCase(getStatisticForRange.rejected, (state) => {\r\n      state.isStatisticForRangeLoading = false\r\n    })\r\n  })\r\n})\r\n\r\n\r\nexport default statisticReducer.reducer","import { configureStore } from '@reduxjs/toolkit'\r\nimport userReducer from \"./reducers/user.reducer\";\r\nimport categoryReducer from \"./reducers/category.reducer\";\r\nimport transactionReducer from \"./reducers/transaction.reducer\";\r\nimport statisticReducer from \"./reducers/statistic.reducer\";\r\n\r\n\r\nconst store = configureStore({\r\n  reducer: {\r\n    userData: userReducer,\r\n    categoryDate: categoryReducer,\r\n    transactionData: transactionReducer,\r\n    statisticData: statisticReducer\r\n  }\r\n})\r\n\r\nexport type RootState = ReturnType<typeof store.getState>\r\nexport type AppDispatch = typeof store.dispatch\r\n\r\nexport default store","import { AppDispatch, RootState } from \"../store\"\r\nimport { TypedUseSelectorHook, useDispatch, useSelector } from \"react-redux\";\r\n\r\nexport const useAppDispatch = () => useDispatch<AppDispatch>()\r\nexport const useAppSelector: TypedUseSelectorHook<RootState> = useSelector\r\n","import { RootState } from \"./index\";\r\n\r\nexport const userData = (state:RootState) => state.userData\r\nexport const categoryData = (state:RootState) => state.categoryDate\r\nexport const transactionData = (state:RootState) => state.transactionData\r\nexport const statisticData = (state:RootState) => state.statisticData\r\n","export default __webpack_public_path__ + \"static/media/logo.9b355c54.png\";","import React from 'react';\r\nimport { changeLang } from \"../../store/reducers/user.reducer\";\r\nimport i18next from \"i18next\";\r\nimport enFlag from \"../../images/en.png\";\r\nimport ruFlag from \"../../images/ru.png\";\r\nimport { userData } from \"../../store/selectors\";\r\nimport { useAppDispatch, useAppSelector } from \"../../hooks/react-redux.hook\";\r\n\r\nconst LanguageSwitcher = () => {\r\n  const dispatch = useAppDispatch()\r\n  const { lang } = useAppSelector(userData)\r\n\r\n  const handleLangChange = (lang: string) => () => {\r\n    dispatch(changeLang(lang))\r\n    i18next.changeLanguage(lang)\r\n  }\r\n\r\n  return (\r\n    <>\r\n      <span\r\n        onClick={handleLangChange('en')}\r\n        className={lang === 'en' ? 'activeLang' : ''}\r\n      >\r\n                    <img src={enFlag} alt='en'/>\r\n                  </span>\r\n      <span\r\n        onClick={handleLangChange('ru')}\r\n        className={lang === 'ru' ? 'activeLang' : ''}\r\n      >\r\n                    <img src={ruFlag} alt='en'/>\r\n                  </span>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default LanguageSwitcher;","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAMAAABEpIrGAAAAA3NCSVQICAjb4U/gAAAACXBIWXMAAADdAAAA3QFwU6IHAAAAGXRFWHRTb2Z0d2FyZQB3d3cuaW5rc2NhcGUub3Jnm+48GgAAAThQTFRF////+5CWpG6Y+4WMum+RlGOUQUebQkibQkicRkueRkydR02dR02eSE2eSE6eSE6fSU+fSlCfSlCgTFGgTFKhTVKgTVOhTlOhTlSiT1WiUVWhUVajUVejUkeVUkqXUk6bUlGeUlOgUlejUlikU0eUU1ikVFqkVVqlVlumV1ymWV6nXGGoXmOpX2SqYGWqYGWrYWarYmesY2isZE2TZGmsZmqtZmuuZ2uuaG2uaW2vam+va3CwbHGxbXGxbXKxbnOyb3OycHSycHWzcXWzcnazdHi0dXm1d3y2eHy3en64e3+4fIC4foK6gl2WiIy/io7Ai4/AjZDBkFaKlZjFl5rGmJvGmZzHnaDJoKLKoKPLoaTLoqTLo6bMpKfMpafNpajN9fDw9fX19uDh+Lq++MrN+5CW/Wpy/0tV1Uw64AAAAAZ0Uk5TAIqwuMzZ24+8ogAAAOpJREFUOMtjYBgKgIkVGbAwowFGBjZ+NjYeOFJJRwcMHPE8vHECXLECnFEC3DFSSeiAgU3E1VHY3V7Yy0bYx1JYMQUdMHBECwlGifJFivOEi/FFyGJawabkYqfqZqfkbq3kZaGkkIwOGDjClGVC1SRDNSSCNSRDpBPQAQO7gZW5ga25gYOZvouRPjYrArU0A7TV/XVV/fRV/eVT0QEDh7OhnrOJrrOpnpOFjpNMIjpgYPNmY/MEIw8gKZeGDhh8jZFBEKaCRAKAIZUAYEgnABgSCACGZAKAsBUpBABDEgFA2ApGZryAcUjkPABWg9YaCJi69wAAAABJRU5ErkJggg==\"","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAABHNCSVQICAgIfAhkiAAAAAlwSFlzAAAA7AAAAOwBeShxvQAAABl0RVh0U29mdHdhcmUAd3d3Lmlua3NjYXBlLm9yZ5vuPBoAAACWSURBVFiF7ZMrDsJQFETn3Vw+BoFAsQQca8Kj2AQodA17qcBhSNgCoiEvDaQp0Fyw7GBIOmcD5ySTAUTfSZ+mmSNiRrGbVY6IDVJaUwIi9kYR/6AABdADfHsc5XuLE0M+GSP7tcYUwJIR8HiipE+gAAX44nbJg3hRbvi2YfbVuaDdENANFaAAwNF1O5gdKPaIiuIVf8UX88QnAAqjY10AAAAASUVORK5CYII=\"","import React from 'react'\r\nimport { Link, NavLink, useHistory } from 'react-router-dom';\r\nimport './header.scss'\r\nimport logo from '../../images/logo.png'\r\nimport { useAppDispatch, useAppSelector } from '../../hooks/react-redux.hook';\r\nimport { logOut } from '../../store/reducers/user.reducer';\r\nimport { Col, Container, Dropdown, Row } from 'react-bootstrap';\r\nimport { useTranslation } from \"react-i18next\";\r\nimport LanguageSwitcher from \"./LanguageSwitcher\";\r\n\r\nconst AppHeader = () => {\r\n  const dispatch = useAppDispatch()\r\n  const history = useHistory()\r\n  const {t} = useTranslation()\r\n\r\n  const handleLogout = () => {\r\n    dispatch(logOut())\r\n    history.push('/authorization')\r\n  }\r\n\r\n  //todo: fix any\r\n  const customToggle = React.forwardRef <HTMLDivElement>(({ onClick }: any, ref) => (\r\n    <div className='dropdownMenu'>\r\n      <div\r\n        className='menuTogglerContainer'\r\n        ref={ref}\r\n        onClick={onClick}\r\n      >\r\n        <span/>\r\n      </div>\r\n    </div>\r\n  ));\r\n\r\n  return (\r\n    <header>\r\n      <Container>\r\n        <Row>\r\n          <Col md='3' xs='6' className='logo'>\r\n            <Link to='/'>\r\n              <img src={logo} alt='app logo'/>\r\n              Billionstracker\r\n            </Link>\r\n          </Col>\r\n          <Col md='6' xs='12' className='menu order-1 order-md-0'>\r\n            <ul className='m-0 p-0'>\r\n              <li><NavLink to='/home'>{t('Profile')}</NavLink></li>\r\n              <li><NavLink to='/createTransaction'>{t('New transaction')}</NavLink></li>\r\n              <li><NavLink to='/statistic'>{t('Statistic')}</NavLink></li>\r\n            </ul>\r\n          </Col>\r\n          <Col md='3' xs='6'>\r\n            <Dropdown>\r\n              <Dropdown.Toggle as={customToggle} id='dropdown-custom-components'/>\r\n              <Dropdown.Menu variant='dark'>\r\n                <Dropdown.Item\r\n                  as='span'\r\n                  className='d-flex justify-content-around languagesController'\r\n                >\r\n                <LanguageSwitcher/>\r\n                </Dropdown.Item>\r\n                <Dropdown.Item as='span' onClick={() => history.push('/home')}>{t('Home')}</Dropdown.Item>\r\n                <Dropdown.Item href='https://t.me/qeorqe' target='_blank'>{t('Support')} </Dropdown.Item>\r\n                <Dropdown.Item as='span' onClick={handleLogout}>{t('Log out')}</Dropdown.Item>\r\n              </Dropdown.Menu>\r\n            </Dropdown>\r\n          </Col>\r\n        </Row>\r\n\r\n      </Container>\r\n    </header>\r\n  )\r\n}\r\n\r\nexport default AppHeader","export const formattingNumber = (number: number): string => (\r\n  String(number).replace(/\\B(?=(\\d{3})+(?!\\d))/g, ' ')\r\n)\r\n","import React, { useEffect, useState } from 'react'\r\nimport { Button, Col, Container, Form, FormControl, Row } from \"react-bootstrap\"\r\nimport { categoryData, userData } from \"../../store/selectors\"\r\nimport { formattingNumber } from \"../../helpers/index.js\"\r\nimport { useAppDispatch, useAppSelector } from \"../../hooks/react-redux.hook\"\r\nimport { addTransaction } from \"../../store/reducers/user.reducer\"\r\nimport { transactionType } from \"../../types/transaction.type\"\r\nimport { getCategories } from \"../../store/reducers/category.reducer\"\r\nimport './transaction.scss'\r\nimport { useTranslation } from \"react-i18next\";\r\nimport { toast } from \"react-toastify\";\r\n\r\nconst CreateTransaction = () => {\r\n  const { user, lang } = useAppSelector(userData)\r\n  const { categories } = useAppSelector(categoryData)\r\n  const [useCard, setUseCard] = useState<boolean>(true)\r\n  const [isExpense, setIsExpense] = useState<boolean>(true)\r\n  const [categoryId, setCategoryId] = useState<string>('')\r\n  const [sum, setSum] = useState<number | string>('')\r\n  const [title, setTitle] = useState<string>('')\r\n  const { t } = useTranslation()\r\n  const dispatch = useAppDispatch()\r\n\r\n\r\n  const validateSumReg = /^((?!(0))[0-9]+)$/;\r\n\r\n  const handleChangeSum = (event: React.ChangeEvent<HTMLInputElement>) => {\r\n    if (validateSumReg.test(event.target.value) || event.target.value === '') {\r\n      setSum(event.target.value)\r\n    }\r\n  }\r\n\r\n  const handleChangeTitle = (event: React.ChangeEvent<HTMLInputElement>) => {\r\n    setTitle(event.target.value)\r\n  }\r\n\r\n  const handleSubmit = () => {\r\n    if (!sum || !categoryId || !title) {\r\n      return toast(t('All fields are required'), {\r\n        position: \"top-right\",\r\n        autoClose: 2500,\r\n        hideProgressBar: true,\r\n        closeOnClick: true,\r\n        theme: 'dark',\r\n        type: 'error'\r\n      })\r\n    }\r\n\r\n    if(isExpense){\r\n      if ((useCard && user.card < sum) || (!useCard && user.cash < sum)){\r\n        return toast(t('You don\\'t have this much'), {\r\n          position: \"top-right\",\r\n          autoClose: 2500,\r\n          hideProgressBar: true,\r\n          closeOnClick: true,\r\n          theme: 'dark',\r\n          type: 'error'\r\n        })\r\n      }\r\n\r\n      if(Number(sum) === 0){\r\n        return toast(t('You don\\'t have this much'), {\r\n          position: \"top-right\",\r\n          autoClose: 2500,\r\n          hideProgressBar: true,\r\n          closeOnClick: true,\r\n          theme: 'dark',\r\n          type: 'error'\r\n        })\r\n      }\r\n    }\r\n    const newTransaction: transactionType = {\r\n      title: title,\r\n      ownerId: user._id,\r\n      isCard: useCard,\r\n      isExpense: isExpense,\r\n      sum: Number(sum),\r\n      category: categoryId,\r\n      date: new Date()\r\n    }\r\n\r\n    dispatch(addTransaction({ transaction: newTransaction }))\r\n  }\r\n\r\n  useEffect(() => {\r\n    dispatch(getCategories())\r\n  }, [])\r\n\r\n  return (\r\n    <>\r\n      <Container className='py-md-4 my-4'>\r\n        <Row>\r\n          <p className='mb-1 fs-4 text-center fw-bold'>{t('Select operation type')}:</p>\r\n          <Col xs='12' lg='5' className='mx-auto d-flex'>\r\n            <div className='w-50 text-center'>\r\n              <Button\r\n                variant={isExpense ? 'danger' : 'outline-danger'}\r\n                className='w-75'\r\n                onClick={() => {\r\n                  setIsExpense(true)\r\n                  setCategoryId('')\r\n                }}\r\n              >\r\n                {t('expense')}\r\n              </Button>\r\n            </div>\r\n            <div className='w-50 text-center'>\r\n              <Button\r\n                variant={!isExpense ? 'success' : 'outline-success'}\r\n                className='w-75'\r\n                onClick={() => {\r\n                  setIsExpense(false)\r\n                  setCategoryId('')\r\n                }}\r\n              >\r\n                {t('income')}\r\n              </Button>\r\n            </div>\r\n\r\n          </Col>\r\n        </Row>\r\n        <Row>\r\n          <Col xs='12' lg='5' className='mx-auto d-md-flex mt-3'>\r\n            <p className='fs-5 mb-0 w-50 text-md-center text-nowrap'>{t('Card balance')}:\r\n              <span className='yellowText'> {formattingNumber(user.card)}</span>\r\n            </p>\r\n            <p className='fs-5 w-50 text-md-center text-nowrap'>{t('Cash balance')}:\r\n              <span className='yellowText'> {formattingNumber(user.cash)}</span>\r\n            </p>\r\n          </Col>\r\n        </Row>\r\n        <Row>\r\n          <Col xs='12' lg='7' className='mx-auto'>\r\n            <Row>\r\n              <Col xs='12' sm='6' className='d-flex flex-wrap'>\r\n                <p className='mb-1 fs-5 text-center w-100'>{t('Select card or cash')}:</p>\r\n                <Form.Check\r\n                  checked={useCard}\r\n                  type='radio'\r\n                  name='cardOrCash'\r\n                  id='default-radio2'\r\n                  className='paymentCard d-flex align-items-center w-50 justify-content-center'\r\n                  label=''\r\n                  onChange={() => setUseCard(true)}\r\n                />\r\n                <Form.Check\r\n                  checked={!useCard}\r\n                  type='radio'\r\n                  name='cardOrCash'\r\n                  id='default-radio1'\r\n                  label=''\r\n                  className='paymentCash d-flex align-items-center w-50 justify-content-center'\r\n                  onChange={() => setUseCard(false)}\r\n                />\r\n              </Col>\r\n              <Col xs='12' sm='6'>\r\n                <p className='mb-1 fs-5 text-center w-100'>{t('Select category')}:</p>\r\n                <Form.Select onChange={(e: React.ChangeEvent<HTMLSelectElement>) => setCategoryId(e.target.value)}>\r\n                  <option className='d-none' value=''>{t('Select category')}</option>\r\n                  {categories &&\r\n                  categories\r\n                    .filter((category) => category.isExpense === isExpense)\r\n                    .map((el) =>\r\n                      <option\r\n                        key={el._id}\r\n                        value={el._id}\r\n                      >\r\n                        {lang === 'en' ? el.nameEn : el.nameRu}\r\n                      </option>\r\n                    )}\r\n                </Form.Select>\r\n              </Col>\r\n            </Row>\r\n            <Row className='mt-3'>\r\n              <Col xs='6' className='d-flex flex-wrap'>\r\n                <p className='mb-1 fs-5'>{t('Name the transaction')}:</p>\r\n                <FormControl\r\n                  type='text'\r\n                  placeholder={t('Transaction title')}\r\n                  value={title}\r\n                  onChange={handleChangeTitle}\r\n                />\r\n              </Col>\r\n              <Col xs='6' className='d-flex flex-wrap'>\r\n                <p className='mb-1  fs-5'>{t('Enter the sum of transaction')}:</p>\r\n                <FormControl\r\n                  type='number'\r\n                  placeholder={t('Transaction sum')}\r\n                  value={sum}\r\n                  onChange={handleChangeSum}\r\n                />\r\n              </Col>\r\n            </Row>\r\n            <Row>\r\n              <Col xs='12' className='mt-3 text-center'>\r\n                <p className='fs-5 mb-1'>{t('Submit transaction')}:</p>\r\n                <Button\r\n                  variant='warning'\r\n                  className='w300Px text-white'\r\n                  onClick={handleSubmit}\r\n                >\r\n                  {t('Submit')}\r\n                </Button>\r\n              </Col>\r\n            </Row>\r\n          </Col>\r\n        </Row>\r\n      </Container>\r\n    </>\r\n  )\r\n}\r\n\r\nexport default CreateTransaction","import React, { FC } from 'react'\r\nimport { Col } from \"react-bootstrap\";\r\nimport { formattingNumber } from \"../../helpers/index.js\";\r\nimport { useSelector } from \"react-redux\";\r\nimport { userData } from \"../../store/selectors\";\r\nimport { useTranslation } from \"react-i18next\";\r\n\r\nconst Balance:FC = () => {\r\n  const { user } = useSelector(userData)\r\n  const {t} = useTranslation()\r\n\r\n  const total = user.card + user.cash;\r\n\r\n  return (\r\n    <Col md='6' xs='12' className='balance'>\r\n      <p className='totalBalance fs-3 text-uppercase fw-bold'>\r\n        {total ? t('Total balance') : ''}\r\n        <span className='yellowText'> {total ? formattingNumber(total) : t('There is no money yet')}\r\n      </span></p>\r\n      <p className='fs-5'>{t('Card balance')}:\r\n        <span> {formattingNumber(user.card)}</span>\r\n      </p>\r\n      <p className='fs-5'>{t('In cash')}:\r\n        <span> {formattingNumber(user.cash)}</span>\r\n      </p>\r\n    </Col>\r\n  )\r\n}\r\n\r\nexport default Balance","import moment from 'moment';\r\nimport React, { FC } from 'react'\r\nimport { Col } from \"react-bootstrap\";\r\nimport { useAppSelector } from \"../../hooks/react-redux.hook\";\r\nimport { statisticData, userData } from \"../../store/selectors\";\r\nimport { useTranslation } from \"react-i18next\";\r\nimport 'moment/locale/ru'\r\n\r\nconst GeneralStatistic: FC = () => {\r\n  const { generalStatistic } = useAppSelector(statisticData)\r\n  const { user, lang } = useAppSelector(userData)\r\n  const { t } = useTranslation()\r\n\r\n  return (\r\n    <Col md='6' xs='12'>\r\n      {generalStatistic ? (\r\n        <div className='my-3 my-md-0'>\r\n          <p className='fs-5 mb-0 fw-bold'>{t('Spent this month')}: <span\r\n            className='fst-italic yellowText'>{generalStatistic.userExpensesThisMonth}</span></p>\r\n          <p className='fs-5 fw-bold'>{t('Spent for the whole time')}: <span\r\n            className='fst-italic yellowText'>{generalStatistic.userExpenses}</span></p>\r\n          <p className='fs-6 mb-0 fw-bold'>{t('On')} <span\r\n            className='yellowText'>Billionstracker</span> {t('Since')} <span\r\n            className='fst-italic yellowText'>{moment(user.created).locale(lang).format('LL')}</span></p>\r\n        </div>\r\n      ) : (\r\n        <div className='d-flex justify-content-center align-items-center h-100 fw-bold my-3 my-md-0 '>\r\n          <p>{t('Some of your statistic will be here')}</p>\r\n        </div>\r\n      )\r\n\r\n      }\r\n    </Col>\r\n  )\r\n}\r\nexport default GeneralStatistic","import React, { FC, useEffect } from 'react'\r\nimport { Row } from 'react-bootstrap';\r\nimport Balance from \"./Balance\";\r\nimport GeneralStatistic from \"./GeneralStatistic\";\r\n\r\nconst UserInfo: FC = () => (\r\n    <Row>\r\n      <Balance/>\r\n      <GeneralStatistic/>\r\n    </Row>\r\n  )\r\n\r\nexport default UserInfo","import moment from \"moment\";\r\nimport 'moment/locale/ru'\r\n\r\nexport const formatTransactionDate = (date:Date, lang='en') => {\r\n  const formatedDate = moment(date).locale(lang)\r\n\r\n  if(formatedDate.isSame(new Date(), 'week')) {\r\n    return formatedDate.fromNow()\r\n  }\r\n\r\n    return formatedDate.format('LL')\r\n}\r\n","import React, { FC } from 'react'\r\nimport { transactionType } from \"../../types/transaction.type\"\r\nimport { Card, Col, Row } from \"react-bootstrap\"\r\nimport { formatTransactionDate } from \"../../helpers/time\";\r\nimport { formattingNumber } from \"../../helpers/index.js\";\r\nimport { useAppSelector } from \"../../hooks/react-redux.hook\";\r\nimport { userData } from \"../../store/selectors\";\r\n\r\ntype propsType = {\r\n  transaction: transactionType\r\n}\r\n\r\nconst Transaction: FC<propsType> = ({ transaction }) => {\r\n  const {lang} = useAppSelector(userData)\r\n\r\n  return (\r\n    <Card className='mb-3  w-75 mx-auto fw-bold text-center' bg='light' text='dark'>\r\n      <Card.Body><\r\n        Row>\r\n        <Col xs='12' sm='4' className='mb-2 mb-sm-0'>{transaction.title}</Col>\r\n        <Col xs='8' sm='4'>{formatTransactionDate(transaction.date, lang)}</Col>\r\n        <Col xs='4' sm='4'>{\r\n          transaction.isExpense ?\r\n            <span className='text-danger'>-{formattingNumber(transaction.sum)}</span> :\r\n            <span className='text-success'>+{formattingNumber(transaction.sum)}</span>}</Col>\r\n      </Row>\r\n      </Card.Body>\r\n    </Card>\r\n  )\r\n}\r\n\r\nexport default Transaction","export default __webpack_public_path__ + \"static/media/loader.b77cbe87.gif\";","import React, { FC } from 'react';\r\nimport loaderImage from '../../images/loader.gif'\r\nimport './loader.scss'\r\n\r\ntype propsType = {\r\n  fullHeight?: boolean,\r\n}\r\n\r\nconst Loader: FC<propsType> = ({ fullHeight }) => {\r\n  return (\r\n    <div className={`d-flex align-items-center justify-content-center pt-2\r\n    ${fullHeight ? 'fullHeight' : ''} \r\n    `}\r\n    >\r\n      <img src={loaderImage} alt='loader img'/>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Loader;","import React, { useEffect, useState } from 'react';\r\nimport { useAppDispatch, useAppSelector } from \"../../hooks/react-redux.hook\";\r\nimport { getAllUserTransactions, resetTransactions } from '../../store/reducers/transaction.reducer';\r\nimport { transactionData } from \"../../store/selectors\";\r\nimport Transaction from './Transaction';\r\nimport { Button } from \"react-bootstrap\";\r\nimport { useTranslation } from \"react-i18next\";\r\nimport Loader from \"../loader/Loader\";\r\n\r\nconst Transactions = () => {\r\n  const { isTransactionsloading, transactions, numberOfTransactions } = useAppSelector(transactionData)\r\n  const dispatch = useAppDispatch()\r\n  const { t } = useTranslation()\r\n  const LIMIT = 10;\r\n  const [numberToSkip, setNumberToSkip] = useState<number>(10)\r\n\r\n  const getAllTransactions = () => {\r\n    dispatch(getAllUserTransactions({ limit: LIMIT, numberToSkip: numberToSkip }))\r\n    setNumberToSkip(LIMIT + numberToSkip)\r\n  }\r\n\r\n  if (isTransactionsloading && !numberOfTransactions) {\r\n    return <Loader/>\r\n  }\r\n\r\n  return (\r\n    <div className='mt-4'>\r\n      {\r\n        numberOfTransactions ? (\r\n          <>\r\n            <p className='text-center fw-bold fs-4'>{t('Your transactions')}</p>\r\n            {\r\n              transactions.map((transaction) => <Transaction key={transaction._id} transaction={transaction}/>)\r\n            }\r\n\r\n            {\r\n              isTransactionsloading && <Loader/>\r\n            }\r\n\r\n            {numberToSkip <= numberOfTransactions &&\r\n            <Button\r\n              disabled={isTransactionsloading}\r\n              variant='warning'\r\n              className='mt-4 mx-auto d-block text-white'\r\n              onClick={getAllTransactions}\r\n            >{t('Load more')}</Button>\r\n            }\r\n          </>\r\n        ) : (\r\n          <div className='d-flex justify-content-center align-items-center h-100 fw-bold my-3 mt-3'>\r\n            <p>{t('There is no transactions yet')}</p>\r\n          </div>\r\n        )\r\n      }\r\n\r\n\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Transactions;","import React, { useEffect } from 'react'\r\nimport UserInfo from \"../../components/profile/UserInfo\";\r\nimport { Container } from 'react-bootstrap';\r\nimport './profile.scss'\r\nimport Transactions from \"../../components/profile/Transactions\";\r\nimport { getGeneralStatistic } from \"../../store/reducers/statistic.reducer\";\r\nimport { useAppDispatch, useAppSelector } from \"../../hooks/react-redux.hook\";\r\nimport { getAllUserTransactions, resetTransactions } from \"../../store/reducers/transaction.reducer\";\r\nimport { statisticData, transactionData } from \"../../store/selectors\";\r\nimport Loader from \"../../components/loader/Loader\";\r\n\r\nconst Profile = () => {\r\n  const { isTransactionsloading } = useAppSelector(transactionData)\r\n  const { isGeneralStatisticLoading } = useAppSelector(statisticData)\r\n\r\n  const dispatch = useAppDispatch()\r\n\r\n  useEffect(() => {\r\n    dispatch(resetTransactions())\r\n    dispatch(getGeneralStatistic())\r\n    dispatch(getAllUserTransactions({ limit: 10, numberToSkip: 0 }))\r\n  }, [])\r\n  \r\n  if(isGeneralStatisticLoading && isTransactionsloading){\r\n    return <Loader/>\r\n  }\r\n\r\n  return(\r\n  <Container className='py-4'>\r\n    <UserInfo/>\r\n    <Transactions/>\r\n  </Container>\r\n)}\r\n\r\n\r\nexport default Profile","import React from 'react'\r\nimport { Field, FieldProps, Form, Formik, FormikProps } from 'formik'\r\nimport * as Yup from 'yup'\r\nimport { Button, FormControl, FormGroup } from 'react-bootstrap'\r\nimport { logIn, signUp } from '../../store/reducers/user.reducer'\r\nimport { connect } from \"react-redux\";\r\nimport { AppDispatch } from \"../../store\";\r\nimport { useTranslation } from \"react-i18next\";\r\n\r\ntype signupForm = {\r\n  login: string,\r\n  password: string,\r\n  confirmPassword: string\r\n}\r\n\r\nconst SignUpFormMarkup: React.FC<FormikProps<signupForm>> = (\r\n  {\r\n    values,\r\n    errors,\r\n    touched,\r\n    handleChange,\r\n    handleBlur,\r\n    handleSubmit,\r\n    isSubmitting,\r\n  }) => {\r\n  const {t} = useTranslation()\r\n\r\n  return(\r\n  <Form onSubmit={handleSubmit}>\r\n    <Field\r\n      name='login'\r\n      render={({ field }: FieldProps) => (\r\n        <FormGroup\r\n          controlId=\"login\"\r\n          className='authFormGroup mb-4'>\r\n          <FormControl\r\n            type={'email'}\r\n            value={field.value}\r\n            onChange={field.onChange}\r\n            placeholder={t('login')}\r\n            isValid={false}\r\n          />\r\n          {\r\n            touched.login &&\r\n            errors.login &&\r\n            <FormControl.Feedback\r\n              type=\"invalid\" tooltip\r\n            >\r\n              {errors.login}\r\n            </FormControl.Feedback>\r\n          }\r\n        </FormGroup>\r\n      )}\r\n    />\r\n\r\n    <Field\r\n      type='password'\r\n      name='password'\r\n      onChange={handleChange}\r\n      onBlur={handleBlur}\r\n      value={values.password}\r\n      render={({ field }: FieldProps) => (\r\n        <FormGroup controlId=\"password\" className='authFormGroup mb-4'>\r\n          <FormControl\r\n            type={'password'}\r\n            value={field.value}\r\n            onChange={field.onChange}\r\n            placeholder={t('password')}\r\n          />\r\n          {\r\n            touched.password &&\r\n            errors.password &&\r\n            <FormControl.Feedback\r\n              type=\"invalid\" tooltip\r\n            >\r\n              {errors.password}\r\n            </FormControl.Feedback>\r\n          }\r\n        </FormGroup>\r\n      )}\r\n    />\r\n\r\n    <Field\r\n      type='password'\r\n      name='confirmPassword'\r\n      onChange={handleChange}\r\n      onBlur={handleBlur}\r\n      value={values.confirmPassword}\r\n      render={({ field }: FieldProps) => (\r\n        <FormGroup controlId=\"confirmPassword\" className='authFormGroup mb-4'>\r\n          <FormControl\r\n            type={'password'}\r\n            value={field.value}\r\n            onChange={field.onChange}\r\n            placeholder={t('Confirm password')}\r\n          />\r\n          {\r\n            touched.confirmPassword &&\r\n            errors.confirmPassword &&\r\n            <FormControl.Feedback\r\n              type=\"invalid\" tooltip\r\n            >\r\n              {errors.confirmPassword}\r\n            </FormControl.Feedback>\r\n          }\r\n        </FormGroup>\r\n      )}\r\n    />\r\n\r\n    <Button\r\n      type='submit'\r\n      variant='warning'\r\n      disabled={\r\n        isSubmitting ||\r\n        Boolean(errors.login && touched.login) ||\r\n        Boolean(errors.password && touched.password)\r\n      }\r\n    >\r\n      {t('Sign up')}\r\n    </Button>\r\n  </Form>\r\n)}\r\n\r\nconst init: signupForm = {\r\n  login: '',\r\n  password: '',\r\n  confirmPassword: ''\r\n}\r\n\r\ntype propsType = {\r\n  dispatch: AppDispatch\r\n}\r\n\r\nconst SignUpForm = (props: propsType) => (\r\n  <Formik\r\n    initialValues={init}\r\n    validationSchema={\r\n      Yup.object().shape({\r\n        login: Yup.string()\r\n          .email('Email not valid')\r\n          .required('Email is required'),\r\n        password: Yup.string()\r\n          .required('Password is required')\r\n          .min(6, 'Password must contain at least 6 symbols'),\r\n        confirmPassword: Yup.string()\r\n          .required(\"Confirm your password\")\r\n          .oneOf([Yup.ref(\"password\")], \"Password does not match\")\r\n      })\r\n    }\r\n    onSubmit={(values: signupForm) => props.dispatch(signUp({ login: values.login.trim().toLowerCase(), password: values.password }))}\r\n    render={(props: FormikProps<signupForm>) => <SignUpFormMarkup {...props} />}\r\n  />\r\n)\r\n\r\nexport default connect()(SignUpForm)","import React from 'react'\r\nimport { Field, FieldProps, Form, Formik, FormikProps } from 'formik'\r\nimport * as Yup from 'yup'\r\nimport { authData } from '../../types/user.type'\r\nimport { Button, FormControl, FormGroup } from 'react-bootstrap'\r\nimport { logIn } from '../../store/reducers/user.reducer'\r\nimport { connect } from \"react-redux\";\r\nimport { AppDispatch } from \"../../store\";\r\nimport { useTranslation } from \"react-i18next\";\r\n\r\nconst LogInFormMarkup: React.FC<FormikProps<authData>> = (\r\n  {\r\n    values,\r\n    errors,\r\n    touched,\r\n    handleChange,\r\n    handleBlur,\r\n    handleSubmit,\r\n    isSubmitting,\r\n  }) => {\r\n  const {t} = useTranslation()\r\n\r\n  return(\r\n    <Form onSubmit={handleSubmit}>\r\n      <Field\r\n        name='login'\r\n        render={({ field }: FieldProps) => (\r\n          <FormGroup\r\n            controlId=\"login\"\r\n            className='authFormGroup mb-4'>\r\n            <FormControl\r\n              type={'email'}\r\n              value={field.value}\r\n              onChange={field.onChange}\r\n              placeholder={t('login')}\r\n              isValid={false}\r\n            />\r\n            {\r\n              touched.login &&\r\n              errors.login &&\r\n              <FormControl.Feedback\r\n                type=\"invalid\" tooltip\r\n              >\r\n                {errors.login}\r\n              </FormControl.Feedback>\r\n            }\r\n          </FormGroup>\r\n        )}\r\n      />\r\n\r\n\r\n      <Field\r\n        type='password'\r\n        name='password'\r\n        onChange={handleChange}\r\n        onBlur={handleBlur}\r\n        value={values.password}\r\n        render={({ field }: FieldProps) => (\r\n          <FormGroup controlId=\"password\" className='authFormGroup mb-4'>\r\n            <FormControl\r\n              type={'password'}\r\n              value={field.value}\r\n              onChange={field.onChange}\r\n              placeholder={t('password')}\r\n            />\r\n            {\r\n              touched.password &&\r\n              errors.password &&\r\n              <FormControl.Feedback\r\n                type=\"invalid\" tooltip\r\n              >\r\n                {errors.password}\r\n              </FormControl.Feedback>\r\n            }\r\n          </FormGroup>\r\n        )}\r\n      />\r\n\r\n      <Button\r\n        type='submit'\r\n        variant='warning'\r\n        disabled={\r\n          isSubmitting ||\r\n          Boolean(errors.login && touched.login) ||\r\n          Boolean(errors.password && touched.password)\r\n        }\r\n      >\r\n        {t('Sign in')}\r\n      </Button>\r\n    </Form>\r\n  )\r\n}\r\n\r\nconst init: authData = {\r\n  login: '',\r\n  password: ''\r\n}\r\n\r\ntype propsType = {\r\n  dispatch: AppDispatch\r\n}\r\n\r\nconst LoginForm = (props: propsType) => (\r\n  <Formik\r\n    initialValues={init}\r\n    validationSchema={\r\n      Yup.object().shape({\r\n        login: Yup.string()\r\n          .email('Email not valid')\r\n          .required('Email is required'),\r\n        password: Yup.string()\r\n          .required('Password is required')\r\n          .min(6, 'Password must contain at least 6 symbols')\r\n      })\r\n    }\r\n    onSubmit={(values: authData) => props.dispatch(logIn({ login: values.login.trim().toLowerCase(), password: values.password }))}\r\n    render={(props: FormikProps<authData>) => <LogInFormMarkup {...props} />}\r\n  />\r\n)\r\n\r\nexport default connect()(LoginForm)","import React, { useState } from 'react'\r\nimport SignUpForm from \"../../components/auth/Signnup\";\r\nimport LoginForm from \"../../components/auth/Login\";\r\n\r\nimport logo from '../../images/logo.png';\r\nimport './auth.scss'\r\nimport { Button, Col, Container, Row } from 'react-bootstrap';\r\nimport { toast } from \"react-toastify\";\r\nimport { Form } from \"formik\";\r\nimport { useTranslation } from \"react-i18next\";\r\nimport LanguageSwitcher from \"../../components/header/LanguageSwitcher\";\r\n\r\nconst Auth = () => {\r\n  const [showSignIn, setShowSignIn] = useState<boolean>(true)\r\n  const { t } = useTranslation()\r\n\r\n  return (\r\n    <section className='signUp align-items-md-center d-flex'>\r\n      <Container>\r\n        <Row className='h-100'>\r\n          <Col xs='12' sm='6' className='text-center'>\r\n            <img src={logo} alt='logo'/>\r\n            <h1 className='yellowText'>Billionstracker</h1>\r\n            <p>{t('Powerful app for controlling your budget')}</p>\r\n          </Col>\r\n          <Col xs='12' sm='6' className='authFormContainer mt-sm-3'>\r\n            {\r\n              showSignIn ? (<>\r\n                  <h2>{t('Sign in')}</h2>\r\n                  <LoginForm/>\r\n                  <p\r\n                    onClick={() => setShowSignIn(false)}\r\n                    className='my-2 cursor-pointer'\r\n                  >{t('New to billionstracker')}? <span>{t('Sign up')}</span></p>\r\n                </>\r\n              ) : (\r\n                <>\r\n                  <h2>{t('Sign up')}</h2>\r\n                  <SignUpForm/>\r\n                  <p\r\n                    onClick={() => setShowSignIn(true)}\r\n                    className='my-2 cursor-pointer'\r\n                  >{t('Already on billionstracker')}? <span>{t('Sign in')}</span></p>\r\n                </>\r\n              )\r\n            }\r\n            <div\r\n              className='d-flex justify-content-around languagesController pb-3'\r\n              style={{ width: '100px', margin: '0 auto' }}\r\n            >\r\n              <LanguageSwitcher/>\r\n            </div>\r\n          </Col>\r\n        </Row>\r\n      </Container>\r\n      {/*<div className='col m6 s12 center-align'>*/}\r\n    </section>\r\n  )\r\n}\r\n\r\nexport default Auth","import React, { FC } from 'react';\r\nimport moment from \"moment\";\r\nimport { wholeStatisticType } from \"../../types/statistic.type\";\r\nimport { useTranslation } from \"react-i18next\";\r\nimport { userType } from \"../../types/user.type\";\r\n\r\ntype propsType = {\r\n  wholeStatistic: wholeStatisticType,\r\n  user: userType,\r\n  lang: string\r\n}\r\n\r\nconst WholeStatistic: FC<propsType> = ({ wholeStatistic, user, lang }) => {\r\n  const { t } = useTranslation()\r\n  const daysOnApp = moment().diff(user.created, 'days') + 1\r\n\r\n  return (\r\n    <>\r\n      <p className='fs-5 mb-0 fw-bold'>{t('General statistic')}:</p>\r\n      <div className='spent'>\r\n        <p className='mb-0'>{t('Spent for the whole time')}:\r\n          <span className='fst-italic yellowText'>\r\n                {wholeStatistic.userExpenses}\r\n              </span></p>\r\n\r\n        <p className='mb-0'>{t('Spent this month')}:\r\n          <span className='fst-italic yellowText'> {wholeStatistic.userExpensesThisMonth}\r\n              </span></p>\r\n      </div>\r\n      <div className='earned mt-2'>\r\n        <p className='mb-0'>{t('Earned for the whole time')}:\r\n          <span className='fst-italic yellowText'>\r\n             {wholeStatistic.userIncomes}\r\n          </span></p>\r\n\r\n        <p className='mb-0'>{t('Earned this month')}:\r\n          <span className='fst-italic yellowText'>\r\n              {wholeStatistic.userIncomesThisMonth}\r\n          </span></p>\r\n\r\n        {wholeStatistic.averageIncomePerMonth > 0 && (\r\n          <p className='mb-0'>{t('Average earned per month')}:\r\n            <span className='fst-italic yellowText'> {wholeStatistic.averageIncomePerMonth}</span>\r\n          </p>\r\n        )}\r\n\r\n        {wholeStatistic.averageExpensePerMonth > 0 && (\r\n          <p className='mt-2 mb-0'>{t('Average spent per month')}:\r\n            <span className='fst-italic yellowText'> {wholeStatistic.averageExpensePerMonth}</span>\r\n          </p>\r\n        )}\r\n\r\n        <p className='mb-1'>{t('Average spent per day')}:\r\n          <span className='fst-italic yellowText'> {Math.ceil(wholeStatistic.userExpenses / daysOnApp)}</span>\r\n        </p>\r\n\r\n        <p className='fs-6 mb-0 fw-bold'>{t('On')} <span\r\n          className='yellowText'>Billionstracker</span> {t('Since')} <span\r\n          className='fst-italic yellowText'>{moment(user.created).locale(lang).format('LL')}</span></p>\r\n      </div>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default WholeStatistic;","import { PieChart } from \"react-minimal-pie-chart\";\r\nimport ReactTooltip from \"react-tooltip\";\r\nimport React, { FC, useState } from \"react\";\r\nimport { expenseIncomeType } from \"../../types/statistic.type\";\r\nimport { useAppSelector } from \"../../hooks/react-redux.hook\";\r\nimport { userData } from \"../../store/selectors\";\r\nimport { formattingNumber } from \"../../helpers/index.js\";\r\n\r\ntype propsType = {\r\n  statisticForRange: expenseIncomeType[]\r\n  totalSpent: number\r\n}\r\n\r\nconst Diagram: FC<propsType> = ({ statisticForRange, totalSpent }) => {\r\n  const [hovered, setHovered] = useState<number | null>(null);\r\n  const { lang } = useAppSelector(userData)\r\n\r\n  const colors = ['#E38627', '#C13C37', '#6A2135', '#E38627', '#C13C37', '#6A2135', '#E38627', '#C13C37', '#6A2135', '#E38627', '#C13C37', '#6A2135']\r\n\r\n  type rangeDataType = {\r\n    value: number,\r\n    color: string,\r\n    tooltip: string\r\n  }\r\n\r\n  const dataForRange: rangeDataType[] = statisticForRange.map((el, index) => ({\r\n    value: el.total,\r\n    color: hovered === index ? 'grey' : colors[index],\r\n    tooltip: `${lang === 'en' ? el._id.nameEn : el._id.nameRu}, ${formattingNumber(el.total)}`\r\n  }))\r\n\r\n  return (\r\n    <>\r\n      {totalSpent > 0 && (\r\n        <>\r\n          <PieChart\r\n            data={dataForRange}\r\n            style={{ height: '300px', width: '300px' }}\r\n            segmentsShift={0.5}\r\n            label={({ dataEntry }) => `${Math.round(dataEntry.percentage) ? Math.round(dataEntry.percentage) : '>1'}%`}\r\n            totalValue={totalSpent}\r\n            labelStyle={{\r\n              fontSize: '5px',\r\n              fill: 'white',\r\n            }}\r\n            onMouseOver={(el, index) => {\r\n              setHovered(index);\r\n            }}\r\n            onMouseOut={() => {\r\n              setHovered(null);\r\n            }}\r\n            segmentsStyle={{ transition: 'stroke .3s', cursor: 'pointer' }}\r\n          />\r\n          <ReactTooltip\r\n            getContent={() => typeof hovered === 'number' ? dataForRange[hovered]?.tooltip : null}/>\r\n        </>\r\n      )\r\n      }\r\n    </>\r\n  )\r\n}\r\n\r\nexport default Diagram\r\n","import React, { FC } from 'react';\r\nimport { Card, Col, Row } from \"react-bootstrap\";\r\nimport { formattingNumber } from '../../helpers/index.js';\r\nimport { listForRangeItem } from \"./List\";\r\n\r\ntype propsType = {\r\n  listItem: listForRangeItem\r\n}\r\n\r\nconst ListItem:FC<propsType> = ({listItem}) => {\r\n  return (\r\n    <Card className='mb-3  w-75 mx-auto fw-bold text-center' bg='light' text='dark'>\r\n      <Card.Body>\r\n        <Row>\r\n        <Col xs='4' sm='4' className='mb-2 mb-sm-0'>{listItem.title}</Col>\r\n        <Col xs='4' sm='4'>{formattingNumber(listItem.value)}</Col>\r\n        <Col xs='4' sm='4'>{listItem.percentage}%</Col>\r\n      </Row>\r\n      </Card.Body>\r\n    </Card>\r\n  );\r\n};\r\n\r\nexport default ListItem;","import React, { FC } from 'react';\r\nimport { expenseIncomeType } from \"../../types/statistic.type\";\r\nimport ListItem from \"./ListItem\";\r\nimport { useAppSelector } from \"../../hooks/react-redux.hook\";\r\nimport { userData } from \"../../store/selectors\";\r\n\r\ntype propsType = {\r\n  statisticForRange: expenseIncomeType[]\r\n  totalSpent: number\r\n}\r\n\r\nexport type listForRangeItem = {\r\n  title: string,\r\n  value: number,\r\n  percentage: number | string\r\n}\r\n\r\nexport const List: FC<propsType> = ({ statisticForRange, totalSpent }) => {\r\n  const { lang } = useAppSelector(userData)\r\n\r\n  const dataForRange: listForRangeItem[] = statisticForRange.map((el, index) => ({\r\n    title: lang === 'en' ? el._id.nameEn : el._id.nameRu,\r\n    value: el.total,\r\n    percentage: Math.round((100 * el.total) / totalSpent) || '>1'\r\n  }))\r\n\r\n\r\n  return (\r\n    <div>\r\n      {dataForRange.sort((a, b) => b.value - a.value).map(listItem => <ListItem key={listItem.title} listItem={listItem}/>)}\r\n    </div>\r\n  );\r\n};","import React, { FC, useState } from 'react';\r\nimport { Button } from \"react-bootstrap\";\r\nimport Loader from \"../loader/Loader\";\r\nimport Diagram from \"./Diagram\";\r\nimport { List } from \"./List\";\r\n//@ts-ignore\r\n//todo: learn how to work when there is no ts for library\r\nimport DateRangePicker from '@wojtekmaj/react-daterange-picker'\r\nimport { useAppSelector } from \"../../hooks/react-redux.hook\";\r\nimport { useTranslation } from \"react-i18next\";\r\nimport { statisticData } from \"../../store/selectors\";\r\nimport { statisticForRangeType } from \"../../types/statistic.type\";\r\nimport './rangeStatistic.scss'\r\n\r\ntype propsType = {\r\n  statisticForRange: statisticForRangeType,\r\n  setMonthsRange: React.Dispatch<React.SetStateAction<Date[]>>\r\n  monthsRange: Date[]\r\n}\r\n\r\nconst RangeStatistic: FC<propsType> = ({ statisticForRange, monthsRange, setMonthsRange }) => {\r\n  const { t } = useTranslation()\r\n  const { isStatisticForRangeLoading } = useAppSelector(statisticData)\r\n  const [useDiagram, setUseDiagram] = useState<boolean>(true)\r\n\r\n  return (\r\n    <>\r\n      <p className='fs-5 mb-0 fw-bold text-center'>{t('Select range')}:</p>\r\n      <div className='d-flex justify-content-center'>\r\n        <DateRangePicker\r\n          onChange={setMonthsRange}\r\n          maxDetail='year'\r\n          value={monthsRange}\r\n          locale='en'\r\n          calendarIcon={null}\r\n          clearIcon={null}\r\n          format='MM.y'\r\n          minDetail='year'\r\n          minDate={new Date(2021, 3, 1)}\r\n          maxDate={new Date()}\r\n        />\r\n      </div>\r\n      <div className='rangeHolder mt-3 text-center' data-tip='chart'>\r\n        {\r\n          statisticForRange.totalSpent > 0 && (\r\n            <div className='rangeHolderControls mb-3'>\r\n\r\n              <Button\r\n                size='sm'\r\n                className={`mx-2 ${useDiagram ? 'text-white' : ''}`}\r\n                variant={useDiagram ? 'warning' : 'outline-warning'}\r\n                onClick={() => setUseDiagram(true)}\r\n              >\r\n                {t('Pie chart')}\r\n              </Button>\r\n              <Button\r\n                size='sm'\r\n                className={useDiagram ? '' : 'text-white'}\r\n                variant={useDiagram ? 'outline-warning' : 'warning'}\r\n                onClick={() => setUseDiagram(false)}\r\n              >\r\n                {t('List')}\r\n              </Button>\r\n            </div>\r\n          )\r\n        }\r\n        {\r\n          isStatisticForRangeLoading\r\n            ? (<Loader/>)\r\n            : (\r\n              <>\r\n                <p className='fw-bold'>{t('Spent during this period')}:\r\n                  <span className='fst-italic yellowText'> {statisticForRange.totalSpent}</span></p>\r\n                {useDiagram ?\r\n                  <Diagram\r\n                    totalSpent={statisticForRange.totalSpent}\r\n                    statisticForRange={statisticForRange.transactionsInRange}\r\n                  />\r\n                  :\r\n                  <List\r\n                    totalSpent={statisticForRange.totalSpent}\r\n                    statisticForRange={statisticForRange.transactionsInRange}\r\n                  />}\r\n              </>\r\n            )\r\n        }\r\n      </div>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default RangeStatistic;","import React, { FC, useEffect, useState } from 'react'\r\nimport { Col, Container, Row } from \"react-bootstrap\"\r\nimport { useAppDispatch, useAppSelector } from \"../../hooks/react-redux.hook\"\r\nimport { getStatisticForRange, getWholeStatistic } from \"../../store/reducers/statistic.reducer\"\r\nimport { statisticData, userData } from \"../../store/selectors\"\r\nimport { useTranslation } from \"react-i18next\";\r\nimport Loader from \"../../components/loader/Loader\";\r\nimport 'moment/locale/ru'\r\nimport WholeStatistic from \"../../components/statistic/WholeStatistic\";\r\nimport RangeStatistic from \"../../components/statistic/RangeStatistic\";\r\n\r\nconst Statistic: FC = () => {\r\n  const dispatch = useAppDispatch()\r\n  const {\r\n    wholeStatistic,\r\n    statisticForRange,\r\n    isWholeStatisticLoading,\r\n    isStatisticForRangeLoading\r\n  } = useAppSelector(statisticData)\r\n  const { t } = useTranslation()\r\n  const { user, lang } = useAppSelector(userData)\r\n\r\n  useEffect(() => {\r\n    dispatch(getWholeStatistic())\r\n  }, [])\r\n\r\n  const [monthsRange, setMonthsRange] = useState<Date[]>([new Date(user.created), new Date()]);\r\n\r\n  useEffect(() => {\r\n    dispatch(getStatisticForRange({ from: monthsRange[0], to: monthsRange[1] }))\r\n  }, [monthsRange])\r\n\r\n  if (isWholeStatisticLoading && isStatisticForRangeLoading) {\r\n    return <Loader/>\r\n  }\r\n\r\n  return (\r\n    <Container className='py-4'>\r\n      {wholeStatistic && statisticForRange ? (\r\n        <Row>\r\n          <Col xs='12' md='6'>\r\n            <RangeStatistic\r\n              statisticForRange={statisticForRange}\r\n              monthsRange={monthsRange}\r\n              setMonthsRange={setMonthsRange}\r\n            />\r\n          </Col>\r\n          <Col xs='12' md='6'>\r\n            <WholeStatistic\r\n              wholeStatistic={wholeStatistic}\r\n              user={user}\r\n              lang={lang}\r\n            />\r\n          </Col>\r\n        </Row>\r\n      ) : (\r\n        <div className='d-flex justify-content-center align-items-center h-100 fw-bold my-3 my-md-0 '>\r\n          <p>{t('Some of your statistic will be here')}</p>\r\n        </div>\r\n      )}\r\n    </Container>\r\n  )\r\n}\r\n\r\nexport default Statistic","import React, { useEffect, useState } from 'react';\r\nimport { Button, Col, Container, FormControl, Row } from 'react-bootstrap';\r\nimport { useTranslation } from \"react-i18next\";\r\nimport { useHistory } from 'react-router-dom';\r\nimport { toast } from \"react-toastify\";\r\nimport { useAppDispatch, useAppSelector } from \"../../hooks/react-redux.hook\";\r\nimport { setFirstEnter, setInitialValues } from \"../../store/reducers/user.reducer\";\r\nimport { userData } from \"../../store/selectors\";\r\n\r\nconst Init = () => {\r\n  const dispatch = useAppDispatch()\r\n  const history = useHistory()\r\n  const { t } = useTranslation()\r\n  const { user } = useAppSelector(userData)\r\n  const [card, setCard] = useState<number | string>('')\r\n  const [cash, setCash] = useState<number | string>('')\r\n\r\n  const handleChange = (setter: React.Dispatch<React.SetStateAction<number | string>>) => (event: React.ChangeEvent<HTMLInputElement>) => {\r\n    if (validateSumReg.test(event.target.value) || event.target.value === '') {\r\n      console.log(event.target.value)\r\n      setter(event.target.value)\r\n    }\r\n  }\r\n\r\n  const validateSumReg = /^[0-9]$/;\r\n\r\n  useEffect(() => {\r\n    if (user.isFirstEnter) {\r\n      dispatch(setFirstEnter())\r\n    }\r\n  }, [])\r\n\r\n  const handleInit = () => {\r\n    if (card === '' || cash === '') {\r\n      return toast(t('All fields are required'), {\r\n        position: \"top-right\",\r\n        autoClose: 2500,\r\n        hideProgressBar: true,\r\n        closeOnClick: true,\r\n        theme: 'dark',\r\n        type: 'error'\r\n      })\r\n    }\r\n\r\n    dispatch(setInitialValues({ card: Number(card), cash: Number(cash) }))\r\n    history.push('/')\r\n  }\r\n\r\n  const hideHeader = `\r\n  header .menu ul{\r\n    display: none;\r\n  }`\r\n\r\n  return (\r\n    <>\r\n      <style>{hideHeader}</style>\r\n      <Container className='py-4'>\r\n        <p className='fs-4 fw-bold text-center py-2'>{t('Here you can set initial values for your balance')}</p>\r\n        <Row className='text-center'>\r\n          <Col xs='12' lg='6' className='mb-3 mb-lg-0' >\r\n            <p className='fs-5 fw-bold'>{t('Set your card balance')}:</p>\r\n            <FormControl\r\n              type='number'\r\n              placeholder={t('Sum on card')}\r\n              value={card}\r\n              onChange={handleChange(setCard)}\r\n            />\r\n          </Col>\r\n          <Col xs='12' lg='6'>\r\n            <p className='fs-5 fw-bold'>{t('Set your cash balance')}:</p>\r\n            <FormControl\r\n              type='number'\r\n              placeholder={t('Sum in cash')}\r\n              value={cash}\r\n              onChange={handleChange(setCash)}\r\n            />\r\n          </Col>\r\n          <Col xs='12' className='mt-3 text-center'>\r\n            <p className='fs-5 mb-1 mt-4'>{t('Set initial values')}:</p>\r\n            <Button\r\n              variant='warning'\r\n              className='w300Px text-white'\r\n              onClick={handleInit}\r\n            >\r\n              {t('Initialize')}\r\n            </Button>\r\n            <p className='mt-2 yellowText text-decoration-underline cursor-pointer'\r\n               onClick={() => history.push('/')}>{t('Skip')}</p>\r\n          </Col>\r\n        </Row>\r\n      </Container>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default Init;","import React, { FC } from 'react';\r\nimport { Redirect, Route, Switch } from \"react-router-dom\";\r\nimport CreateTransaction from \"../../pages/createTransaction/CreateTransaction\";\r\nimport Profile from \"../../pages/profile/Profile\";\r\nimport Auth from \"../../pages/auth/Auth\";\r\nimport { useAppSelector } from \"../../hooks/react-redux.hook\";\r\nimport { userData } from \"../../store/selectors\";\r\nimport Statistic from \"../../pages/statistic/Statistic\";\r\nimport Loader from \"../loader/Loader\";\r\nimport Init from \"../../pages/initPage/Init\";\r\n\r\ntype propsType = {\r\n  isAuth: boolean | null\r\n}\r\n\r\nconst AppRouter: FC<propsType> = ({ isAuth }) => {\r\n  const { isRefreshLoading } = useAppSelector(userData)\r\n\r\n  if (isAuth === null || isRefreshLoading) {\r\n    return <Loader fullHeight={true}/>\r\n  }\r\n\r\n  return (\r\n    <>\r\n      {isAuth ? (\r\n          <Switch>\r\n            <Route path='/statistic' component={Statistic}/>\r\n            <Route path='/createTransaction' component={CreateTransaction}/>\r\n            <Route path='/home' component={Profile}/>\r\n            <Route path='/initialization' component={Init}/>\r\n            <Redirect to='/home'/>\r\n          </Switch>\r\n        ) :\r\n        (\r\n          <Switch>\r\n            <Route path=\"/authorization\" component={Auth}/>\r\n            <Redirect to='/authorization'/>\r\n          </Switch>\r\n        )}\r\n    </>\r\n  );\r\n}\r\n\r\nexport default AppRouter;","import React, { useEffect } from 'react'\r\nimport { useAppDispatch, useAppSelector } from './hooks/react-redux.hook'\r\nimport { checkAuth, logOut, setAuth } from \"./store/reducers/user.reducer\"\r\nimport { Slide, toast, ToastContainer } from 'react-toastify'\r\nimport { userData } from \"./store/selectors\"\r\nimport AppHeader from \"./components/header/AppHeader\";\r\nimport AppRouter from \"./components/router/AppRouter\";\r\nimport 'react-toastify/dist/ReactToastify.css';\r\nimport './App.scss'\r\nimport { useHistory } from 'react-router-dom'\r\nimport axios from \"axios\";\r\nimport { loginResponseType } from \"./types/user.type\";\r\nimport axiosInstance, { baseUrl } from \"./api/axiosInstance\";\r\n\r\nconst App = () => {\r\n  const history = useHistory()\r\n  const dispatch = useAppDispatch()\r\n  const { isAuth, user } = useAppSelector(userData)\r\n\r\n  useEffect(() => {\r\n    const token = localStorage.getItem('token');\r\n\r\n    if (token) {\r\n      dispatch(checkAuth());\r\n    } else {\r\n      dispatch(setAuth(false))\r\n    }\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    if (isAuth && user.isFirstEnter) {\r\n      history.push('/initialization')\r\n    }\r\n  }, [isAuth, user])\r\n\r\n  axiosInstance.interceptors.request.use((config) => {\r\n    if (localStorage.getItem('token')) {\r\n      config.headers.Authorization = `Bearer ${localStorage.getItem('token')}`\r\n    }\r\n    return config;\r\n  })\r\n\r\n  axiosInstance.interceptors.response.use((config) => {\r\n    return config;\r\n  }, async (error) => {\r\n    const originalRequest = error.config;\r\n    if (error.response.status === 401 && error.config && !error.config._isRetry) {\r\n      originalRequest._isRetry = true;\r\n      try {\r\n        const response = await axios.get<loginResponseType>(`${baseUrl}/api/user/refresh`, { withCredentials: true })\r\n        localStorage.setItem('token', response.data.accessToken);\r\n        return axiosInstance.request(originalRequest);\r\n      } catch (e) {\r\n        toast(localStorage.getItem('i18nextLng') === 'en'\r\n          ? 'Your session has expired'\r\n          : '  ', {\r\n          position: \"top-right\",\r\n          autoClose: 2500,\r\n          hideProgressBar: true,\r\n          closeOnClick: true,\r\n          theme: 'dark',\r\n          type: 'warning'\r\n        })\r\n\r\n        dispatch(logOut())\r\n      }\r\n    }\r\n    throw error;\r\n  })\r\n\r\n  return (\r\n    <>\r\n      {isAuth && user?.isFirstEnter === false && <AppHeader/>}\r\n      <AppRouter isAuth={isAuth}/>\r\n      <ToastContainer\r\n        transition={Slide}\r\n      />\r\n    </>\r\n  )\r\n}\r\n\r\nexport default App\r\n","import i18n from 'i18next';\r\nimport Backend from 'i18next-http-backend';\r\nimport LanguageDetector from 'i18next-browser-languagedetector';\r\nimport { initReactI18next } from 'react-i18next';\r\n\r\nconst fallbackLng = ['en'];\r\nconst availableLanguages = ['en', 'ru'];\r\n\r\n\r\nconst options = {\r\n  // order and from where user language should be detected\r\n  order: [ 'navigator', 'htmlTag', 'path', 'subdomain'],\r\n\r\n  // keys or params to lookup language from\r\n  lookupQuerystring: 'lng',\r\n  lookupCookie: 'i18next',\r\n  lookupLocalStorage: 'i18nextLng',\r\n  lookupFromPathIndex: 0,\r\n  lookupFromSubdomainIndex: 0,\r\n\r\n  // cache user language on\r\n  caches: ['localStorage', 'cookie'],\r\n  excludeCacheFor: ['cimode'], // languages to not persist (cookie, localStorage)\r\n\r\n  // optional expire and domain for set cookie\r\n  cookieMinutes: 10,\r\n  cookieDomain: 'myDomain',\r\n\r\n  // optional htmlTag with lang attribute, the default is:\r\n  htmlTag: document.documentElement,\r\n\r\n  // only detect languages that are in the whitelist\r\n  checkWhitelist: true\r\n}\r\n\r\ni18n\r\n  .use(Backend) // load translation using xhr -> see /public/locales. We will add locales in the next step\r\n\r\n  .use(LanguageDetector) // detect user language\r\n\r\n  .use(initReactI18next) // pass the i18n instance to react-i18next.\r\n\r\n  .init({\r\n    backend: {\r\n      loadPath: \"/billionstraker-fe/locales/{{lng}}/{{ns}}.json\",\r\n    },\r\n    lng: localStorage. getItem('i18nextLng') || 'en',\r\n    fallbackLng,\r\n    whitelist: availableLanguages,\r\n    detection: options,\r\n\r\n    interpolation: {\r\n      escapeValue: false\r\n    },\r\n  });\r\n\r\nexport default i18n;","import React, { Suspense } from 'react'\r\nimport ReactDOM from 'react-dom'\r\nimport { Provider } from 'react-redux'\r\nimport { HashRouter as Router } from 'react-router-dom'\r\nimport 'bootstrap/dist/css/bootstrap.min.css';\r\nimport store from './store/index'\r\nimport App from './App'\r\nimport './i18n'\r\nimport Loader from \"./components/loader/Loader\";\r\n\r\nReactDOM.render(\r\n  <Provider store={store}>\r\n  <React.StrictMode>\r\n    <Router>\r\n      <Suspense fallback={() => <Loader fullHeight={true}/>}>\r\n        <App />\r\n      </Suspense>\r\n    </Router>\r\n  </React.StrictMode>\r\n  </Provider>,\r\n  document.getElementById('root')\r\n)\r\n"],"sourceRoot":""}