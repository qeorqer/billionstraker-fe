(this["webpackJsonpbillionstracker-fe"]=this["webpackJsonpbillionstracker-fe"]||[]).push([[0],{174:function(e,t,a){},183:function(e,t,a){},184:function(e,t,a){},185:function(e,t,a){},284:function(e,t,a){},300:function(e,t,a){},302:function(e,t,a){},303:function(e,t,a){"use strict";a.r(t);var n=a(0),s=a.n(n),c=a(31),r=a.n(c),i=a(28),o=a(32),l=(a(154),a(12)),d=a(9),u=a.n(d),j=a(15),b=a(45),h=a.n(b),m="https://young-beyond-74584.herokuapp.com",p=h.a.create({withCredentials:!0,baseURL:"".concat(m,"/api"),headers:{"Content-type":"application/json"}}),x=function(e){return p.patch("/user/setInitialValues",e)},g=function(e){return p.post("/transaction/addNewTransaction",e)},f=function(e){return p.post("/transaction/getAllUserTransactions",e)},O=function(e){return p.post("/statistic/getStatisticForRange",e)},w=a(17),v=Object(l.b)("user/signUp",function(){var e=Object(j.a)(u.a.mark((function e(t,a){var n,s;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,c=t,p.post("/user/signUp",c);case 3:return n=e.sent,e.abrupt("return",n.data);case 7:if(e.prev=7,e.t0=e.catch(0),!h.a.isAxiosError(e.t0)){e.next=11;break}return e.abrupt("return",a.rejectWithValue(null===(s=e.t0.response)||void 0===s?void 0:s.data));case 11:case"end":return e.stop()}var c}),e,null,[[0,7]])})));return function(t,a){return e.apply(this,arguments)}}()),y=Object(l.b)("user/logIn",function(){var e=Object(j.a)(u.a.mark((function e(t,a){var n,s;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,c=t,p.post("/user/logIn",c);case 3:return n=e.sent,e.abrupt("return",n.data);case 7:if(e.prev=7,e.t0=e.catch(0),!h.a.isAxiosError(e.t0)){e.next=11;break}return e.abrupt("return",a.rejectWithValue(null===(s=e.t0.response)||void 0===s?void 0:s.data));case 11:case"end":return e.stop()}var c}),e,null,[[0,7]])})));return function(t,a){return e.apply(this,arguments)}}()),S=Object(l.b)("user/logOut",Object(j.a)(u.a.mark((function e(){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,p.post("/user/logOut");case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))),A=Object(l.b)("user/refresh",Object(j.a)(u.a.mark((function e(){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,p.get("/user/refresh");case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))),C=Object(l.b)("transaction/addTransaction",function(){var e=Object(j.a)(u.a.mark((function e(t){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,g(t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),N=Object(l.b)("user/setFirstEnter",Object(j.a)(u.a.mark((function e(){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,p.patch("/user/setFirstEnter");case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))),k=Object(l.b)("user/setInitialValues",function(){var e=Object(j.a)(u.a.mark((function e(t){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,x(t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),F={user:{},isAuth:null,isRefreshLoading:!1,isSignUpSignInLoading:!1,lang:localStorage.getItem("i18nextLng")||"en"},I=Object(l.c)({name:"user",initialState:F,reducers:{changeLang:function(e,t){e.lang=t.payload},setAuth:function(e,t){e.isAuth=t.payload}},extraReducers:function(e){e.addCase(v.fulfilled,(function(e,t){e.isSignUpSignInLoading=!1,Object(w.c)("en"===localStorage.getItem("i18nextLng")?t.payload.messageEn:t.payload.messageRu,{position:"top-right",autoClose:2500,hideProgressBar:!0,closeOnClick:!0,theme:"dark",type:"success"})})),e.addCase(v.rejected,(function(e,t){var a,n;e.isSignUpSignInLoading=!1,Object(w.c)("en"===localStorage.getItem("i18nextLng")?null===(a=t.payload)||void 0===a?void 0:a.messageEn:null===(n=t.payload)||void 0===n?void 0:n.messageRu,{position:"top-right",autoClose:2500,hideProgressBar:!0,closeOnClick:!0,theme:"dark",type:"error"})})),e.addCase(v.pending,(function(e){e.isSignUpSignInLoading=!0})),e.addCase(y.pending,(function(e){e.isSignUpSignInLoading=!0})),e.addCase(y.fulfilled,(function(e,t){e.isSignUpSignInLoading=!1,localStorage.setItem("token",t.payload.accessToken),e.user=t.payload.user,e.isAuth=!0})),e.addCase(y.rejected,(function(e,t){var a,n;e.isSignUpSignInLoading=!1,Object(w.c)("en"===localStorage.getItem("i18nextLng")?null===(a=t.payload)||void 0===a?void 0:a.messageEn:null===(n=t.payload)||void 0===n?void 0:n.messageRu,{position:"top-right",autoClose:2500,hideProgressBar:!0,closeOnClick:!0,theme:"dark",type:"error"})})),e.addCase(S.fulfilled,(function(e){localStorage.removeItem("token"),e.user={},e.isAuth=!1})),e.addCase(A.pending,(function(e){e.isRefreshLoading=!0})),e.addCase(A.rejected,(function(e){e.isRefreshLoading=!1})),e.addCase(A.fulfilled,(function(e,t){e.isRefreshLoading=!1,localStorage.setItem("token",t.payload.data.accessToken),e.user=t.payload.data.user,e.isAuth=!0})),e.addCase(C.fulfilled,(function(e,t){var a,n;e.user=t.payload.data.updatedUser,Object(w.c)("en"===localStorage.getItem("i18nextLng")?null===(a=t.payload)||void 0===a?void 0:a.data.messageEn:null===(n=t.payload)||void 0===n?void 0:n.data.messageRu,{position:"top-right",autoClose:2500,hideProgressBar:!0,closeOnClick:!0,theme:"dark",type:"success"})})),e.addCase(N.fulfilled,(function(e,t){e.user=t.payload.data.user})),e.addCase(k.fulfilled,(function(e,t){var a,n;e.user=t.payload.data.user,Object(w.c)("en"===localStorage.getItem("i18nextLng")?null===(a=t.payload)||void 0===a?void 0:a.data.messageEn:null===(n=t.payload)||void 0===n?void 0:n.data.messageRu,{position:"top-right",autoClose:2500,hideProgressBar:!0,closeOnClick:!0,theme:"dark",type:"success"})}))}}),T=I.actions,E=T.changeLang,L=T.setAuth,R=I.reducer,B=Object(l.b)("category/getCategories",Object(j.a)(u.a.mark((function e(){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,p.get("/category/getCategories");case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))),U=Object(l.c)({name:"category",initialState:{categories:[]},reducers:{},extraReducers:function(e){e.addCase(B.fulfilled,(function(e,t){e.categories=t.payload.data.categories}))}}).reducer,G=a(19),V=Object(l.b)("transaction/getAllUserTransactions",function(){var e=Object(j.a)(u.a.mark((function e(t){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,f(t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),P=Object(l.c)({name:"transaction",initialState:{isTransactionsloading:!1,numberOfTransactions:0,transactions:[]},reducers:{resetTransactions:function(e){e.transactions=[]}},extraReducers:function(e){e.addCase(V.pending,(function(e){e.isTransactionsloading=!0})),e.addCase(V.fulfilled,(function(e,t){e.isTransactionsloading=!1,e.transactions=[].concat(Object(G.a)(e.transactions),Object(G.a)(t.payload.data.transactions)),e.numberOfTransactions=t.payload.data.numberOfTransactions||0})),e.addCase(V.rejected,(function(e){e.isTransactionsloading=!1}))}}),D=P.actions.resetTransactions,Y=P.reducer,q=Object(l.b)("statistic/getGeneralStatistic",Object(j.a)(u.a.mark((function e(){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,p.get("/statistic/getGeneralStatistic");case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))),W=Object(l.b)("statistic/getWholeStatistic",Object(j.a)(u.a.mark((function e(){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,p.get("/statistic/getWholeStatistic");case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))),M=Object(l.b)("statistic/getStatisticForRange",function(){var e=Object(j.a)(u.a.mark((function e(t){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,O(t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),Z=Object(l.c)({name:"statistic",initialState:{loading:!1,generalStatistic:null,wholeStatistic:null,statisticForRange:null,isGeneralStatisticLoading:!1,isWholeStatisticLoading:!1,isStatisticForRangeLoading:!1},reducers:{},extraReducers:function(e){e.addCase(q.pending,(function(e){e.isGeneralStatisticLoading=!0})),e.addCase(q.fulfilled,(function(e,t){e.isGeneralStatisticLoading=!1,e.generalStatistic=t.payload.data.statistic})),e.addCase(q.rejected,(function(e){e.isGeneralStatisticLoading=!1})),e.addCase(W.pending,(function(e){e.isWholeStatisticLoading=!0})),e.addCase(W.fulfilled,(function(e,t){e.isWholeStatisticLoading=!1,e.wholeStatistic=t.payload.data.statistic})),e.addCase(W.rejected,(function(e){e.isWholeStatisticLoading=!1})),e.addCase(M.pending,(function(e){e.isStatisticForRangeLoading=!0})),e.addCase(M.fulfilled,(function(e,t){e.isStatisticForRangeLoading=!1,e.statisticForRange=t.payload.data.statistic})),e.addCase(M.rejected,(function(e){e.isStatisticForRangeLoading=!1}))}}).reducer,H=Object(l.a)({reducer:{userData:R,categoryDate:U,transactionData:Y,statisticData:Z}}),Q=function(){return Object(i.c)()},J=i.d,K=function(e){return e.userData},X=function(e){return e.categoryDate},z=function(e){return e.transactionData},_=function(e){return e.statisticData},$=a(13),ee=(a(174),a.p+"static/media/logo.9b355c54.png"),te=a(311),ae=a(312),ne=a(129),se=a(313),ce=a(316),re=a(58),ie=a(1),oe=function(){var e=Q(),t=J(K).lang,a=function(t){return function(){e(E(t)),re.a.changeLanguage(t)}};return Object(ie.jsxs)(ie.Fragment,{children:[Object(ie.jsx)("span",{onClick:a("en"),className:"en"===t?"activeLang":"",children:Object(ie.jsx)("img",{src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAMAAABEpIrGAAAAA3NCSVQICAjb4U/gAAAACXBIWXMAAADdAAAA3QFwU6IHAAAAGXRFWHRTb2Z0d2FyZQB3d3cuaW5rc2NhcGUub3Jnm+48GgAAAThQTFRF////+5CWpG6Y+4WMum+RlGOUQUebQkibQkicRkueRkydR02dR02eSE2eSE6eSE6fSU+fSlCfSlCgTFGgTFKhTVKgTVOhTlOhTlSiT1WiUVWhUVajUVejUkeVUkqXUk6bUlGeUlOgUlejUlikU0eUU1ikVFqkVVqlVlumV1ymWV6nXGGoXmOpX2SqYGWqYGWrYWarYmesY2isZE2TZGmsZmqtZmuuZ2uuaG2uaW2vam+va3CwbHGxbXGxbXKxbnOyb3OycHSycHWzcXWzcnazdHi0dXm1d3y2eHy3en64e3+4fIC4foK6gl2WiIy/io7Ai4/AjZDBkFaKlZjFl5rGmJvGmZzHnaDJoKLKoKPLoaTLoqTLo6bMpKfMpafNpajN9fDw9fX19uDh+Lq++MrN+5CW/Wpy/0tV1Uw64AAAAAZ0Uk5TAIqwuMzZ24+8ogAAAOpJREFUOMtjYBgKgIkVGbAwowFGBjZ+NjYeOFJJRwcMHPE8vHECXLECnFEC3DFSSeiAgU3E1VHY3V7Yy0bYx1JYMQUdMHBECwlGifJFivOEi/FFyGJawabkYqfqZqfkbq3kZaGkkIwOGDjClGVC1SRDNSSCNSRDpBPQAQO7gZW5ga25gYOZvouRPjYrArU0A7TV/XVV/fRV/eVT0QEDh7OhnrOJrrOpnpOFjpNMIjpgYPNmY/MEIw8gKZeGDhh8jZFBEKaCRAKAIZUAYEgnABgSCACGZAKAsBUpBABDEgFA2ApGZryAcUjkPABWg9YaCJi69wAAAABJRU5ErkJggg==",alt:"en"})}),Object(ie.jsx)("span",{onClick:a("ru"),className:"ru"===t?"activeLang":"",children:Object(ie.jsx)("img",{src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAABHNCSVQICAgIfAhkiAAAAAlwSFlzAAAA7AAAAOwBeShxvQAAABl0RVh0U29mdHdhcmUAd3d3Lmlua3NjYXBlLm9yZ5vuPBoAAACWSURBVFiF7ZMrDsJQFETn3Vw+BoFAsQQca8Kj2AQodA17qcBhSNgCoiEvDaQp0Fyw7GBIOmcD5ySTAUTfSZ+mmSNiRrGbVY6IDVJaUwIi9kYR/6AABdADfHsc5XuLE0M+GSP7tcYUwJIR8HiipE+gAAX44nbJg3hRbvi2YfbVuaDdENANFaAAwNF1O5gdKPaIiuIVf8UX88QnAAqjY10AAAAASUVORK5CYII=",alt:"en"})})]})},le=function(){var e=Q(),t=Object($.g)(),a=Object(ce.a)().t,n=s.a.forwardRef((function(e,t){var a=e.onClick;return Object(ie.jsx)("div",{className:"dropdownMenu",children:Object(ie.jsx)("div",{className:"menuTogglerContainer",ref:t,onClick:a,children:Object(ie.jsx)("span",{})})})}));return Object(ie.jsx)("header",{children:Object(ie.jsx)(te.a,{children:Object(ie.jsxs)(ae.a,{children:[Object(ie.jsx)(ne.a,{md:"3",xs:"6",className:"logo",children:Object(ie.jsxs)(o.b,{to:"/",children:[Object(ie.jsx)("img",{src:ee,alt:"app logo"}),"Billionstracker"]})}),Object(ie.jsx)(ne.a,{md:"6",xs:"12",className:"menu order-1 order-md-0",children:Object(ie.jsxs)("ul",{className:"m-0 p-0",children:[Object(ie.jsx)("li",{children:Object(ie.jsx)(o.c,{to:"/home",children:a("Profile")})}),Object(ie.jsx)("li",{children:Object(ie.jsx)(o.c,{to:"/createTransaction",children:a("New transaction")})}),Object(ie.jsx)("li",{children:Object(ie.jsx)(o.c,{to:"/statistic",children:a("Statistic")})})]})}),Object(ie.jsx)(ne.a,{md:"3",xs:"6",children:Object(ie.jsxs)(se.a,{children:[Object(ie.jsx)(se.a.Toggle,{as:n,id:"dropdown-custom-components"}),Object(ie.jsxs)(se.a.Menu,{variant:"dark",children:[Object(ie.jsx)(se.a.Item,{as:"span",className:"d-flex justify-content-around languagesController",children:Object(ie.jsx)(oe,{})}),Object(ie.jsx)(se.a.Item,{as:"span",onClick:function(){return t.push("/home")},children:a("Home")}),Object(ie.jsxs)(se.a.Item,{href:"https://t.me/qeorqe",target:"_blank",children:[a("Support")," "]}),Object(ie.jsx)(se.a.Item,{as:"span",onClick:function(){e(S()),t.push("/authorization")},children:a("Log out")})]})]})})]})})})},de=a(10),ue=a(133),je=a(314),be=a(134),he=function(e){return String(e).replace(/\B(?=(\d{3})+(?!\d))/g," ")},me=(a(183),function(){var e=J(K),t=e.user,a=e.lang,s=J(X).categories,c=Object(n.useState)(!0),r=Object(de.a)(c,2),i=r[0],o=r[1],l=Object(n.useState)(!0),d=Object(de.a)(l,2),u=d[0],j=d[1],b=Object(n.useState)(""),h=Object(de.a)(b,2),m=h[0],p=h[1],x=Object(n.useState)(""),g=Object(de.a)(x,2),f=g[0],O=g[1],v=Object(n.useState)(""),y=Object(de.a)(v,2),S=y[0],A=y[1],N=Object(ce.a)().t,k=Q(),F=/^((?!(0))[0-9]+)$/;return Object(n.useEffect)((function(){k(B())}),[]),Object(ie.jsx)(ie.Fragment,{children:Object(ie.jsxs)(te.a,{className:"py-md-4 my-4",children:[Object(ie.jsxs)(ae.a,{children:[Object(ie.jsxs)("p",{className:"mb-1 fs-4 text-center fw-bold",children:[N("Select operation type"),":"]}),Object(ie.jsxs)(ne.a,{xs:"12",lg:"5",className:"mx-auto d-flex",children:[Object(ie.jsx)("div",{className:"w-50 text-center",children:Object(ie.jsx)(ue.a,{variant:u?"danger":"outline-danger",className:"w-75",onClick:function(){j(!0),p("")},children:N("expense")})}),Object(ie.jsx)("div",{className:"w-50 text-center",children:Object(ie.jsx)(ue.a,{variant:u?"outline-success":"success",className:"w-75",onClick:function(){j(!1),p("")},children:N("income")})})]})]}),Object(ie.jsx)(ae.a,{children:Object(ie.jsxs)(ne.a,{xs:"12",lg:"5",className:"mx-auto d-md-flex mt-3",children:[Object(ie.jsxs)("p",{className:"fs-5 mb-0 w-50 text-md-center text-nowrap",children:[N("Card balance"),":",Object(ie.jsxs)("span",{className:"yellowText",children:[" ",he(t.card)]})]}),Object(ie.jsxs)("p",{className:"fs-5 w-50 text-md-center text-nowrap",children:[N("Cash balance"),":",Object(ie.jsxs)("span",{className:"yellowText",children:[" ",he(t.cash)]})]})]})}),Object(ie.jsx)(ae.a,{children:Object(ie.jsxs)(ne.a,{xs:"12",lg:"7",className:"mx-auto",children:[Object(ie.jsxs)(ae.a,{children:[Object(ie.jsxs)(ne.a,{xs:"12",sm:"6",className:"d-flex flex-wrap",children:[Object(ie.jsxs)("p",{className:"mb-1 fs-5 text-center w-100",children:[N("Select card or cash"),":"]}),Object(ie.jsx)(je.a.Check,{checked:i,type:"radio",name:"cardOrCash",id:"default-radio2",className:"paymentCard d-flex align-items-center w-50 justify-content-center",label:"",onChange:function(){return o(!0)}}),Object(ie.jsx)(je.a.Check,{checked:!i,type:"radio",name:"cardOrCash",id:"default-radio1",label:"",className:"paymentCash d-flex align-items-center w-50 justify-content-center",onChange:function(){return o(!1)}})]}),Object(ie.jsxs)(ne.a,{xs:"12",sm:"6",children:[Object(ie.jsxs)("p",{className:"mb-1 fs-5 text-center w-100",children:[N("Select category"),":"]}),Object(ie.jsxs)(je.a.Select,{onChange:function(e){return p(e.target.value)},children:[Object(ie.jsx)("option",{className:"d-none",value:"",children:N("Select category")}),s&&s.filter((function(e){return e.isExpense===u})).map((function(e){return Object(ie.jsx)("option",{value:e._id,children:"en"===a?e.nameEn:e.nameRu},e._id)}))]})]})]}),Object(ie.jsxs)(ae.a,{className:"mt-3",children:[Object(ie.jsxs)(ne.a,{xs:"6",className:"d-flex flex-wrap",children:[Object(ie.jsxs)("p",{className:"mb-1 fs-5",children:[N("Name the transaction"),":"]}),Object(ie.jsx)(be.a,{type:"text",placeholder:N("Transaction title"),value:S,onChange:function(e){A(e.target.value)}})]}),Object(ie.jsxs)(ne.a,{xs:"6",className:"d-flex flex-wrap",children:[Object(ie.jsxs)("p",{className:"mb-1  fs-5",children:[N("Enter the sum of transaction"),":"]}),Object(ie.jsx)(be.a,{type:"text",placeholder:N("Transaction sum"),value:f,onChange:function(e){(F.test(e.target.value)||""===e.target.value)&&O(e.target.value)}})]})]}),Object(ie.jsx)(ae.a,{children:Object(ie.jsxs)(ne.a,{xs:"12",className:"mt-3 text-center",children:[Object(ie.jsxs)("p",{className:"fs-5 mb-1",children:[N("Submit transaction"),":"]}),Object(ie.jsx)(ue.a,{variant:"warning",className:"w300Px text-white",onClick:function(){if(!f||!m||!S)return Object(w.c)(N("All fields are required"),{position:"top-right",autoClose:2500,hideProgressBar:!0,closeOnClick:!0,theme:"dark",type:"error"});if(u){if(i&&t.card<f||!i&&t.cash<f)return Object(w.c)(N("You don't have this much"),{position:"top-right",autoClose:2500,hideProgressBar:!0,closeOnClick:!0,theme:"dark",type:"error"});if(0===Number(f))return Object(w.c)(N("You don't have this much"),{position:"top-right",autoClose:2500,hideProgressBar:!0,closeOnClick:!0,theme:"dark",type:"error"})}var e={title:S,ownerId:t._id,isCard:i,isExpense:u,sum:Number(f),category:m,date:new Date};k(C({transaction:e}))},children:N("Submit")})]})})]})})]})})}),pe=function(){var e=Object(i.d)(K).user,t=Object(ce.a)().t,a=e.card+e.cash;return Object(ie.jsxs)(ne.a,{md:"6",xs:"12",className:"balance",children:[Object(ie.jsxs)("p",{className:"totalBalance fs-3 text-uppercase fw-bold",children:[a?t("Total balance"):"",Object(ie.jsxs)("span",{className:"yellowText",children:[" ",a?he(a):t("There is no money yet")]})]}),Object(ie.jsxs)("p",{className:"fs-5",children:[t("Card balance"),":",Object(ie.jsxs)("span",{children:[" ",he(e.card)]})]}),Object(ie.jsxs)("p",{className:"fs-5",children:[t("In cash"),":",Object(ie.jsxs)("span",{children:[" ",he(e.cash)]})]})]})},xe=a(44),ge=a.n(xe),fe=(a(81),function(){var e=J(_).generalStatistic,t=J(K),a=t.user,n=t.lang,s=Object(ce.a)().t;return Object(ie.jsx)(ne.a,{md:"6",xs:"12",children:e?Object(ie.jsxs)("div",{className:"my-3 my-md-0",children:[Object(ie.jsxs)("p",{className:"fs-5 mb-0 fw-bold",children:[s("Spent this month"),": ",Object(ie.jsx)("span",{className:"fst-italic yellowText",children:e.userExpensesThisMonth})]}),Object(ie.jsxs)("p",{className:"fs-5 fw-bold",children:[s("Spent for the whole time"),": ",Object(ie.jsx)("span",{className:"fst-italic yellowText",children:e.userExpenses})]}),Object(ie.jsxs)("p",{className:"fs-6 mb-0 fw-bold",children:[s("On")," ",Object(ie.jsx)("span",{className:"yellowText",children:"Billionstracker"})," ",s("Since")," ",Object(ie.jsx)("span",{className:"fst-italic yellowText",children:ge()(a.created).locale(n).format("LL")})]})]}):Object(ie.jsx)("div",{className:"d-flex justify-content-center align-items-center h-100 fw-bold my-3 my-md-0 ",children:Object(ie.jsx)("p",{children:"Some of your statistic will be here"})})})}),Oe=function(){return Object(ie.jsxs)(ae.a,{children:[Object(ie.jsx)(pe,{}),Object(ie.jsx)(fe,{})]})},we=(a(184),a(315)),ve=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"en",a=ge()(e).locale(t);return a.isSame(new Date,"week")?a.fromNow():a.format("LL")},ye=function(e){var t=e.transaction,a=J(K).lang;return Object(ie.jsx)(we.a,{className:"mb-3  w-75 mx-auto fw-bold text-center",bg:"light",text:"dark",children:Object(ie.jsx)(we.a.Body,{children:Object(ie.jsxs)(ae.a,{children:[Object(ie.jsx)(ne.a,{xs:"12",sm:"4",className:"mb-2 mb-sm-0",children:t.title}),Object(ie.jsx)(ne.a,{xs:"8",sm:"4",children:ve(t.date,a)}),Object(ie.jsx)(ne.a,{xs:"4",sm:"4",children:t.isExpense?Object(ie.jsxs)("span",{className:"text-danger",children:["-",he(t.sum)]}):Object(ie.jsxs)("span",{className:"text-success",children:["+",he(t.sum)]})})]})})})},Se=a.p+"static/media/loader.b77cbe87.gif",Ae=(a(185),function(e){var t=e.fullHeight;return Object(ie.jsx)("div",{className:"d-flex align-items-center justify-content-center pt-2\n    ".concat(t?"fullHeight":""," \n    "),children:Object(ie.jsx)("img",{src:Se,alt:"loader img"})})}),Ce=function(){var e=J(z),t=e.isTransactionsloading,a=e.transactions,s=e.numberOfTransactions,c=Q(),r=Object(ce.a)().t,i=Object(n.useState)(10),o=Object(de.a)(i,2),l=o[0],d=o[1];return t&&!s?Object(ie.jsx)(Ae,{}):Object(ie.jsx)("div",{className:"mt-4",children:s?Object(ie.jsxs)(ie.Fragment,{children:[Object(ie.jsx)("p",{className:"text-center fw-bold fs-4",children:r("Your transactions")}),a.map((function(e){return Object(ie.jsx)(ye,{transaction:e},e._id)})),t&&Object(ie.jsx)(Ae,{}),l<=s&&Object(ie.jsx)(ue.a,{disabled:t,variant:"warning",className:"mt-4 mx-auto d-block text-white",onClick:function(){c(V({limit:10,numberToSkip:l})),d(10+l)},children:r("Load more")})]}):Object(ie.jsx)("div",{className:"d-flex justify-content-center align-items-center h-100 fw-bold my-3 mt-3",children:Object(ie.jsx)("p",{children:r("There is no transactions yet")})})})},Ne=function(){var e=J(z).isTransactionsloading,t=J(_).isGeneralStatisticLoading,a=Q();return Object(n.useEffect)((function(){a(D()),a(q()),a(V({limit:10,numberToSkip:0}))}),[]),t&&e?Object(ie.jsx)(Ae,{}):Object(ie.jsxs)(te.a,{className:"py-4",children:[Object(ie.jsx)(Oe,{}),Object(ie.jsx)(Ce,{})]})},ke=a(3),Fe=a(29),Ie=a(33),Te=a(72),Ee=function(e){var t=e.values,a=e.errors,n=e.touched,s=e.handleChange,c=e.handleBlur,r=e.handleSubmit,i=e.isSubmitting,o=Object(ce.a)().t;return Object(ie.jsxs)(Fe.b,{onSubmit:r,children:[Object(ie.jsx)(Fe.a,{name:"login",render:function(e){var t=e.field;return Object(ie.jsxs)(Te.a,{controlId:"login",className:"authFormGroup mb-4",children:[Object(ie.jsx)(be.a,{type:"text",value:t.value,onChange:t.onChange,placeholder:o("login"),isValid:!1}),n.login&&a.login&&Object(ie.jsx)(be.a.Feedback,{type:"invalid",tooltip:!0,children:a.login})]})}}),Object(ie.jsx)(Fe.a,{type:"password",name:"password",onChange:s,onBlur:c,value:t.password,render:function(e){var t=e.field;return Object(ie.jsxs)(Te.a,{controlId:"password",className:"authFormGroup mb-4",children:[Object(ie.jsx)(be.a,{type:"password",value:t.value,onChange:t.onChange,placeholder:o("password")}),n.password&&a.password&&Object(ie.jsx)(be.a.Feedback,{type:"invalid",tooltip:!0,children:a.password})]})}}),Object(ie.jsx)(Fe.a,{type:"password",name:"confirmPassword",onChange:s,onBlur:c,value:t.confirmPassword,render:function(e){var t=e.field;return Object(ie.jsxs)(Te.a,{controlId:"confirmPassword",className:"authFormGroup mb-4",children:[Object(ie.jsx)(be.a,{type:"password",value:t.value,onChange:t.onChange,placeholder:o("Confirm password")}),n.confirmPassword&&a.confirmPassword&&Object(ie.jsx)(be.a.Feedback,{type:"invalid",tooltip:!0,children:a.confirmPassword})]})}}),Object(ie.jsx)(ue.a,{type:"submit",variant:"warning",disabled:i||Boolean(a.login&&n.login)||Boolean(a.password&&n.password),children:o("Sign up")})]})},Le={login:"",password:"",confirmPassword:""},Re=Object(i.b)()((function(e){return Object(ie.jsx)(Fe.c,{initialValues:Le,validationSchema:Ie.a().shape({login:Ie.c().email("Email not valid").required("Email is required"),password:Ie.c().required("Password is required").min(6,"Password must contain at least 6 symbols"),confirmPassword:Ie.c().required("Confirm your password").oneOf([Ie.b("password")],"Password does not match")}),onSubmit:function(t){return e.dispatch(v({login:t.login.toLowerCase(),password:t.password}))},render:function(e){return Object(ie.jsx)(Ee,Object(ke.a)({},e))}})})),Be=function(e){var t=e.values,a=e.errors,n=e.touched,s=e.handleChange,c=e.handleBlur,r=e.handleSubmit,i=e.isSubmitting,o=Object(ce.a)().t;return Object(ie.jsxs)(Fe.b,{onSubmit:r,children:[Object(ie.jsx)(Fe.a,{name:"login",render:function(e){var t=e.field;return Object(ie.jsxs)(Te.a,{controlId:"login",className:"authFormGroup mb-4",children:[Object(ie.jsx)(be.a,{type:"text",value:t.value,onChange:t.onChange,placeholder:o("login"),isValid:!1}),n.login&&a.login&&Object(ie.jsx)(be.a.Feedback,{type:"invalid",tooltip:!0,children:a.login})]})}}),Object(ie.jsx)(Fe.a,{type:"password",name:"password",onChange:s,onBlur:c,value:t.password,render:function(e){var t=e.field;return Object(ie.jsxs)(Te.a,{controlId:"password",className:"authFormGroup mb-4",children:[Object(ie.jsx)(be.a,{type:"password",value:t.value,onChange:t.onChange,placeholder:o("password")}),n.password&&a.password&&Object(ie.jsx)(be.a.Feedback,{type:"invalid",tooltip:!0,children:a.password})]})}}),Object(ie.jsx)(ue.a,{type:"submit",variant:"warning",disabled:i||Boolean(a.login&&n.login)||Boolean(a.password&&n.password),children:o("Sign in")})]})},Ue={login:"",password:""},Ge=Object(i.b)()((function(e){return Object(ie.jsx)(Fe.c,{initialValues:Ue,validationSchema:Ie.a().shape({login:Ie.c().email("Email not valid").required("Email is required"),password:Ie.c().required("Password is required").min(6,"Password must contain at least 6 symbols")}),onSubmit:function(t){return e.dispatch(y({login:t.login.toLowerCase(),password:t.password}))},render:function(e){return Object(ie.jsx)(Be,Object(ke.a)({},e))}})})),Ve=(a(284),function(){var e=Object(n.useState)(!0),t=Object(de.a)(e,2),a=t[0],s=t[1],c=Object(ce.a)().t;return Object(ie.jsx)("section",{className:"signUp align-items-md-center d-flex",children:Object(ie.jsx)(te.a,{children:Object(ie.jsxs)(ae.a,{className:"h-100",children:[Object(ie.jsxs)(ne.a,{xs:"12",sm:"6",className:"text-center",children:[Object(ie.jsx)("img",{src:ee,alt:"logo"}),Object(ie.jsx)("h1",{className:"yellowText",children:"Billionstracker"}),Object(ie.jsx)("p",{children:c("Powerful app for controlling your budget")})]}),Object(ie.jsxs)(ne.a,{xs:"12",sm:"6",className:"authFormContainer mt-sm-3",children:[a?Object(ie.jsxs)(ie.Fragment,{children:[Object(ie.jsx)("h2",{children:c("Sign in")}),Object(ie.jsx)(Ge,{}),Object(ie.jsxs)("p",{onClick:function(){return s(!1)},className:"my-2 cursor-pointer",children:[c("New to billionstracker"),"? ",Object(ie.jsx)("span",{children:c("Sign up")})]})]}):Object(ie.jsxs)(ie.Fragment,{children:[Object(ie.jsx)("h2",{children:c("Sign up")}),Object(ie.jsx)(Re,{}),Object(ie.jsxs)("p",{onClick:function(){return s(!0)},className:"my-2 cursor-pointer",children:[c("Already on billionstracker"),"? ",Object(ie.jsx)("span",{children:c("Sign in")})]})]}),Object(ie.jsx)("div",{className:"d-flex justify-content-around languagesController pb-3",style:{width:"100px",margin:"0 auto"},children:Object(ie.jsx)(oe,{})})]})]})})})}),Pe=a(141),De=a(140),Ye=function(e){var t=e.statisticForRange,a=e.totalSpent,s=Object(n.useState)(null),c=Object(de.a)(s,2),r=c[0],i=c[1],o=J(K).lang,l=["#E38627","#C13C37","#6A2135","#E38627","#C13C37","#6A2135","#E38627","#C13C37","#6A2135","#E38627","#C13C37","#6A2135"],d=t.map((function(e,t){return{value:e.total,color:r===t?"grey":l[t],tooltip:"".concat("en"===o?e._id.nameEn:e._id.nameRu,", ").concat(he(e.total))}}));return Object(ie.jsx)(ie.Fragment,{children:a>0&&Object(ie.jsxs)(ie.Fragment,{children:[Object(ie.jsx)(Pe.PieChart,{data:d,style:{height:"300px",width:"300px"},segmentsShift:.5,label:function(e){var t=e.dataEntry;return"".concat(Math.round(t.percentage)?Math.round(t.percentage):">1","%")},totalValue:a,labelStyle:{fontSize:"5px",fill:"white"},onMouseOver:function(e,t){i(t)},onMouseOut:function(){i(null)},segmentsStyle:{transition:"stroke .3s",cursor:"pointer"}}),Object(ie.jsx)(De.a,{getContent:function(){var e;return"number"===typeof r?null===(e=d[r])||void 0===e?void 0:e.tooltip:null}})]})})},qe=function(e){var t=e.listItem;return Object(ie.jsx)(we.a,{className:"mb-3  w-75 mx-auto fw-bold text-center",bg:"light",text:"dark",children:Object(ie.jsx)(we.a.Body,{children:Object(ie.jsxs)(ae.a,{children:[Object(ie.jsx)(ne.a,{xs:"4",sm:"4",className:"mb-2 mb-sm-0",children:t.title}),Object(ie.jsx)(ne.a,{xs:"4",sm:"4",children:he(t.value)}),Object(ie.jsxs)(ne.a,{xs:"4",sm:"4",children:[t.percentage,"%"]})]})})})},We=function(e){var t=e.statisticForRange,a=e.totalSpent,n=J(K).lang,s=t.map((function(e,t){return{title:"en"===n?e._id.nameEn:e._id.nameRu,value:e.total,percentage:Math.round(100*e.total/a)||">1"}}));return Object(ie.jsx)("div",{children:s.sort((function(e,t){return t.value-e.value})).map((function(e){return Object(ie.jsx)(qe,{listItem:e},e.title)}))})},Me=a(142),Ze=a.n(Me),He=(a(300),function(){var e=Q(),t=J(_),a=t.wholeStatistic,s=t.statisticForRange,c=t.isWholeStatisticLoading,r=t.isStatisticForRangeLoading,i=Object(ce.a)().t,o=J(K),l=o.user,d=o.lang,u=Object(n.useState)([new Date(l.created),new Date]),j=Object(de.a)(u,2),b=j[0],h=j[1],m=Object(n.useState)(!0),p=Object(de.a)(m,2),x=p[0],g=p[1];return Object(n.useEffect)((function(){e(W()),e(M({from:b[0],to:b[1]}))}),[]),Object(n.useEffect)((function(){e(M({from:b[0],to:b[1]}))}),[b]),c&&r?Object(ie.jsx)(Ae,{}):Object(ie.jsx)(te.a,{className:"py-4",children:a&&s?Object(ie.jsxs)(ae.a,{children:[Object(ie.jsxs)(ne.a,{xs:"12",md:"6",children:[Object(ie.jsxs)("p",{className:"fs-5 mb-0 fw-bold text-center",children:[i("Select range"),":"]}),Object(ie.jsx)("div",{className:"d-flex justify-content-center",children:Object(ie.jsx)(Ze.a,{onChange:h,maxDetail:"year",value:b,locale:"en",calendarIcon:null,clearIcon:null,format:"MM.y",minDetail:"year",minDate:new Date(2021,3,1),maxDate:new Date})}),Object(ie.jsxs)("div",{className:"rangeHolder mt-3 text-center","data-tip":"chart",children:[s.totalSpent>0&&Object(ie.jsxs)("div",{className:"rangeHolderControls mb-3",children:[Object(ie.jsx)(ue.a,{size:"sm",className:"mx-2 ".concat(x?"text-white":""),variant:x?"warning":"outline-warning",onClick:function(){return g(!0)},children:i("Pie chart")}),Object(ie.jsx)(ue.a,{size:"sm",className:x?"":"text-white",variant:x?"outline-warning":"warning",onClick:function(){return g(!1)},children:i("List")})]}),r?Object(ie.jsx)(Ae,{}):Object(ie.jsxs)(ie.Fragment,{children:[Object(ie.jsxs)("p",{className:"fw-bold",children:[i("Spent during this period"),":",Object(ie.jsxs)("span",{className:"fst-italic yellowText",children:[" ",s.totalSpent]})]}),x?Object(ie.jsx)(Ye,{totalSpent:s.totalSpent,statisticForRange:s.transactionsInRange}):Object(ie.jsx)(We,{totalSpent:s.totalSpent,statisticForRange:s.transactionsInRange})]})]})]}),Object(ie.jsxs)(ne.a,{xs:"12",md:"6",children:[Object(ie.jsxs)("p",{className:"fs-5 mb-0 fw-bold",children:[i("General statistic"),":"]}),Object(ie.jsxs)("div",{className:"spent",children:[Object(ie.jsxs)("p",{className:"mb-0",children:[i("Spent for the whole time"),":",Object(ie.jsx)("span",{className:"fst-italic yellowText",children:a.userExpenses})]}),Object(ie.jsxs)("p",{className:"mb-0",children:[i("Spent this month"),":",Object(ie.jsxs)("span",{className:"fst-italic yellowText",children:[" ",a.userExpensesThisMonth]})]})]}),Object(ie.jsxs)("div",{className:"earned mt-2",children:[Object(ie.jsxs)("p",{className:"mb-0",children:[i("Earned for the whole time"),":",Object(ie.jsx)("span",{className:"fst-italic yellowText",children:a.userIncomes})]}),Object(ie.jsxs)("p",{className:"mb-1",children:[i("Earned this month"),":",Object(ie.jsx)("span",{className:"fst-italic yellowText",children:a.userIncomesThisMonth})]}),Object(ie.jsxs)("p",{className:"fs-6 mb-0 fw-bold",children:[i("On")," ",Object(ie.jsx)("span",{className:"yellowText",children:"Billionstracker"})," ",i("Since")," ",Object(ie.jsx)("span",{className:"fst-italic yellowText",children:ge()(l.created).locale(d).format("LL")})]})]})]})]}):Object(ie.jsx)("div",{className:"d-flex justify-content-center align-items-center h-100 fw-bold my-3 my-md-0 ",children:Object(ie.jsx)("p",{children:i("Some of your statistic will be here")})})})}),Qe=function(){var e=Q(),t=Object($.g)(),a=Object(ce.a)().t,s=J(K).user,c=Object(n.useState)(""),r=Object(de.a)(c,2),i=r[0],o=r[1],l=Object(n.useState)(""),d=Object(de.a)(l,2),u=d[0],j=d[1],b=function(e){return function(t){(h.test(t.target.value)||""===t.target.value)&&e(t.target.value)}},h=/^[0-9]+$/;Object(n.useEffect)((function(){s.isFirstEnter&&e(N())}),[]);return Object(ie.jsxs)(ie.Fragment,{children:[Object(ie.jsx)("style",{children:"\n  header .menu ul{\n    display: none;\n  }"}),Object(ie.jsxs)(te.a,{className:"py-4",children:[Object(ie.jsx)("p",{className:"fs-4 fw-bold text-center py-2",children:a("Here you can set initial values for your balance")}),Object(ie.jsxs)(ae.a,{className:"text-center",children:[Object(ie.jsxs)(ne.a,{xs:"12",lg:"6",className:"mb-3 mb-lg-0",children:[Object(ie.jsxs)("p",{className:"fs-5 fw-bold",children:[a("Set your card balance"),":"]}),Object(ie.jsx)(be.a,{type:"text",placeholder:a("Sum on card"),value:i,onChange:b(o)})]}),Object(ie.jsxs)(ne.a,{xs:"12",lg:"6",children:[Object(ie.jsxs)("p",{className:"fs-5 fw-bold",children:[a("Set your cash balance"),":"]}),Object(ie.jsx)(be.a,{type:"text",placeholder:a("Sum in cash"),value:u,onChange:b(j)})]}),Object(ie.jsxs)(ne.a,{xs:"12",className:"mt-3 text-center",children:[Object(ie.jsxs)("p",{className:"fs-5 mb-1 mt-4",children:[a("Set initial values"),":"]}),Object(ie.jsx)(ue.a,{variant:"warning",className:"w300Px text-white",onClick:function(){if(""===i||""===u)return Object(w.c)(a("All fields are required"),{position:"top-right",autoClose:2500,hideProgressBar:!0,closeOnClick:!0,theme:"dark",type:"error"});e(k({card:Number(i),cash:Number(u)})),t.push("/")},children:a("Initialize")}),Object(ie.jsx)("p",{className:"mt-2 yellowText text-decoration-underline cursor-pointer",onClick:function(){return t.push("/")},children:a("Skip")})]})]})]})]})},Je=function(e){var t=e.isAuth,a=J(K).isRefreshLoading;return null===t||a?Object(ie.jsx)(Ae,{fullHeight:!0}):Object(ie.jsx)(ie.Fragment,{children:t?Object(ie.jsxs)($.d,{children:[Object(ie.jsx)($.b,{path:"/statistic",component:He}),Object(ie.jsx)($.b,{path:"/createTransaction",component:me}),Object(ie.jsx)($.b,{path:"/home",component:Ne}),Object(ie.jsx)($.b,{path:"/initialization",component:Qe}),Object(ie.jsx)($.a,{to:"/home"})]}):Object(ie.jsxs)($.d,{children:[Object(ie.jsx)($.b,{path:"/authorization",component:Ve}),Object(ie.jsx)($.a,{to:"/authorization"})]})})},Ke=(a(301),a(302),function(){var e=Object($.g)(),t=Q(),a=J(K),s=a.isAuth,c=a.user;return Object(n.useEffect)((function(){var e=localStorage.getItem("token");t(e?A():L(!1))}),[]),Object(n.useEffect)((function(){s&&c.isFirstEnter&&e.push("/initialization")}),[s,c]),p.interceptors.request.use((function(e){return localStorage.getItem("token")&&(e.headers.Authorization="Bearer ".concat(localStorage.getItem("token"))),e})),p.interceptors.response.use((function(e){return e}),function(){var e=Object(j.a)(u.a.mark((function e(a){var n,s;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=a.config,401!==a.response.status||!a.config||a.config._isRetry){e.next=15;break}return n._isRetry=!0,e.prev=3,e.next=6,h.a.get("".concat(m,"/api/user/refresh"),{withCredentials:!0});case 6:return s=e.sent,localStorage.setItem("token",s.data.accessToken),e.abrupt("return",p.request(n));case 11:e.prev=11,e.t0=e.catch(3),Object(w.c)("en"===localStorage.getItem("i18nextLng")?"Your session has expired":"\u0412\u0440\u0435\u043c\u044f \u0441\u0435\u0441\u0441\u0438\u0438 \u0438\u0441\u0442\u0435\u043a\u043b\u043e",{position:"top-right",autoClose:2500,hideProgressBar:!0,closeOnClick:!0,theme:"dark",type:"warning"}),t(S());case 15:throw a;case 16:case"end":return e.stop()}}),e,null,[[3,11]])})));return function(t){return e.apply(this,arguments)}}()),Object(ie.jsxs)(ie.Fragment,{children:[s&&!1===(null===c||void 0===c?void 0:c.isFirstEnter)&&Object(ie.jsx)(le,{}),Object(ie.jsx)(Je,{isAuth:s}),Object(ie.jsx)(w.b,{transition:w.a})]})}),Xe=a(143),ze=a(145),_e=a(59),$e={order:["navigator","htmlTag","path","subdomain"],lookupQuerystring:"lng",lookupCookie:"i18next",lookupLocalStorage:"i18nextLng",lookupFromPathIndex:0,lookupFromSubdomainIndex:0,caches:["localStorage","cookie"],excludeCacheFor:["cimode"],cookieMinutes:10,cookieDomain:"myDomain",htmlTag:document.documentElement,checkWhitelist:!0};re.a.use(Xe.a).use(ze.a).use(_e.e).init({backend:{loadPath:"/billionstraker-fe/locales/{{lng}}/{{ns}}.json"},lng:localStorage.getItem("i18nextLng")||"en",fallbackLng:["en"],whitelist:["en","ru"],detection:$e,interpolation:{escapeValue:!1}});re.a;r.a.render(Object(ie.jsx)(i.a,{store:H,children:Object(ie.jsx)(s.a.StrictMode,{children:Object(ie.jsx)(o.a,{children:Object(ie.jsx)(n.Suspense,{fallback:function(){return Object(ie.jsx)(Ae,{fullHeight:!0})},children:Object(ie.jsx)(Ke,{})})})})}),document.getElementById("root"))}},[[303,1,2]]]);
//# sourceMappingURL=main.ac955154.chunk.js.map