{"version":3,"sources":["api/axiosInstance.ts","api/index.ts","store/reducers/user.reducer.ts","store/reducers/category.reducer.ts","store/reducers/transaction.reducer.ts","store/reducers/statistic.reducer.ts","store/index.ts","hooks/react-redux.hook.ts","store/selectors.ts","images/logo.png","components/header/LanguageSwitcher.tsx","images/en.png","images/ru.png","components/header/AppHeader.tsx","helpers/index.js.ts","pages/createTransaction/CreateTransaction.tsx","components/profile/Balance.tsx","components/profile/GeneralStatistic.tsx","components/profile/UserInfo.tsx","helpers/time.ts","components/profile/Transaction.tsx","components/profile/Transactions.tsx","pages/profile/Profile.tsx","components/auth/Signnup.tsx","components/auth/Login.tsx","pages/auth/Auth.tsx","components/statistic/Diagram.tsx","components/statistic/ListItem.tsx","components/statistic/List.tsx","pages/statistic/Statistic.tsx","components/router/AppRouter.tsx","App.tsx","i18n.ts","index.tsx"],"names":["axiosInstance","axios","create","withCredentials","baseURL","headers","interceptors","request","use","config","localStorage","getItem","Authorization","response","a","error","originalRequest","status","_isRetry","get","setItem","data","accessToken","console","log","addTransaction","body","api","post","getAllUserTransactions","getStatisticForRange","signUp","createAsyncThunk","signUpData","thunkApi","res","isAxiosError","rejectWithValue","logIn","loginData","logOut","checkAuth","initialState","user","isAuth","loading","lang","userReducer","createSlice","name","reducers","changeLang","state","action","payload","extraReducers","builder","addCase","fulfilled","toast","message","position","autoClose","hideProgressBar","closeOnClick","theme","type","rejected","pending","removeItem","updatedUser","actions","getCategories","categoryReducer","categories","transactionReducer","numberOfTransactions","transactions","resetTransactions","getGeneralStatistic","getWholeStatistic","statisticReducer","generalStatistic","wholeStatistic","statisticForRange","statistic","store","configureStore","reducer","userData","categoryDate","transactionData","statisticData","useAppDispatch","useDispatch","useAppSelector","useSelector","categoryData","LanguageSwitcher","dispatch","handleLangChange","i18next","changeLanguage","onClick","className","src","alt","AppHeader","history","useHistory","t","useTranslation","customToggle","React","forwardRef","ref","Container","Row","Col","md","xs","to","logo","Dropdown","Toggle","as","id","Menu","variant","Item","push","href","target","formattingNumber","number","String","replace","CreateTransaction","useState","useCard","setUseCard","isExpense","setIsExpense","categoryId","setCategoryId","sum","setSum","title","setTitle","validateSumReg","useEffect","lg","Button","card","cash","sm","Form","Check","checked","label","onChange","Select","e","value","filter","category","map","el","_id","nameEn","nameRu","FormControl","placeholder","event","test","newTransaction","ownerId","isCard","Number","date","Date","transaction","Balance","total","GeneralStatistic","userExpensesThisMonth","userExpenses","moment","created","locale","format","UserInfo","formatTransactionDate","formatedDate","isSame","fromNow","Transaction","Card","bg","text","Body","Transactions","numberToSkip","setNumberToSkip","getAllTransactions","limit","disabled","Profile","SignUpFormMarkup","values","errors","touched","handleChange","handleBlur","handleSubmit","isSubmitting","onSubmit","render","field","FormGroup","controlId","isValid","login","Feedback","tooltip","onBlur","password","confirmPassword","Boolean","init","connect","props","initialValues","validationSchema","Yup","shape","email","required","min","oneOf","LogInFormMarkup","Auth","showSignIn","setShowSignIn","Login","style","width","margin","Diagram","totalSpent","hovered","setHovered","colors","dataForRange","index","color","height","segmentsShift","dataEntry","Math","round","percentage","totalValue","labelStyle","fontSize","fill","onMouseOver","onMouseOut","segmentsStyle","transition","cursor","getContent","ListItem","listItem","List","sort","b","Statistic","monthsRange","setMonthsRange","useDiagram","setUseDiagram","from","maxDetail","calendarIcon","clearIcon","minDetail","minDate","maxDate","size","transactionsInRange","userIncomes","userIncomesThisMonth","AppRouter","path","component","App","Slide","options","order","lookupQuerystring","lookupCookie","lookupLocalStorage","lookupFromPathIndex","lookupFromSubdomainIndex","caches","excludeCacheFor","cookieMinutes","cookieDomain","htmlTag","document","documentElement","checkWhitelist","i18n","Backend","LanguageDetector","initReactI18next","backend","loadPath","lng","fallbackLng","whitelist","detection","interpolation","escapeValue","ReactDOM","StrictMode","fallback","getElementById"],"mappings":"iXAGMA,EAAgBC,IAAMC,OAAO,CACjCC,iBAAiB,EACjBC,QAAS,6CACTC,QAAS,CACP,eAAgB,sBAKpBL,EAAcM,aAAaC,QAAQC,KAAI,SAACC,GAItC,OAHGC,aAAaC,QAAQ,WACxBF,EAAOJ,QAAQO,cAAf,iBAAyCF,aAAaC,QAAQ,WAEvDF,KAGTT,EAAcM,aAAaO,SAASL,KAAI,SAACC,GACvC,OAAOA,IADT,+BAAAK,EAAA,MAEE,WAAOC,GAAP,iBAAAD,EAAA,yDACME,EAAkBD,EAAMN,OACA,MAA1BM,EAAMF,SAASI,SAAkBF,EAAMN,QAAWM,EAAMN,OAAOS,SAFnE,wBAGEF,EAAgBE,UAAW,EAH7B,kBAK2BjB,IAAMkB,IAAuB,oCAAqC,CAAChB,iBAAiB,IAL/G,cAKUU,EALV,OAMIH,aAAaU,QAAQ,QAASP,EAASQ,KAAKC,aANhD,kBAOWtB,EAAcO,QAAQS,IAPjC,kCASIO,QAAQC,IAAI,mFAThB,cAYMT,EAZN,0DAFF,uDAiBef,QCdFyB,EAAiB,SAACC,GAAD,OAAgGC,EAAIC,KAAK,iCAAkCF,IAC5JG,EAAyB,SAACH,GAAD,OAAsGC,EAAIC,KAAK,sCAAuCF,IAK/KI,EAAuB,SAACJ,GAAD,OAA8FC,EAAIC,KAAK,kCAAmCF,I,QCnBjKK,EAASC,YAKpB,cALoC,uCAQpC,WAAOC,EAAYC,GAAnB,iBAAApB,EAAA,+EDDqBY,ECGYO,EDHmDN,EAAIC,KAAK,eAAgBF,GCC7G,cAEUS,EAFV,yBAGWA,EAAId,MAHf,oCAKQpB,IAAMmC,aAAN,MALR,0CAMaF,EAASG,gBAAT,UAAyB,KAAExB,gBAA3B,aAAyB,EAAYQ,OANlD,kCDDoB,IAACK,ICCrB,oBARoC,yDAoBzBY,EAAQN,YAKnB,aALmC,uCAQnC,WAAOO,EAAqBL,GAA5B,iBAAApB,EAAA,+EDpBoBY,ECsBYa,EDtBkDZ,EAAIC,KAAK,cAAeF,GCoB1G,cAEUS,EAFV,yBAGWA,EAAId,MAHf,oCAKQpB,IAAMmC,aAAN,MALR,0CAMaF,EAASG,gBAAT,UAAyB,KAAExB,gBAA3B,aAAyB,EAAYQ,OANlD,kCDpBmB,IAACK,ICoBpB,oBARmC,yDAoBxBc,EAASR,YACpB,cADoC,sBAEpC,sBAAAlB,EAAA,sEDjCwDa,EAAIC,KAAK,gBCiCjE,oFAGWa,EAAYT,YACvB,eADuC,sBAEvC,sBAAAlB,EAAA,sEDrCsEa,EAAIR,IAAI,iBCqC9E,oFAIWM,EAAiBO,YAC5B,6BAD4C,uCAE5C,WAAON,GAAP,SAAAZ,EAAA,sEAAwGa,EAAmBD,GAA3H,mFAF4C,uDAYxCgB,EAA0B,CAC9BC,KAAM,GACNC,QAAQ,EACRC,SAAS,EACTC,KAAMpC,aAAaC,QAAQ,eAAiB,MAGxCoC,EAAcC,YAAY,CAC9BC,KAAM,OACNP,eACAQ,SAAU,CACRC,WAAY,SAACC,EAAkBC,GAC7BD,EAAMN,KAAOO,EAAOC,UAGxBC,cAAgB,SAAAC,GACdA,EAAQC,QAAQ1B,EAAO2B,WAAW,SAACN,EAAOC,GACxCM,YAAMN,EAAOC,QAAQM,QAAS,CAC5BC,SAAU,YACVC,UAAW,KACXC,iBAAiB,EACjBC,cAAc,EACdC,MAAO,OACPC,KAAM,eAIVV,EAAQC,QAAQ1B,EAAOoC,UAAU,SAACf,EAAOC,GAAY,IAAD,EAClDM,YAAK,UAACN,EAAOC,eAAR,aAAC,EAAgBM,QAAS,CAC7BC,SAAU,YACVC,UAAW,KACXC,iBAAiB,EACjBC,cAAc,EACdC,MAAO,OACPC,KAAM,aAIVV,EAAQC,QAAQnB,EAAM8B,SAAS,SAAChB,GAC9BA,EAAMP,SAAU,KAGlBW,EAAQC,QAAQnB,EAAMoB,WAAW,SAACN,EAAOC,GACvCD,EAAMP,SAAU,EAEhBnC,aAAaU,QAAQ,QAASiC,EAAOC,QAAQhC,aAC7C8B,EAAMT,KAAOU,EAAOC,QAAQX,KAC5BS,EAAMR,QAAS,KAGjBY,EAAQC,QAAQnB,EAAM6B,UAAU,SAACf,EAAOC,GAAY,IAAD,EACjDD,EAAMP,SAAU,EAChBc,YAAK,UAACN,EAAOC,eAAR,aAAC,EAAgBM,QAAS,CAC7BC,SAAU,YACVC,UAAW,KACXC,iBAAiB,EACjBC,cAAc,EACdC,MAAO,OACPC,KAAM,aAIVV,EAAQC,QAAQjB,EAAOkB,WAAW,SAACN,GACjC1C,aAAa2D,WAAW,SACxBjB,EAAMT,KAAO,GACbS,EAAMR,QAAS,KAGjBY,EAAQC,QAAQhB,EAAU2B,SAAS,SAAChB,GAClCA,EAAMP,SAAU,KAGlBW,EAAQC,QAAQhB,EAAU0B,UAAU,SAACf,GACnCA,EAAMP,SAAU,KAIlBW,EAAQC,QAAQhB,EAAUiB,WAAW,SAACN,EAAOC,GAC3CD,EAAMP,SAAU,EAEhBnC,aAAaU,QAAQ,QAASiC,EAAOC,QAAQjC,KAAKC,aAClD8B,EAAMT,KAAOU,EAAOC,QAAQjC,KAAKsB,KACjCS,EAAMR,QAAS,KAGjBY,EAAQC,QAAQhC,EAAeiC,WAAW,SAACN,EAAOC,GAAW,IAAD,EAC1DD,EAAMT,KAAOU,EAAOC,QAAQjC,KAAKiD,YAEjCX,YAAK,UAACN,EAAOC,eAAR,aAAC,EAAgBjC,KAAKuC,QAAS,CAClCC,SAAU,YACVC,UAAW,KACXC,iBAAiB,EACjBC,cAAc,EACdC,MAAO,OACPC,KAAM,kBAOCf,EAAeJ,EAAYwB,QAA3BpB,WAEAJ,IAAf,QCzKayB,EAAgBxC,YAC3B,yBAD2C,sBAE3C,sBAAAlB,EAAA,sEFuB+Ea,EAAIR,IAAI,2BEvBvF,oFAuBasD,EAZSzB,YAAY,CAClCC,KAAM,WACNP,aANkC,CAClCgC,WAAY,IAMZxB,SAAU,GACVK,cAAgB,SAAAC,GACdA,EAAQC,QAAQe,EAAcd,WAAW,SAACN,EAAOC,GAC/CD,EAAMsB,WAAarB,EAAOC,QAAQjC,KAAKqD,iBAM7C,Q,QC1Ba7C,EAAyBG,YACpC,qCADoD,uCAEpD,WAAON,GAAP,SAAAZ,EAAA,sEAAoHa,EAA2BD,GAA/I,mFAFoD,uDAiBhDiD,EAAqB3B,YAAY,CACrCC,KAAM,cACNP,aARqC,CACrCG,SAAS,EACT+B,qBAAsB,EACtBC,aAAc,IAMd3B,SAAU,CACR4B,kBAAmB,SAAC1B,GAClBA,EAAMyB,aAAe,KAGzBtB,cAAgB,SAAAC,GACdA,EAAQC,QAAQ5B,EAAuBuC,SAAS,SAAChB,GAC/CA,EAAMP,SAAU,KAGlBW,EAAQC,QAAQ5B,EAAuB6B,WAAW,SAACN,EAAOC,GACxDD,EAAMP,SAAU,EAChBO,EAAMyB,aAAN,sBAAyBzB,EAAMyB,cAA/B,YAAgDxB,EAAOC,QAAQjC,KAAKwD,eACpEzB,EAAMwB,qBAAuBvB,EAAOC,QAAQjC,KAAKuD,sBAAwB,QAKhEE,EAAsBH,EAAmBJ,QAAzCO,kBAEAH,IAAf,QCjCaI,EAAsB/C,YACjC,gCADiD,sBAEjD,sBAAAlB,EAAA,sEJYgGa,EAAIR,IAAI,kCIZxG,oFAGW6D,EAAoBhD,YAC/B,8BAD+C,sBAE/C,sBAAAlB,EAAA,sEJQ4Fa,EAAIR,IAAI,gCIRpG,oFAGWW,EAAuBE,YAClC,iCADkD,uCAElD,WAAON,GAAP,SAAAZ,EAAA,sEAA0Ga,EAAyBD,GAAnI,mFAFkD,uDAuCrCuD,EApBUjC,YAAY,CACnCC,KAAM,YACNP,aATmC,CACnCG,SAAS,EACTqC,iBAAkB,KAClBC,eAAgB,KAChBC,kBAAmB,MAMnBlC,SAAU,GACVK,cAAgB,SAAAC,GACdA,EAAQC,QAAQsB,EAAoBrB,WAAW,SAACN,EAAOC,GACrDD,EAAM8B,iBAAmB7B,EAAOC,QAAQjC,KAAKgE,aAG/C7B,EAAQC,QAAQuB,EAAkBtB,WAAW,SAACN,EAAOC,GACnDD,EAAM+B,eAAiB9B,EAAOC,QAAQjC,KAAKgE,aAG7C7B,EAAQC,QAAQ3B,EAAqB4B,WAAW,SAACN,EAAOC,GACtDD,EAAMgC,kBAAoB/B,EAAOC,QAAQjC,KAAKgE,gBAMpD,QC1CeC,EAZDC,YAAe,CAC3BC,QAAS,CACPC,SAAU1C,EACV2C,aAAcjB,EACdkB,gBAAiBhB,EACjBiB,cAAeX,KCTNY,EAAiB,kBAAMC,eACvBC,EAAkDC,ICFlDP,EAAW,SAACrC,GAAD,OAAqBA,EAAMqC,UACtCQ,EAAe,SAAC7C,GAAD,OAAqBA,EAAMsC,cAC1CC,EAAkB,SAACvC,GAAD,OAAqBA,EAAMuC,iBAC7CC,EAAgB,SAACxC,GAAD,OAAqBA,EAAMwC,e,+BCLzC,G,OAAA,IAA0B,kC,+DCmC1BM,GA3BU,WACvB,IAAMC,EAAWN,IACT/C,EAASiD,EAAeN,GAAxB3C,KAEFsD,EAAmB,SAACtD,GAAD,OAAkB,WACzCqD,EAAShD,EAAWL,IACpBuD,KAAQC,eAAexD,KAGzB,OACE,uCACE,uBACEyD,QAASH,EAAiB,MAC1BI,UAAoB,OAAT1D,EAAgB,aAAe,GAF5C,SAIc,sBAAK2D,ICvBV,y8BDuBuBC,IAAI,SAEpC,uBACEH,QAASH,EAAiB,MAC1BI,UAAoB,OAAT1D,EAAgB,aAAe,GAF5C,SAIc,sBAAK2D,IE7BV,iZF6BuBC,IAAI,aG4C3BC,GA/DG,WAChB,IAAMR,EAAWN,IACXe,EAAUC,cACTC,EAAKC,eAALD,EAQDE,EAAeC,IAAMC,YAA4B,WAAmBC,GAAnB,IAAGZ,EAAH,EAAGA,QAAH,OACrD,sBAAKC,UAAU,eAAf,SACE,sBACEA,UAAU,uBACVW,IAAKA,EACLZ,QAASA,EAHX,SAKE,iCAKN,OACE,kCACE,eAACa,EAAA,EAAD,UACE,gBAACC,EAAA,EAAD,WACE,eAACC,EAAA,EAAD,CAAKC,GAAG,IAAIC,GAAG,IAAIhB,UAAU,OAA7B,SACE,gBAAC,IAAD,CAAMiB,GAAG,IAAT,UACE,sBAAKhB,IAAKiB,EAAMhB,IAAI,aADtB,uBAKF,eAACY,EAAA,EAAD,CAAKC,GAAG,IAAIC,GAAG,KAAKhB,UAAU,0BAA9B,SACE,sBAAIA,UAAU,UAAd,UACE,8BAAI,eAAC,IAAD,CAASiB,GAAG,QAAZ,SAAqBX,EAAE,eAC3B,8BAAI,eAAC,IAAD,CAASW,GAAG,qBAAZ,SAAkCX,EAAE,uBACxC,8BAAI,eAAC,IAAD,CAASW,GAAG,aAAZ,SAA0BX,EAAE,sBAGpC,eAACQ,EAAA,EAAD,CAAKC,GAAG,IAAIC,GAAG,IAAf,SACE,gBAACG,EAAA,EAAD,WACE,eAACA,EAAA,EAASC,OAAV,CAAiBC,GAAIb,EAAcc,GAAG,+BACtC,gBAACH,EAAA,EAASI,KAAV,CAAeC,QAAQ,OAAvB,UACE,eAACL,EAAA,EAASM,KAAV,CACEJ,GAAG,OACHrB,UAAU,oDAFZ,SAIA,eAAC,GAAD,MAEA,eAACmB,EAAA,EAASM,KAAV,CAAeJ,GAAG,OAAOtB,QAAS,kBAAMK,EAAQsB,KAAK,UAArD,SAAgEpB,EAAE,UAClE,gBAACa,EAAA,EAASM,KAAV,CAAeE,KAAK,sBAAsBC,OAAO,SAAjD,UAA2DtB,EAAE,WAA7D,OACA,eAACa,EAAA,EAASM,KAAV,CAAeJ,GAAG,OAAOtB,QA/ClB,WACnBJ,EAAS3D,KACToE,EAAQsB,KAAK,mBA6CD,SAAiDpB,EAAE,6B,uCC9DtDuB,GAAmB,SAACC,GAAD,OAC9BC,OAAOD,GAAQE,QAAQ,wBAAyB,MCuMnCC,I,OA5LW,WACxB,MAAuB1C,EAAeN,GAA9B9C,EAAR,EAAQA,KAAMG,EAAd,EAAcA,KACN4B,EAAeqB,EAAeE,GAA9BvB,WACR,EAA8BgE,oBAAkB,GAAhD,oBAAOC,EAAP,KAAgBC,EAAhB,KACA,EAAkCF,oBAAkB,GAApD,oBAAOG,EAAP,KAAkBC,EAAlB,KACA,EAAoCJ,mBAAiB,IAArD,oBAAOK,EAAP,KAAmBC,EAAnB,KACA,EAAsBN,mBAA0B,IAAhD,oBAAOO,EAAP,KAAYC,EAAZ,KACA,EAA0BR,mBAAiB,IAA3C,oBAAOS,EAAP,KAAcC,EAAd,KACQtC,EAAMC,eAAND,EACFX,EAAWN,IAEXwD,EAAiB,WAqDvB,OAJAC,qBAAU,WACRnD,EAAS3B,OACR,IAGD,qCACE,gBAAC4C,EAAA,EAAD,CAAWZ,UAAU,eAArB,UACE,gBAACa,EAAA,EAAD,WACE,qBAAGb,UAAU,gCAAb,UAA8CM,EAAE,yBAAhD,OACA,gBAACQ,EAAA,EAAD,CAAKE,GAAG,KAAK+B,GAAG,IAAI/C,UAAU,iBAA9B,UACE,sBAAKA,UAAU,mBAAf,SACE,eAACgD,GAAA,EAAD,CACExB,QAASa,EAAY,SAAW,iBAChCrC,UAAU,OACVD,QAAS,WACPuC,GAAa,GACbE,EAAc,KALlB,SAQGlC,EAAE,eAGP,sBAAKN,UAAU,mBAAf,SACE,eAACgD,GAAA,EAAD,CACExB,QAAUa,EAAwB,kBAAZ,UACtBrC,UAAU,OACVD,QAAS,WACPuC,GAAa,GACbE,EAAc,KALlB,SAQGlC,EAAE,oBAMX,eAACO,EAAA,EAAD,UACE,gBAACC,EAAA,EAAD,CAAKE,GAAG,KAAK+B,GAAG,IAAI/C,UAAU,yBAA9B,UACE,qBAAGA,UAAU,4CAAb,UAA0DM,EAAE,gBAA5D,IACE,wBAAMN,UAAU,aAAhB,cAA+B6B,GAAiB1F,EAAK8G,YAEvD,qBAAGjD,UAAU,uCAAb,UAAqDM,EAAE,gBAAvD,IACE,wBAAMN,UAAU,aAAhB,cAA+B6B,GAAiB1F,EAAK+G,iBAI3D,eAACrC,EAAA,EAAD,UACE,gBAACC,EAAA,EAAD,CAAKE,GAAG,KAAK+B,GAAG,IAAI/C,UAAU,UAA9B,UACE,gBAACa,EAAA,EAAD,WACE,gBAACC,EAAA,EAAD,CAAKE,GAAG,KAAKmC,GAAG,IAAInD,UAAU,mBAA9B,UACE,qBAAGA,UAAU,8BAAb,UAA4CM,EAAE,uBAA9C,OACA,eAAC8C,GAAA,EAAKC,MAAN,CACEC,QAASnB,EACTzE,KAAK,QACLjB,KAAK,aACL6E,GAAG,iBACHtB,UAAU,oEACVuD,MAAM,GACNC,SAAU,kBAAMpB,GAAW,MAE7B,eAACgB,GAAA,EAAKC,MAAN,CACEC,SAAUnB,EACVzE,KAAK,QACLjB,KAAK,aACL6E,GAAG,iBACHiC,MAAM,GACNvD,UAAU,oEACVwD,SAAU,kBAAMpB,GAAW,SAG/B,gBAACtB,EAAA,EAAD,CAAKE,GAAG,KAAKmC,GAAG,IAAhB,UACE,qBAAGnD,UAAU,8BAAb,UAA4CM,EAAE,mBAA9C,OACA,gBAAC8C,GAAA,EAAKK,OAAN,CAAaD,SAAU,SAACE,GAAD,OAA6ClB,EAAckB,EAAE9B,OAAO+B,QAA3F,UACE,yBAAQ3D,UAAU,SAAS2D,MAAM,GAAjC,SAAqCrD,EAAE,qBACtCpC,GACDA,EACG0F,QAAO,SAACC,GAAD,OAAcA,EAASxB,YAAcA,KAC5CyB,KAAI,SAACC,GAAD,OACH,yBAEEJ,MAAOI,EAAGC,IAFZ,SAIY,OAAT1H,EAAgByH,EAAGE,OAASF,EAAGG,QAH3BH,EAAGC,iBASpB,gBAACnD,EAAA,EAAD,CAAKb,UAAU,OAAf,UACE,gBAACc,EAAA,EAAD,CAAKE,GAAG,IAAIhB,UAAU,mBAAtB,UACE,qBAAGA,UAAU,YAAb,UAA0BM,EAAE,wBAA5B,OACA,eAAC6D,GAAA,EAAD,CACEzG,KAAK,OACL0G,YAAa9D,EAAE,qBACfqD,MAAOhB,EACPa,SAzIU,SAACa,GACzBzB,EAASyB,EAAMzC,OAAO+B,aA2IZ,gBAAC7C,EAAA,EAAD,CAAKE,GAAG,IAAIhB,UAAU,mBAAtB,UACE,qBAAGA,UAAU,aAAb,UAA2BM,EAAE,gCAA7B,OACA,eAAC6D,GAAA,EAAD,CACEzG,KAAK,OACL0G,YAAa9D,EAAE,mBACfqD,MAAOlB,EACPe,SAxJQ,SAACa,IACnBxB,EAAeyB,KAAKD,EAAMzC,OAAO+B,QAAiC,KAAvBU,EAAMzC,OAAO+B,QAC1DjB,EAAO2B,EAAMzC,OAAO+B,gBA0Jd,eAAC9C,EAAA,EAAD,UACE,gBAACC,EAAA,EAAD,CAAKE,GAAG,KAAKhB,UAAU,mBAAvB,UACE,qBAAGA,UAAU,YAAb,UAA0BM,EAAE,sBAA5B,OACA,eAAC0C,GAAA,EAAD,CACExB,QAAQ,UACRxB,UAAU,oBACVD,QAxJK,WACnB,IAAK0C,IAAQF,IAAeI,EAC3B,OAAOxF,YAAMmD,EAAE,2BAA4B,CACxCjD,SAAU,YACVC,UAAW,KACXC,iBAAiB,EACjBC,cAAc,EACdC,MAAO,OACPC,KAAM,UAIV,GAAG2E,IACIF,GAAWhG,EAAK8G,KAAOR,IAAUN,GAAWhG,EAAK+G,KAAOT,GAC3D,OAAOtF,YAAMmD,EAAE,4BAA8B,CAC3CjD,SAAU,YACVC,UAAW,KACXC,iBAAiB,EACjBC,cAAc,EACdC,MAAO,OACPC,KAAM,UAIR,IAAM6G,EAAkC,CACtC5B,MAAOA,EACP6B,QAASrI,EAAK6H,IACdS,OAAQtC,EACRE,UAAWA,EACXI,IAAKiC,OAAOjC,GACZoB,SAAUtB,EACVoC,KAAM,IAAIC,MAGZjF,EAAS1E,EAAe,CAAE4J,YAAaN,MAmH/B,SAKGjE,EAAE,6BChKNwE,GAtBI,WACjB,IAAQ3I,EAASqD,YAAYP,GAArB9C,KACDmE,EAAKC,eAALD,EAEDyE,EAAQ5I,EAAK8G,KAAO9G,EAAK+G,KAE/B,OACE,gBAACpC,EAAA,EAAD,CAAKC,GAAG,IAAIC,GAAG,KAAKhB,UAAU,UAA9B,UACE,qBAAGA,UAAU,2CAAb,UACG+E,EAAQzE,EAAE,iBAAmB,GAC9B,wBAAMN,UAAU,aAAhB,cAA+B+E,EAAQlD,GAAiBkD,GAASzE,EAAE,+BAErE,qBAAGN,UAAU,OAAb,UAAqBM,EAAE,gBAAvB,IACE,sCAAQuB,GAAiB1F,EAAK8G,YAEhC,qBAAGjD,UAAU,OAAb,UAAqBM,EAAE,WAAvB,IACE,sCAAQuB,GAAiB1F,EAAK+G,gB,oBCkBvB8B,I,MAhCc,WAC3B,IAAMrF,EAAWN,IACTX,EAAqBa,EAAeH,GAApCV,iBACR,EAAuBa,EAAeN,GAA9B9C,EAAR,EAAQA,KAAMG,EAAd,EAAcA,KACNgE,EAAMC,eAAND,EAMR,OAJAwC,qBAAU,WACRnD,EAASpB,OACR,IAGD,eAACuC,EAAA,EAAD,CAAKC,GAAG,IAAIC,GAAG,KAAf,SACGtC,EACC,uBAAKsB,UAAU,eAAf,UACE,qBAAGA,UAAU,oBAAb,UAAkCM,EAAE,oBAApC,KAA0D,uBACxDN,UAAU,wBAD8C,SACrBtB,EAAiBuG,2BACtD,qBAAGjF,UAAU,eAAb,UAA6BM,EAAE,4BAA/B,KAA6D,uBAC3DN,UAAU,wBADiD,SACxBtB,EAAiBwG,kBACtD,qBAAGlF,UAAU,oBAAb,UAAkCM,EAAE,MAApC,IAA2C,uBACzCN,UAAU,aAD+B,6BAA3C,IACiDM,EAAE,SADnD,IAC6D,uBAC3DN,UAAU,wBADiD,SACxBmF,KAAOhJ,EAAKiJ,SAASC,OAAO/I,GAAMgJ,OAAO,cAGhF,sBAAKtF,UAAU,+EAAf,SACE,2ECrBKuF,GAPM,kBACjB,gBAAC1E,EAAA,EAAD,WACE,eAAC,GAAD,IACA,eAAC,GAAD,Q,mBCLO2E,GAAwB,SAACb,GAA0B,IAAfrI,EAAc,uDAAT,KAC9CmJ,EAAeN,KAAOR,GAAMU,OAAO/I,GAEzC,OAAGmJ,EAAaC,OAAO,IAAId,KAAQ,QAC1Ba,EAAaE,UAGbF,EAAaH,OAAO,OCqBhBM,GAnBoB,SAAC,GAAqB,IAAnBf,EAAkB,EAAlBA,YAC7BvI,EAAQiD,EAAeN,GAAvB3C,KAEP,OACE,eAACuJ,GAAA,EAAD,CAAM7F,UAAU,yCAAyC8F,GAAG,QAAQC,KAAK,OAAzE,SACE,eAACF,GAAA,EAAKG,KAAN,UAAW,gBACTnF,EAAA,EADS,WAET,eAACC,EAAA,EAAD,CAAKE,GAAG,KAAKmC,GAAG,IAAInD,UAAU,eAA9B,SAA8C6E,EAAYlC,QAC1D,eAAC7B,EAAA,EAAD,CAAKE,GAAG,IAAImC,GAAG,IAAf,SAAoBqC,GAAsBX,EAAYF,KAAMrI,KAC5D,eAACwE,EAAA,EAAD,CAAKE,GAAG,IAAImC,GAAG,IAAf,SACE0B,EAAYxC,UACV,wBAAMrC,UAAU,cAAhB,cAAgC6B,GAAiBgD,EAAYpC,QAC7D,wBAAMzC,UAAU,eAAhB,cAAiC6B,GAAiBgD,EAAYpC,kBCoC3DwD,GApDM,WACnB,MAAwD1G,EAAeJ,GAA/D9C,EAAR,EAAQA,QAASgC,EAAjB,EAAiBA,aAAcD,EAA/B,EAA+BA,qBACzBuB,EAAWN,IACViB,EAAKC,eAALD,EAEP,EAAwC4B,mBAAiB,GAAzD,oBAAOgE,EAAP,KAAqBC,EAArB,KAEMC,EAAqB,WACzBzG,EAAStE,EAAuB,CAAEgL,MAJtB,GAIoCH,aAAcA,KAC9DC,EALY,GAKYD,IAQ1B,OALApD,qBAAU,WACRnD,EAASrB,KACT8H,MACC,IAEC/J,EACK,sBAAK2D,UAAU,OAAf,SAAsB,qBAAIA,UAAU,cAAd,0BAI7B,sBAAKA,UAAU,OAAf,SAEI5B,EACE,uCACE,oBAAG4B,UAAU,2BAAb,SAAyCM,EAAE,uBAEzCjC,EAAayF,KAAI,SAACe,GAAD,OAAiB,eAAC,GAAD,CAAmCA,YAAaA,GAA9BA,EAAYb,QAGjEkC,GAAgB9H,GACjB,eAAC4E,GAAA,EAAD,CACEsD,SAAUjK,EACVmF,QAAQ,UACRxB,UAAU,kCACVD,QAASqG,EAJX,SAKE9F,EAAE,kBAIN,sBAAKN,UAAU,2EAAf,SACE,6BAAIM,EAAE,uCClCHiG,GAVC,kBACd,qCACE,gBAAC3F,EAAA,EAAD,CAAWZ,UAAU,OAArB,UACE,eAAC,GAAD,IACA,eAAC,GAAD,U,mCCKAwG,GAAsD,SAAC,GASpD,IAPLC,EAOI,EAPJA,OACAC,EAMI,EANJA,OACAC,EAKI,EALJA,QACAC,EAII,EAJJA,aACAC,EAGI,EAHJA,WACAC,EAEI,EAFJA,aACAC,EACI,EADJA,aAEKzG,EAAKC,eAALD,EAEP,OACA,gBAAC,KAAD,CAAM0G,SAAUF,EAAhB,UACE,eAAC,KAAD,CACErK,KAAK,QACLwK,OAAQ,gBAAGC,EAAH,EAAGA,MAAH,OACN,gBAACC,GAAA,EAAD,CACEC,UAAU,QACVpH,UAAU,qBAFZ,UAGE,eAACmE,GAAA,EAAD,CACEzG,KAAM,OACNiG,MAAOuD,EAAMvD,MACbH,SAAU0D,EAAM1D,SAChBY,YAAa9D,EAAE,SACf+G,SAAS,IAGTV,EAAQW,OACRZ,EAAOY,OACP,eAACnD,GAAA,EAAYoD,SAAb,CACE7J,KAAK,UAAU8J,SAAO,EADxB,SAGGd,EAAOY,cAOlB,eAAC,KAAD,CACE5J,KAAK,WACLjB,KAAK,WACL+G,SAAUoD,EACVa,OAAQZ,EACRlD,MAAO8C,EAAOiB,SACdT,OAAQ,gBAAGC,EAAH,EAAGA,MAAH,OACN,gBAACC,GAAA,EAAD,CAAWC,UAAU,WAAWpH,UAAU,qBAA1C,UACE,eAACmE,GAAA,EAAD,CACEzG,KAAM,WACNiG,MAAOuD,EAAMvD,MACbH,SAAU0D,EAAM1D,SAChBY,YAAa9D,EAAE,cAGfqG,EAAQe,UACRhB,EAAOgB,UACP,eAACvD,GAAA,EAAYoD,SAAb,CACE7J,KAAK,UAAU8J,SAAO,EADxB,SAGGd,EAAOgB,iBAOlB,eAAC,KAAD,CACEhK,KAAK,WACLjB,KAAK,kBACL+G,SAAUoD,EACVa,OAAQZ,EACRlD,MAAO8C,EAAOkB,gBACdV,OAAQ,gBAAGC,EAAH,EAAGA,MAAH,OACN,gBAACC,GAAA,EAAD,CAAWC,UAAU,kBAAkBpH,UAAU,qBAAjD,UACE,eAACmE,GAAA,EAAD,CACEzG,KAAM,WACNiG,MAAOuD,EAAMvD,MACbH,SAAU0D,EAAM1D,SAChBY,YAAa9D,EAAE,sBAGfqG,EAAQgB,iBACRjB,EAAOiB,iBACP,eAACxD,GAAA,EAAYoD,SAAb,CACE7J,KAAK,UAAU8J,SAAO,EADxB,SAGGd,EAAOiB,wBAOlB,eAAC3E,GAAA,EAAD,CACEtF,KAAK,SACL8D,QAAQ,UACR8E,SACES,GACAa,QAAQlB,EAAOY,OAASX,EAAQW,QAChCM,QAAQlB,EAAOgB,UAAYf,EAAQe,UANvC,SASGpH,EAAE,iBAKHuH,GAAmB,CACvBP,MAAO,GACPI,SAAU,GACVC,gBAAiB,IA4BJG,kBArBI,SAACC,GAAD,OACjB,eAAC,KAAD,CACEC,cAAeH,GACfI,iBACEC,OAAaC,MAAM,CACjBb,MAAOY,OACJE,MAAM,mBACNC,SAAS,qBACZX,SAAUQ,OACPG,SAAS,wBACTC,IAAI,EAAG,4CACVX,gBAAiBO,OACdG,SAAS,yBACTE,MAAM,CAACL,KAAQ,aAAc,6BAGpClB,SAAU,SAACP,GAAD,OAAwBsB,EAAMpI,SAASpE,EAAOkL,KACxDQ,OAAQ,SAACc,GAAD,OAAoC,eAAC,GAAD,gBAAsBA,UC5IhES,GAAmD,SAAC,GASjD,IAPL/B,EAOI,EAPJA,OACAC,EAMI,EANJA,OACAC,EAKI,EALJA,QACAC,EAII,EAJJA,aACAC,EAGI,EAHJA,WACAC,EAEI,EAFJA,aACAC,EACI,EADJA,aAEKzG,EAAKC,eAALD,EAEP,OACE,gBAAC,KAAD,CAAM0G,SAAUF,EAAhB,UACE,eAAC,KAAD,CACErK,KAAK,QACLwK,OAAQ,gBAAGC,EAAH,EAAGA,MAAH,OACN,gBAACC,GAAA,EAAD,CACEC,UAAU,QACVpH,UAAU,qBAFZ,UAGE,eAACmE,GAAA,EAAD,CACEzG,KAAM,OACNiG,MAAOuD,EAAMvD,MACbH,SAAU0D,EAAM1D,SAChBY,YAAa9D,EAAE,SACf+G,SAAS,IAGTV,EAAQW,OACRZ,EAAOY,OACP,eAACnD,GAAA,EAAYoD,SAAb,CACE7J,KAAK,UAAU8J,SAAO,EADxB,SAGGd,EAAOY,cAQlB,eAAC,KAAD,CACE5J,KAAK,WACLjB,KAAK,WACL+G,SAAUoD,EACVa,OAAQZ,EACRlD,MAAO8C,EAAOiB,SACdT,OAAQ,gBAAGC,EAAH,EAAGA,MAAH,OACN,gBAACC,GAAA,EAAD,CAAWC,UAAU,WAAWpH,UAAU,qBAA1C,UACE,eAACmE,GAAA,EAAD,CACEzG,KAAM,WACNiG,MAAOuD,EAAMvD,MACbH,SAAU0D,EAAM1D,SAChBY,YAAa9D,EAAE,cAGfqG,EAAQe,UACRhB,EAAOgB,UACP,eAACvD,GAAA,EAAYoD,SAAb,CACE7J,KAAK,UAAU8J,SAAO,EADxB,SAGGd,EAAOgB,iBAOlB,eAAC1E,GAAA,EAAD,CACEtF,KAAK,SACL8D,QAAQ,UACR8E,SACES,GACAa,QAAQlB,EAAOY,OAASX,EAAQW,QAChCM,QAAQlB,EAAOgB,UAAYf,EAAQe,UANvC,SASGpH,EAAE,iBAMLuH,GAAiB,CACrBP,MAAO,GACPI,SAAU,IAyBGI,kBAlBG,SAACC,GAAD,OAChB,eAAC,KAAD,CACEC,cAAeH,GACfI,iBACEC,OAAaC,MAAM,CACjBb,MAAOY,OACJE,MAAM,mBACNC,SAAS,qBACZX,SAAUQ,OACPG,SAAS,wBACTC,IAAI,EAAG,8CAGdtB,SAAU,SAACP,GAAD,OAAsBsB,EAAMpI,SAAS7D,EAAM2K,KACrDQ,OAAQ,SAACc,GAAD,OAAkC,eAAC,GAAD,gBAAqBA,UCxDpDU,I,OAhDF,WACX,MAAoCvG,oBAAkB,GAAtD,oBAAOwG,EAAP,KAAmBC,EAAnB,KACQrI,EAAMC,eAAND,EAER,OACE,0BAASN,UAAU,sCAAnB,SACE,eAACY,EAAA,EAAD,UACE,gBAACC,EAAA,EAAD,CAAKb,UAAU,QAAf,UACE,gBAACc,EAAA,EAAD,CAAKE,GAAG,KAAKmC,GAAG,IAAInD,UAAU,cAA9B,UACE,sBAAKC,IAAKiB,EAAMhB,IAAI,SACpB,qBAAIF,UAAU,aAAd,6BACA,6BAAIM,EAAE,iDAER,gBAACQ,EAAA,EAAD,CAAKE,GAAG,KAAKmC,GAAG,IAAInD,UAAU,4BAA9B,UAEI0I,EAAc,uCACV,8BAAKpI,EAAE,aACP,eAACsI,GAAD,IACA,qBACE7I,QAAS,kBAAM4I,GAAc,IAC7B3I,UAAU,qBAFZ,UAGEM,EAAE,0BAHJ,KAGgC,gCAAOA,EAAE,mBAG3C,uCACE,8BAAKA,EAAE,aACP,eAAC,GAAD,IACA,qBACEP,QAAS,kBAAM4I,GAAc,IAC7B3I,UAAU,qBAFZ,UAGEM,EAAE,8BAHJ,KAGoC,gCAAOA,EAAE,mBAInD,sBACEN,UAAU,yDACV6I,MAAO,CAAEC,MAAO,QAASC,OAAQ,UAFnC,SAIE,eAAC,GAAD,kB,kDCSCC,GA/Ce,SAAC,GAAuC,IAArCpK,EAAoC,EAApCA,kBAAmBqK,EAAiB,EAAjBA,WAClD,EAA8B/G,mBAAwB,MAAtD,oBAAOgH,EAAP,KAAgBC,EAAhB,KACO7M,EAAQiD,EAAeN,GAAvB3C,KAED8M,EAAS,CAAC,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,WAQnIC,EAAgCzK,EAAkBkF,KAAI,SAACC,EAAIuF,GAAL,MAAgB,CACxE3F,MAAOI,EAAGgB,MACVwE,MAAOL,IAAYI,EAAQ,OAASF,EAAOE,GAC3C9B,QAAQ,GAAD,OAAc,OAATlL,EAAgByH,EAAGC,IAAIC,OAASF,EAAGC,IAAIE,OAA5C,aAAuDH,EAAGgB,WAGrE,OACE,uCACE,eAAC,YAAD,CACElK,KAAMwO,EACNR,MAAO,CAAEW,OAAQ,QAASV,MAAO,SACjCW,cAAe,GACflG,MAAO,gBAAGmG,EAAH,EAAGA,UAAH,gBAAsBC,KAAKC,MAAMF,EAAUG,YAAcF,KAAKC,MAAMF,EAAUG,YAAc,KAA5F,MACPC,WAAYb,EACZc,WAAY,CACVC,SAAU,MACVC,KAAM,SAERC,YAAa,SAACnG,EAAIuF,GAChBH,EAAWG,IAEba,WAAY,WACVhB,EAAW,OAEbiB,cAAe,CAAEC,WAAY,aAAcC,OAAQ,aAErD,eAAC,KAAD,CACEC,WAAY,uBACS,kBAAZrB,EAAP,UAA8BG,EAAaH,UAA3C,aAA8B,EAAuB1B,QAAU,YC7B1DgD,GAdgB,SAAC,GAAgB,IAAfC,EAAc,EAAdA,SAC/B,OACE,eAAC5E,GAAA,EAAD,CAAM7F,UAAU,yCAAyC8F,GAAG,QAAQC,KAAK,OAAzE,SACE,eAACF,GAAA,EAAKG,KAAN,UACE,gBAACnF,EAAA,EAAD,WACA,eAACC,EAAA,EAAD,CAAKE,GAAG,IAAImC,GAAG,IAAInD,UAAU,eAA7B,SAA6CyK,EAAS9H,QACtD,eAAC7B,EAAA,EAAD,CAAKE,GAAG,IAAImC,GAAG,IAAf,SAAoBsH,EAAS9G,QAC7B,gBAAC7C,EAAA,EAAD,CAAKE,GAAG,IAAImC,GAAG,IAAf,UAAoBsH,EAASZ,WAA7B,eCCKa,GAAsB,SAAC,GAAkD,IAAhD9L,EAA+C,EAA/CA,kBAAmBqG,EAA4B,EAA5BA,sBAC/C3I,EAASiD,EAAeN,GAAxB3C,KAEF+M,EAAmCzK,EAAkBkF,KAAI,SAACC,EAAIuF,GAAL,MAAgB,CAC7E3G,MAAgB,OAATrG,EAAgByH,EAAGC,IAAIC,OAASF,EAAGC,IAAIE,OAC9CP,MAAOI,EAAGgB,MACV8E,WAAYF,KAAKC,MAAO,IAAM7F,EAAGgB,MAASE,IAA0B,SAItE,OACE,+BACGoE,EAAasB,MAAK,SAACrQ,EAAGsQ,GAAJ,OAAUA,EAAEjH,MAAQrJ,EAAEqJ,SAAOG,KAAI,SAAA2G,GAAQ,OAAI,eAAC,GAAD,CAA+BA,SAAUA,GAA1BA,EAAS9H,aCqF/EkI,GAlGO,WACpB,IAAMlL,EAAWN,IACjB,EAA8CE,EAAeH,GAArDT,EAAR,EAAQA,eAAgBC,EAAxB,EAAwBA,kBACjB0B,EAAKC,eAALD,EACP,EAAuBf,EAAeN,GAA9B9C,EAAR,EAAQA,KAAMG,EAAd,EAAcA,KACd,EAAsC4F,mBAAiB,CAAC,IAAI0C,KAAKzI,EAAKiJ,SAAU,IAAIR,OAApF,oBAAOkG,EAAP,KAAoBC,EAApB,KACA,EAAoC7I,oBAAkB,GAAtD,oBAAO8I,EAAP,KAAmBC,EAAnB,KAOA,OALAnI,qBAAU,WACRnD,EAASnB,KACTmB,EAASrE,EAAqB,CAAE4P,KAAMJ,EAAY,GAAI7J,GAAI6J,EAAY,QACrE,IAGD,eAAClK,EAAA,EAAD,CAAWZ,UAAU,OAArB,SACGrB,GAAkBC,EACjB,gBAACiC,EAAA,EAAD,WACE,gBAACC,EAAA,EAAD,CAAKE,GAAG,KAAKD,GAAG,IAAhB,UACE,qBAAGf,UAAU,oBAAb,UAAkCM,EAAE,gBAApC,OACA,eAAC,KAAD,CACEkD,SAAUuH,EACVI,UAAU,OACVxH,MAAOmH,EACPzF,OAAO,KACP+F,aAAc,KACdC,UAAW,KACX/F,OAAO,OACPgG,UAAU,OACVC,QAAS,IAAI3G,KAAK,KAAM,EAAG,GAC3B4G,QAAS,IAAI5G,OAEf,uBAAK5E,UAAU,+BAA+B,WAAS,QAAvD,UACE,uBAAKA,UAAU,2BAAf,UACE,eAACgD,GAAA,EAAD,CACEyI,KAAK,KACLzL,UAAS,eAAUgL,EAAa,aAAe,IAC/CxJ,QAASwJ,EAAa,UAAY,kBAClCjL,QAAS,kBAAMkL,GAAc,IAJ/B,SAMG3K,EAAE,eAEL,eAAC0C,GAAA,EAAD,CACEyI,KAAK,KACLzL,UAAWgL,EAAa,GAAK,aAC7BxJ,QAASwJ,EAAa,kBAAoB,UAC1CjL,QAAS,kBAAMkL,GAAc,IAJ/B,SAMG3K,EAAE,aAGP,qBAAGN,UAAU,UAAb,UAAwBM,EAAE,4BAA1B,IACE,wBAAMN,UAAU,wBAAhB,cAA0CpB,EAAkBqK,iBAC7D+B,EACC,eAAC,GAAD,CACE/B,WAAYrK,EAAkBqK,WAC9BrK,kBAAmBA,EAAkB8M,sBAGvC,eAAC,GAAD,CACEzG,sBAAuBtG,EAAesG,sBACtCrG,kBAAmBA,EAAkB8M,4BAI7C,gBAAC5K,EAAA,EAAD,CAAKE,GAAG,KAAKD,GAAG,IAAhB,UACE,qBAAGf,UAAU,oBAAb,UAAkCM,EAAE,qBAApC,OACA,uBAAKN,UAAU,QAAf,UACE,qBAAGA,UAAU,OAAb,UAAqBM,EAAE,4BAAvB,IACE,uBAAMN,UAAU,wBAAhB,SACCrB,EAAeuG,kBAElB,qBAAGlF,UAAU,OAAb,UAAqBM,EAAE,oBAAvB,IACE,wBAAMN,UAAU,wBAAhB,cAA0CrB,EAAesG,+BAG7D,uBAAKjF,UAAU,cAAf,UACE,qBAAGA,UAAU,OAAb,UAAqBM,EAAE,6BAAvB,IACE,uBAAMN,UAAU,wBAAhB,SACFrB,EAAegN,iBAEf,qBAAG3L,UAAU,OAAb,UAAqBM,EAAE,qBAAvB,IACE,uBAAMN,UAAU,wBAAhB,SACDrB,EAAeiN,0BAEhB,qBAAG5L,UAAU,oBAAb,UAAkCM,EAAE,MAApC,IAA2C,uBAAMN,UAAU,aAAhB,6BAA3C,IAAgGM,EAAE,SAAlG,IAA4G,uBAC1GN,UAAU,wBADgG,SACvEmF,KAAOhJ,EAAKiJ,SAASC,OAAO/I,GAAMgJ,OAAO,oBAKpF,sBAAKtF,UAAU,+EAAf,SACE,6BAAIM,EAAE,8CCnEDuL,GA3BkB,SAAC,GAAgB,IAAdzP,EAAa,EAAbA,OAGlC,OAFkBmD,EAAeN,GAA1B5C,QAGE,+BAAK,+CAIZ,qCACGD,EACG,gBAAC,IAAD,WACE,eAAC,IAAD,CAAO0P,KAAK,aAAaC,UAAWlB,KACpC,eAAC,IAAD,CAAOiB,KAAK,qBAAqBC,UAAW9J,KAC5C,eAAC,IAAD,CAAO6J,KAAK,QAAQC,UAAWxF,KAC/B,eAAC,IAAD,CAAUtF,GAAG,aAIf,gBAAC,IAAD,WACE,eAAC,IAAD,CAAO6K,KAAK,iBAAiBC,UAAWtD,KACxC,eAAC,IAAD,CAAUxH,GAAG,yBCOV+K,GAzBH,WACV,IAAMrM,EAAWN,IAGXjD,EAFemD,EAAeN,GAEC7C,OAUrC,OARA0G,qBAAU,WACM5I,aAAaC,QAAQ,UAGjCwF,EAAS1D,OAEV,IAGD,uCACGG,GAAU,eAAC,GAAD,IACX,eAAC,GAAD,CAAWA,OAAQA,IACnB,eAAC,IAAD,CACEiO,WAAY4B,U,6BCzBdC,GAAU,CAEdC,MAAO,CAAE,YAAa,UAAW,OAAQ,aAGzCC,kBAAmB,MACnBC,aAAc,UACdC,mBAAoB,aACpBC,oBAAqB,EACrBC,yBAA0B,EAG1BC,OAAQ,CAAC,eAAgB,UACzBC,gBAAiB,CAAC,UAGlBC,cAAe,GACfC,aAAc,WAGdC,QAASC,SAASC,gBAGlBC,gBAAgB,GAGlBC,KACGjT,IAAIkT,MAEJlT,IAAImT,MAEJnT,IAAIoT,MAEJvF,KAAK,CACJwF,QAAS,CACPC,SAAU,kDAEZC,IAAKrT,aAAcC,QAAQ,eAAiB,KAC5CqT,YA1CgB,CAAC,MA2CjBC,UA1CuB,CAAC,KAAM,MA2C9BC,UAAWxB,GAEXyB,cAAe,CACbC,aAAa,KAIJX,GAAf,EChDAY,IAAS5G,OACP,eAAC,IAAD,CAAUnI,MAAOA,EAAjB,SACA,eAAC,IAAMgP,WAAP,UACE,eAAC,IAAD,UACE,eAAC,WAAD,CAAUC,SAAW,2CAArB,SACE,eAAC,GAAD,YAKNjB,SAASkB,eAAe,W","file":"static/js/main.66669f67.chunk.js","sourcesContent":["import axios from 'axios'\r\nimport { loginResponseType } from '../types/auth.type';\r\n\r\nconst axiosInstance = axios.create({\r\n  withCredentials: true,\r\n  baseURL: 'https://young-peak-28727.herokuapp.com/api',\r\n  headers: {\r\n    \"Content-type\": \"application/json\"\r\n  }\r\n\r\n})\r\n\r\naxiosInstance.interceptors.request.use((config) => {\r\n  if(localStorage.getItem('token')){\r\n  config.headers.Authorization = `Bearer ${localStorage.getItem('token')}`\r\n  }\r\n  return config;\r\n})\r\n\r\naxiosInstance.interceptors.response.use((config) => {\r\n  return config;\r\n},async (error) => {\r\n  const originalRequest = error.config;\r\n  if (error.response.status === 401 && error.config && !error.config._isRetry) {\r\n    originalRequest._isRetry = true;\r\n    try {\r\n      const response = await axios.get<loginResponseType>('http://localhost:5003/api/refresh', {withCredentials: true})\r\n      localStorage.setItem('token', response.data.accessToken);\r\n      return axiosInstance.request(originalRequest);\r\n    } catch (e) {\r\n      console.log('НЕ АВТОРИЗОВАН')\r\n    }\r\n  }\r\n  throw error;\r\n})\r\n\r\nexport default axiosInstance","import api from './axiosInstance'\r\nimport { authData, loginResponseType, signUpResponseType } from \"../types/auth.type\";\r\nimport { AxiosResponse } from 'axios';\r\nimport { categoryResponseType } from \"../types/category.type\";\r\nimport {\r\n  addTransactionResponseType,\r\n  getTransactionsResponseType,\r\n  transactionType\r\n} from \"../types/transaction.type\";\r\nimport {\r\n  getGeneralStatisticResponseType,\r\n  getStatisticForRangeResponseType,\r\n  getWholeStatisticResponseType\r\n} from \"../types/statistic.type\";\r\n\r\n/* auth requests */\r\nexport const signUp = (body: authData): Promise<AxiosResponse<signUpResponseType>> => api.post('/auth/signUp', body)\r\nexport const logIn = (body: authData): Promise<AxiosResponse<loginResponseType>> => api.post('/auth/logIn', body)\r\nexport const logOut = (): Promise<AxiosResponse<void>> => api.post('/auth/logOut')\r\nexport const refresh = (): Promise<AxiosResponse<loginResponseType>> => api.get('/auth/refresh')\r\n\r\n/*transaction requests*/\r\nexport const addTransaction = (body: { transaction: transactionType }): Promise<AxiosResponse<addTransactionResponseType>> => api.post('/transaction/addNewTransaction', body)\r\nexport const getAllUserTransactions = (body: {limit: number, numberToSkip: number}): Promise<AxiosResponse<getTransactionsResponseType>> => api.post('/transaction/getAllUserTransactions', body)\r\n\r\n/*statistic requests*/\r\nexport const getGeneralStatistic = (): Promise<AxiosResponse<getGeneralStatisticResponseType>> => api.get('/statistic/getGeneralStatistic')\r\nexport const getWholeStatistic = (): Promise<AxiosResponse<getWholeStatisticResponseType>> => api.get('/statistic/getWholeStatistic')\r\nexport const getStatisticForRange = (body: { from: Date, to: Date }): Promise<AxiosResponse<getStatisticForRangeResponseType>> => api.post('/statistic/getStatisticForRange', body)\r\n\r\n/*category requests*/\r\nexport const getCategories = (): Promise<AxiosResponse<categoryResponseType>> => api.get('/category/getCategories')","import { createAsyncThunk, createSlice, PayloadAction } from '@reduxjs/toolkit'\r\nimport axios, {AxiosResponse } from 'axios'\r\nimport * as api from '../../api/index'\r\nimport { authData } from \"../../types/auth.type\"\r\nimport { loginResponseType, signUpResponseType } from '../../types/auth.type'\r\nimport { userType } from \"../../types/user.type\"\r\nimport { toast } from \"react-toastify\";\r\nimport { addTransactionResponseType, transactionType } from \"../../types/transaction.type\";\r\n\r\nexport const signUp = createAsyncThunk<signUpResponseType,\r\n  authData,\r\n  {\r\n    rejectValue: signUpResponseType\r\n  }>(\r\n  'user/signUp',\r\n  //todo:fix this\r\n  //@ts-ignore\r\n  async (signUpData, thunkApi) => {\r\n    try {\r\n      const res = await api.signUp(signUpData);\r\n      return res.data\r\n    } catch (e) {\r\n      if (axios.isAxiosError(e)) {\r\n        return thunkApi.rejectWithValue(e.response?.data)\r\n      }\r\n    }\r\n  })\r\n\r\n\r\nexport const logIn = createAsyncThunk<loginResponseType\r\n  , authData,\r\n  {\r\n    rejectValue: signUpResponseType\r\n  }>(\r\n  'user/logIn',\r\n  //todo:fix this\r\n  //@ts-ignore\r\n  async (loginData: authData, thunkApi) => {\r\n    try {\r\n      const res = await api.logIn(loginData)\r\n      return res.data\r\n    } catch (e) {\r\n      if (axios.isAxiosError(e)) {\r\n        return thunkApi.rejectWithValue(e.response?.data)\r\n      }\r\n    }\r\n  }\r\n)\r\n\r\nexport const logOut = createAsyncThunk(\r\n  'user/logOut',\r\n  async (): Promise<AxiosResponse<void>> => await api.logOut(),\r\n)\r\n\r\nexport const checkAuth = createAsyncThunk(\r\n  'user/refresh',\r\n  async (): Promise<AxiosResponse<loginResponseType>> => await api.refresh(),\r\n)\r\n\r\n//todo: think again about logic of adding transaction\r\nexport const addTransaction = createAsyncThunk(\r\n  'transaction/addTransaction',\r\n  async (body:{transaction:transactionType}): Promise<AxiosResponse<addTransactionResponseType>> => await api.addTransaction(body),\r\n)\r\n\r\nexport type userState = {\r\n  user: userType,\r\n  isAuth: boolean,\r\n  loading: boolean,\r\n  lang: string\r\n}\r\n\r\nconst initialState: userState = {\r\n  user: {  } as userType,\r\n  isAuth: false,\r\n  loading: false,\r\n  lang: localStorage.getItem('i18nextLng') || 'en'\r\n}\r\n\r\nconst userReducer = createSlice({\r\n  name: 'user',\r\n  initialState,\r\n  reducers: {\r\n    changeLang: (state: userState, action: PayloadAction<string>) => {\r\n      state.lang = action.payload\r\n    }\r\n  },\r\n  extraReducers: (builder => {\r\n    builder.addCase(signUp.fulfilled, (state, action) => {\r\n      toast(action.payload.message, {\r\n        position: \"top-right\",\r\n        autoClose: 2500,\r\n        hideProgressBar: true,\r\n        closeOnClick: true,\r\n        theme: 'dark',\r\n        type: 'success'\r\n      })\r\n    })\r\n\r\n    builder.addCase(signUp.rejected, (state, action) => {\r\n      toast(action.payload?.message, {\r\n        position: \"top-right\",\r\n        autoClose: 2500,\r\n        hideProgressBar: true,\r\n        closeOnClick: true,\r\n        theme: 'dark',\r\n        type: 'error'\r\n      })\r\n    })\r\n\r\n    builder.addCase(logIn.pending, (state) => {\r\n      state.loading = true\r\n    })\r\n\r\n    builder.addCase(logIn.fulfilled, (state, action) => {\r\n      state.loading = false\r\n\r\n      localStorage.setItem('token', action.payload.accessToken)\r\n      state.user = action.payload.user\r\n      state.isAuth = true\r\n    })\r\n\r\n    builder.addCase(logIn.rejected, (state, action) => {\r\n      state.loading = false\r\n      toast(action.payload?.message, {\r\n        position: \"top-right\",\r\n        autoClose: 2500,\r\n        hideProgressBar: true,\r\n        closeOnClick: true,\r\n        theme: 'dark',\r\n        type: 'error'\r\n      })\r\n    })\r\n\r\n    builder.addCase(logOut.fulfilled, (state) => {\r\n      localStorage.removeItem('token')\r\n      state.user = {} as userType\r\n      state.isAuth = false\r\n    })\r\n\r\n    builder.addCase(checkAuth.pending, (state) => {\r\n      state.loading = true\r\n    })\r\n\r\n    builder.addCase(checkAuth.rejected, (state) => {\r\n      state.loading = false\r\n    })\r\n\r\n\r\n    builder.addCase(checkAuth.fulfilled, (state, action) => {\r\n      state.loading = false\r\n\r\n      localStorage.setItem('token', action.payload.data.accessToken)\r\n      state.user = action.payload.data.user\r\n      state.isAuth = true\r\n    })\r\n\r\n    builder.addCase(addTransaction.fulfilled, (state, action) =>{\r\n      state.user = action.payload.data.updatedUser\r\n\r\n      toast(action.payload?.data.message, {\r\n        position: \"top-right\",\r\n        autoClose: 2500,\r\n        hideProgressBar: true,\r\n        closeOnClick: true,\r\n        theme: 'dark',\r\n        type: 'success'\r\n      })\r\n    })\r\n\r\n  })\r\n})\r\n\r\nexport const { changeLang } = userReducer.actions\r\n\r\nexport default userReducer.reducer","import { createAsyncThunk, createSlice } from '@reduxjs/toolkit'\r\nimport { AxiosResponse } from 'axios'\r\nimport * as api from '../../api/index'\r\nimport { categoryResponseType, categoryType } from \"../../types/category.type\";\r\n\r\n\r\nexport const getCategories = createAsyncThunk(\r\n  'category/getCategories',\r\n  async (): Promise<AxiosResponse<categoryResponseType>> => await api.getCategories(),\r\n)\r\n\r\nexport type categoryState = {\r\n  categories: categoryType[],\r\n}\r\n\r\nconst initialState: categoryState = {\r\n  categories: [] as categoryType[],\r\n}\r\n\r\nconst categoryReducer = createSlice({\r\n  name: 'category',\r\n  initialState,\r\n  reducers: {},\r\n  extraReducers: (builder => {\r\n    builder.addCase(getCategories.fulfilled, (state, action) => {\r\n      state.categories = action.payload.data.categories\r\n    })\r\n\r\n  })\r\n})\r\n\r\nexport default categoryReducer.reducer","import { createAsyncThunk, createSlice } from '@reduxjs/toolkit'\r\nimport { AxiosResponse } from 'axios'\r\nimport * as api from '../../api/index'\r\nimport { getTransactionsResponseType, transactionType } from \"../../types/transaction.type\";\r\n\r\nexport const getAllUserTransactions = createAsyncThunk(\r\n  'transaction/getAllUserTransactions',\r\n  async (body: { limit: number, numberToSkip: number }): Promise<AxiosResponse<getTransactionsResponseType>> => await api.getAllUserTransactions(body),\r\n)\r\n\r\nexport type transactionState = {\r\n  loading: boolean,\r\n  numberOfTransactions: number,\r\n  transactions: transactionType[],\r\n}\r\n\r\nconst initialState: transactionState = {\r\n  loading: false,\r\n  numberOfTransactions: 0,\r\n  transactions: [] as transactionType[],\r\n}\r\n\r\nconst transactionReducer = createSlice({\r\n  name: 'transaction',\r\n  initialState,\r\n  reducers: {\r\n    resetTransactions: (state) => {\r\n      state.transactions = []\r\n    }\r\n  },\r\n  extraReducers: (builder => {\r\n    builder.addCase(getAllUserTransactions.pending, (state) => {\r\n      state.loading = true\r\n    })\r\n\r\n    builder.addCase(getAllUserTransactions.fulfilled, (state, action) => {\r\n      state.loading = false\r\n      state.transactions = [...state.transactions, ...action.payload.data.transactions]\r\n      state.numberOfTransactions = action.payload.data.numberOfTransactions || 0\r\n    })\r\n  })\r\n})\r\n\r\nexport const { resetTransactions } = transactionReducer.actions\r\n\r\nexport default transactionReducer.reducer","import { createAsyncThunk, createSlice } from '@reduxjs/toolkit'\r\nimport { AxiosResponse } from 'axios'\r\nimport * as api from '../../api/index'\r\nimport {\r\n  generalStatisticType,\r\n  getGeneralStatisticResponseType,\r\n  getStatisticForRangeResponseType,\r\n  getWholeStatisticResponseType,\r\n  statisticForRangeType,\r\n  wholeStatisticType\r\n} from \"../../types/statistic.type\";\r\n\r\nexport const getGeneralStatistic = createAsyncThunk(\r\n  'statistic/getGeneralStatistic',\r\n  async (): Promise<AxiosResponse<getGeneralStatisticResponseType>> => await api.getGeneralStatistic()\r\n)\r\n\r\nexport const getWholeStatistic = createAsyncThunk(\r\n  'statistic/getWholeStatistic',\r\n  async (): Promise<AxiosResponse<getWholeStatisticResponseType>> => await api.getWholeStatistic()\r\n)\r\n\r\nexport const getStatisticForRange = createAsyncThunk(\r\n  'statistic/getStatisticForRange',\r\n  async (body: { from: Date, to: Date }): Promise<AxiosResponse<getStatisticForRangeResponseType>> => await api.getStatisticForRange(body)\r\n)\r\n\r\nexport type statisticState = {\r\n  loading: boolean,\r\n  generalStatistic: generalStatisticType | null,\r\n  wholeStatistic: wholeStatisticType | null,\r\n  statisticForRange: statisticForRangeType | null\r\n}\r\n\r\nconst initialState: statisticState = {\r\n  loading: false,\r\n  generalStatistic: null,\r\n  wholeStatistic: null,\r\n  statisticForRange: null\r\n}\r\n\r\nconst statisticReducer = createSlice({\r\n  name: 'statistic',\r\n  initialState,\r\n  reducers: {},\r\n  extraReducers: (builder => {\r\n    builder.addCase(getGeneralStatistic.fulfilled, (state, action) => {\r\n      state.generalStatistic = action.payload.data.statistic\r\n    })\r\n\r\n    builder.addCase(getWholeStatistic.fulfilled, (state, action) => {\r\n      state.wholeStatistic = action.payload.data.statistic\r\n    })\r\n\r\n    builder.addCase(getStatisticForRange.fulfilled, (state, action) => {\r\n      state.statisticForRange = action.payload.data.statistic\r\n    })\r\n  })\r\n})\r\n\r\n\r\nexport default statisticReducer.reducer","import { configureStore } from '@reduxjs/toolkit'\r\nimport userReducer from \"./reducers/user.reducer\";\r\nimport categoryReducer from \"./reducers/category.reducer\";\r\nimport transactionReducer from \"./reducers/transaction.reducer\";\r\nimport statisticReducer from \"./reducers/statistic.reducer\";\r\n\r\n\r\nconst store = configureStore({\r\n  reducer: {\r\n    userData: userReducer,\r\n    categoryDate: categoryReducer,\r\n    transactionData: transactionReducer,\r\n    statisticData: statisticReducer\r\n  }\r\n})\r\n\r\nexport type RootState = ReturnType<typeof store.getState>\r\nexport type AppDispatch = typeof store.dispatch\r\n\r\nexport default store","import { AppDispatch, RootState } from \"../store\"\r\nimport { TypedUseSelectorHook, useDispatch, useSelector } from \"react-redux\";\r\n\r\nexport const useAppDispatch = () => useDispatch<AppDispatch>()\r\nexport const useAppSelector: TypedUseSelectorHook<RootState> = useSelector\r\n","import { RootState } from \"./index\";\r\n\r\nexport const userData = (state:RootState) => state.userData\r\nexport const categoryData = (state:RootState) => state.categoryDate\r\nexport const transactionData = (state:RootState) => state.transactionData\r\nexport const statisticData = (state:RootState) => state.statisticData\r\n","export default __webpack_public_path__ + \"static/media/logo.9b355c54.png\";","import React from 'react';\r\nimport { changeLang } from \"../../store/reducers/user.reducer\";\r\nimport i18next from \"i18next\";\r\nimport enFlag from \"../../images/en.png\";\r\nimport ruFlag from \"../../images/ru.png\";\r\nimport { userData } from \"../../store/selectors\";\r\nimport { useAppDispatch, useAppSelector } from \"../../hooks/react-redux.hook\";\r\n\r\nconst LanguageSwitcher = () => {\r\n  const dispatch = useAppDispatch()\r\n  const { lang } = useAppSelector(userData)\r\n\r\n  const handleLangChange = (lang: string) => () => {\r\n    dispatch(changeLang(lang))\r\n    i18next.changeLanguage(lang)\r\n  }\r\n\r\n  return (\r\n    <>\r\n      <span\r\n        onClick={handleLangChange('en')}\r\n        className={lang === 'en' ? 'activeLang' : ''}\r\n      >\r\n                    <img src={enFlag} alt='en'/>\r\n                  </span>\r\n      <span\r\n        onClick={handleLangChange('ru')}\r\n        className={lang === 'ru' ? 'activeLang' : ''}\r\n      >\r\n                    <img src={ruFlag} alt='en'/>\r\n                  </span>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default LanguageSwitcher;","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAMAAABEpIrGAAAAA3NCSVQICAjb4U/gAAAACXBIWXMAAADdAAAA3QFwU6IHAAAAGXRFWHRTb2Z0d2FyZQB3d3cuaW5rc2NhcGUub3Jnm+48GgAAAThQTFRF////+5CWpG6Y+4WMum+RlGOUQUebQkibQkicRkueRkydR02dR02eSE2eSE6eSE6fSU+fSlCfSlCgTFGgTFKhTVKgTVOhTlOhTlSiT1WiUVWhUVajUVejUkeVUkqXUk6bUlGeUlOgUlejUlikU0eUU1ikVFqkVVqlVlumV1ymWV6nXGGoXmOpX2SqYGWqYGWrYWarYmesY2isZE2TZGmsZmqtZmuuZ2uuaG2uaW2vam+va3CwbHGxbXGxbXKxbnOyb3OycHSycHWzcXWzcnazdHi0dXm1d3y2eHy3en64e3+4fIC4foK6gl2WiIy/io7Ai4/AjZDBkFaKlZjFl5rGmJvGmZzHnaDJoKLKoKPLoaTLoqTLo6bMpKfMpafNpajN9fDw9fX19uDh+Lq++MrN+5CW/Wpy/0tV1Uw64AAAAAZ0Uk5TAIqwuMzZ24+8ogAAAOpJREFUOMtjYBgKgIkVGbAwowFGBjZ+NjYeOFJJRwcMHPE8vHECXLECnFEC3DFSSeiAgU3E1VHY3V7Yy0bYx1JYMQUdMHBECwlGifJFivOEi/FFyGJawabkYqfqZqfkbq3kZaGkkIwOGDjClGVC1SRDNSSCNSRDpBPQAQO7gZW5ga25gYOZvouRPjYrArU0A7TV/XVV/fRV/eVT0QEDh7OhnrOJrrOpnpOFjpNMIjpgYPNmY/MEIw8gKZeGDhh8jZFBEKaCRAKAIZUAYEgnABgSCACGZAKAsBUpBABDEgFA2ApGZryAcUjkPABWg9YaCJi69wAAAABJRU5ErkJggg==\"","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAABHNCSVQICAgIfAhkiAAAAAlwSFlzAAAA7AAAAOwBeShxvQAAABl0RVh0U29mdHdhcmUAd3d3Lmlua3NjYXBlLm9yZ5vuPBoAAACWSURBVFiF7ZMrDsJQFETn3Vw+BoFAsQQca8Kj2AQodA17qcBhSNgCoiEvDaQp0Fyw7GBIOmcD5ySTAUTfSZ+mmSNiRrGbVY6IDVJaUwIi9kYR/6AABdADfHsc5XuLE0M+GSP7tcYUwJIR8HiipE+gAAX44nbJg3hRbvi2YfbVuaDdENANFaAAwNF1O5gdKPaIiuIVf8UX88QnAAqjY10AAAAASUVORK5CYII=\"","import React from 'react'\r\nimport { Link, NavLink, useHistory } from 'react-router-dom';\r\nimport './header.scss'\r\nimport logo from '../../images/logo.png'\r\nimport { useAppDispatch, useAppSelector } from '../../hooks/react-redux.hook';\r\nimport { logOut } from '../../store/reducers/user.reducer';\r\nimport { Col, Container, Dropdown, Row } from 'react-bootstrap';\r\nimport { useTranslation } from \"react-i18next\";\r\nimport LanguageSwitcher from \"./LanguageSwitcher\";\r\n\r\nconst AppHeader = () => {\r\n  const dispatch = useAppDispatch()\r\n  const history = useHistory()\r\n  const {t} = useTranslation()\r\n\r\n  const handleLogout = () => {\r\n    dispatch(logOut())\r\n    history.push('/authorization')\r\n  }\r\n\r\n  //todo: fix any\r\n  const customToggle = React.forwardRef <HTMLDivElement>(({ onClick }: any, ref) => (\r\n    <div className='dropdownMenu'>\r\n      <div\r\n        className='menuTogglerContainer'\r\n        ref={ref}\r\n        onClick={onClick}\r\n      >\r\n        <span/>\r\n      </div>\r\n    </div>\r\n  ));\r\n\r\n  return (\r\n    <header>\r\n      <Container>\r\n        <Row>\r\n          <Col md='3' xs='6' className='logo'>\r\n            <Link to='/'>\r\n              <img src={logo} alt='app logo'/>\r\n              Billionstracker\r\n            </Link>\r\n          </Col>\r\n          <Col md='6' xs='12' className='menu order-1 order-md-0'>\r\n            <ul className='m-0 p-0'>\r\n              <li><NavLink to='/home'>{t('Profile')}</NavLink></li>\r\n              <li><NavLink to='/createTransaction'>{t('New transaction')}</NavLink></li>\r\n              <li><NavLink to='/statistic'>{t('Statistic')}</NavLink></li>\r\n            </ul>\r\n          </Col>\r\n          <Col md='3' xs='6'>\r\n            <Dropdown>\r\n              <Dropdown.Toggle as={customToggle} id='dropdown-custom-components'/>\r\n              <Dropdown.Menu variant='dark'>\r\n                <Dropdown.Item\r\n                  as='span'\r\n                  className='d-flex justify-content-around languagesController'\r\n                >\r\n                <LanguageSwitcher/>\r\n                </Dropdown.Item>\r\n                <Dropdown.Item as='span' onClick={() => history.push('/home')}>{t('Home')}</Dropdown.Item>\r\n                <Dropdown.Item href='https://t.me/qeorqe' target='_blank'>{t('Support')} </Dropdown.Item>\r\n                <Dropdown.Item as='span' onClick={handleLogout}>{t('Log out')}</Dropdown.Item>\r\n              </Dropdown.Menu>\r\n            </Dropdown>\r\n          </Col>\r\n        </Row>\r\n\r\n      </Container>\r\n    </header>\r\n  )\r\n}\r\n\r\nexport default AppHeader","export const formattingNumber = (number: number): string => (\r\n  String(number).replace(/\\B(?=(\\d{3})+(?!\\d))/g, ' ')\r\n)\r\n","import React, { FormEvent, useEffect, useState } from 'react'\r\nimport { Button, Col, Container, Form, FormControl, Row } from \"react-bootstrap\"\r\nimport { categoryData, userData } from \"../../store/selectors\"\r\nimport { formattingNumber } from \"../../helpers/index.js\"\r\nimport { useAppDispatch, useAppSelector } from \"../../hooks/react-redux.hook\"\r\nimport { addTransaction } from \"../../store/reducers/user.reducer\"\r\nimport { transactionType } from \"../../types/transaction.type\"\r\nimport { getCategories } from \"../../store/reducers/category.reducer\"\r\nimport './transaction.scss'\r\nimport { useTranslation } from \"react-i18next\";\r\nimport { toast } from \"react-toastify\";\r\n\r\nconst CreateTransaction = () => {\r\n  const { user, lang } = useAppSelector(userData)\r\n  const { categories } = useAppSelector(categoryData)\r\n  const [useCard, setUseCard] = useState<boolean>(true)\r\n  const [isExpense, setIsExpense] = useState<boolean>(true)\r\n  const [categoryId, setCategoryId] = useState<string>('')\r\n  const [sum, setSum] = useState<number | string>('')\r\n  const [title, setTitle] = useState<string>('')\r\n  const { t } = useTranslation()\r\n  const dispatch = useAppDispatch()\r\n\r\n  const validateSumReg = /^[0-9]+$/;\r\n\r\n  const handleChangeSum = (event: React.ChangeEvent<HTMLInputElement>) => {\r\n    if (validateSumReg.test(event.target.value) || event.target.value === '') {\r\n      setSum(event.target.value)\r\n    }\r\n  }\r\n\r\n  const handleChangeTitle = (event: React.ChangeEvent<HTMLInputElement>) => {\r\n    setTitle(event.target.value)\r\n  }\r\n\r\n  const handleSubmit = () => {\r\n    if (!sum || !categoryId || !title) {\r\n     return toast(t('All fields are required'), {\r\n        position: \"top-right\",\r\n        autoClose: 2500,\r\n        hideProgressBar: true,\r\n        closeOnClick: true,\r\n        theme: 'dark',\r\n        type: 'error'\r\n      })\r\n    }\r\n\r\n    if(isExpense){\r\n      if ((useCard && user.card < sum) || (!useCard && user.cash < sum)){\r\n        return toast(t('You don\\'t have this much'), {\r\n          position: \"top-right\",\r\n          autoClose: 2500,\r\n          hideProgressBar: true,\r\n          closeOnClick: true,\r\n          theme: 'dark',\r\n          type: 'error'\r\n        })\r\n      }\r\n    }\r\n        const newTransaction: transactionType = {\r\n          title: title,\r\n          ownerId: user._id,\r\n          isCard: useCard,\r\n          isExpense: isExpense,\r\n          sum: Number(sum),\r\n          category: categoryId,\r\n          date: new Date()\r\n        }\r\n\r\n        dispatch(addTransaction({ transaction: newTransaction }))\r\n  }\r\n\r\n  useEffect(() => {\r\n    dispatch(getCategories())\r\n  }, [])\r\n\r\n  return (\r\n    <>\r\n      <Container className='py-md-4 my-4'>\r\n        <Row>\r\n          <p className='mb-1 fs-4 text-center fw-bold'>{t('Select operation type')}:</p>\r\n          <Col xs='12' lg='5' className='mx-auto d-flex'>\r\n            <div className='w-50 text-center'>\r\n              <Button\r\n                variant={isExpense ? 'danger' : 'outline-danger'}\r\n                className='w-75'\r\n                onClick={() => {\r\n                  setIsExpense(true)\r\n                  setCategoryId('')\r\n                }}\r\n              >\r\n                {t('expense')}\r\n              </Button>\r\n            </div>\r\n            <div className='w-50 text-center'>\r\n              <Button\r\n                variant={!isExpense ? 'success' : 'outline-success'}\r\n                className='w-75'\r\n                onClick={() => {\r\n                  setIsExpense(false)\r\n                  setCategoryId('')\r\n                }}\r\n              >\r\n                {t('income')}\r\n              </Button>\r\n            </div>\r\n\r\n          </Col>\r\n        </Row>\r\n        <Row>\r\n          <Col xs='12' lg='5' className='mx-auto d-md-flex mt-3'>\r\n            <p className='fs-5 mb-0 w-50 text-md-center text-nowrap'>{t('Card balance')}:\r\n              <span className='yellowText'> {formattingNumber(user.card)}</span>\r\n            </p>\r\n            <p className='fs-5 w-50 text-md-center text-nowrap'>{t('Cash balance')}:\r\n              <span className='yellowText'> {formattingNumber(user.cash)}</span>\r\n            </p>\r\n          </Col>\r\n        </Row>\r\n        <Row>\r\n          <Col xs='12' lg='7' className='mx-auto'>\r\n            <Row>\r\n              <Col xs='12' sm='6' className='d-flex flex-wrap'>\r\n                <p className='mb-1 fs-5 text-center w-100'>{t('Select card or cash')}:</p>\r\n                <Form.Check\r\n                  checked={useCard}\r\n                  type='radio'\r\n                  name='cardOrCash'\r\n                  id='default-radio2'\r\n                  className='paymentCard d-flex align-items-center w-50 justify-content-center'\r\n                  label=''\r\n                  onChange={() => setUseCard(true)}\r\n                />\r\n                <Form.Check\r\n                  checked={!useCard}\r\n                  type='radio'\r\n                  name='cardOrCash'\r\n                  id='default-radio1'\r\n                  label=''\r\n                  className='paymentCash d-flex align-items-center w-50 justify-content-center'\r\n                  onChange={() => setUseCard(false)}\r\n                />\r\n              </Col>\r\n              <Col xs='12' sm='6'>\r\n                <p className='mb-1 fs-5 text-center w-100'>{t('Select category')}:</p>\r\n                <Form.Select onChange={(e: React.ChangeEvent<HTMLSelectElement>) => setCategoryId(e.target.value)}>\r\n                  <option className='d-none' value=''>{t('Select category')}</option>\r\n                  {categories &&\r\n                  categories\r\n                    .filter((category) => category.isExpense === isExpense)\r\n                    .map((el) =>\r\n                      <option\r\n                        key={el._id}\r\n                        value={el._id}\r\n                      >\r\n                        {lang === 'en' ? el.nameEn : el.nameRu}\r\n                      </option>\r\n                    )}\r\n                </Form.Select>\r\n              </Col>\r\n            </Row>\r\n            <Row className='mt-3'>\r\n              <Col xs='6' className='d-flex flex-wrap'>\r\n                <p className='mb-1 fs-5'>{t('Name the transaction')}:</p>\r\n                <FormControl\r\n                  type='text'\r\n                  placeholder={t('Transaction title')}\r\n                  value={title}\r\n                  onChange={handleChangeTitle}\r\n                />\r\n              </Col>\r\n              <Col xs='6' className='d-flex flex-wrap'>\r\n                <p className='mb-1  fs-5'>{t('Enter the sum of transaction')}:</p>\r\n                <FormControl\r\n                  type='text'\r\n                  placeholder={t('Transaction sum')}\r\n                  value={sum}\r\n                  onChange={handleChangeSum}\r\n                />\r\n              </Col>\r\n            </Row>\r\n            <Row>\r\n              <Col xs='12' className='mt-3 text-center'>\r\n                <p className='fs-5 mb-1'>{t('Submit transaction')}:</p>\r\n                <Button\r\n                  variant='warning'\r\n                  className='w300Px text-white'\r\n                  onClick={handleSubmit}\r\n                >\r\n                  {t('Submit')}\r\n                </Button>\r\n              </Col>\r\n            </Row>\r\n          </Col>\r\n        </Row>\r\n      </Container>\r\n    </>\r\n  )\r\n}\r\n\r\nexport default CreateTransaction","import React, { FC } from 'react'\r\nimport { Col } from \"react-bootstrap\";\r\nimport { formattingNumber } from \"../../helpers/index.js\";\r\nimport { useSelector } from \"react-redux\";\r\nimport { userData } from \"../../store/selectors\";\r\nimport { useTranslation } from \"react-i18next\";\r\n\r\nconst Balance:FC = () => {\r\n  const { user } = useSelector(userData)\r\n  const {t} = useTranslation()\r\n\r\n  const total = user.card + user.cash;\r\n\r\n  return (\r\n    <Col md='6' xs='12' className='balance'>\r\n      <p className='totalBalance fs-3 text-uppercase fw-bold'>\r\n        {total ? t('Total balance') : ''}\r\n        <span className='yellowText'> {total ? formattingNumber(total) : t('There is no money yet')}\r\n      </span></p>\r\n      <p className='fs-5'>{t('Card balance')}:\r\n        <span> {formattingNumber(user.card)}</span>\r\n      </p>\r\n      <p className='fs-5'>{t('In cash')}:\r\n        <span> {formattingNumber(user.cash)}</span>\r\n      </p>\r\n    </Col>\r\n  )\r\n}\r\n\r\nexport default Balance","import moment from 'moment';\r\nimport React, { FC, useEffect } from 'react'\r\nimport { Col } from \"react-bootstrap\";\r\nimport { useAppDispatch, useAppSelector } from \"../../hooks/react-redux.hook\";\r\nimport { getGeneralStatistic } from \"../../store/reducers/statistic.reducer\";\r\nimport { statisticData, userData } from \"../../store/selectors\";\r\nimport { useTranslation } from \"react-i18next\";\r\nimport 'moment/locale/ru'\r\n\r\nconst GeneralStatistic: FC = () => {\r\n  const dispatch = useAppDispatch()\r\n  const { generalStatistic } = useAppSelector(statisticData)\r\n  const { user, lang } = useAppSelector(userData)\r\n  const { t } = useTranslation()\r\n\r\n  useEffect(() => {\r\n    dispatch(getGeneralStatistic())\r\n  }, [])\r\n\r\n  return (\r\n    <Col md='6' xs='12'>\r\n      {generalStatistic ? (\r\n        <div className='my-3 my-md-0'>\r\n          <p className='fs-5 mb-0 fw-bold'>{t('Spent this month')}: <span\r\n            className='fst-italic yellowText'>{generalStatistic.userExpensesThisMonth}</span></p>\r\n          <p className='fs-5 fw-bold'>{t('Spent for the whole time')}: <span\r\n            className='fst-italic yellowText'>{generalStatistic.userExpenses}</span></p>\r\n          <p className='fs-6 mb-0 fw-bold'>{t('On')} <span\r\n            className='yellowText'>Billionstracker</span> {t('Since')} <span\r\n            className='fst-italic yellowText'>{moment(user.created).locale(lang).format('LL')}</span></p>\r\n        </div>\r\n      ) : (\r\n        <div className='d-flex justify-content-center align-items-center h-100 fw-bold my-3 my-md-0 '>\r\n          <p>Some of your statistic will be here</p>\r\n        </div>\r\n      )\r\n\r\n      }\r\n    </Col>\r\n  )\r\n}\r\nexport default GeneralStatistic","import React, { FC, useEffect } from 'react'\r\nimport { Row } from 'react-bootstrap';\r\nimport Balance from \"./Balance\";\r\nimport GeneralStatistic from \"./GeneralStatistic\";\r\n\r\nconst UserInfo: FC = () => (\r\n    <Row>\r\n      <Balance/>\r\n      <GeneralStatistic/>\r\n    </Row>\r\n  )\r\n\r\nexport default UserInfo","import moment from \"moment\";\r\nimport 'moment/locale/ru'\r\n\r\nexport const formatTransactionDate = (date:Date, lang='en') => {\r\n  const formatedDate = moment(date).locale(lang)\r\n\r\n  if(formatedDate.isSame(new Date(), 'week')) {\r\n    return formatedDate.fromNow()\r\n  }\r\n\r\n    return formatedDate.format('LL')\r\n}\r\n","import React, { FC } from 'react'\r\nimport { transactionType } from \"../../types/transaction.type\"\r\nimport { Card, Col, Row } from \"react-bootstrap\"\r\nimport { formatTransactionDate } from \"../../helpers/time\";\r\nimport { formattingNumber } from \"../../helpers/index.js\";\r\nimport { useAppSelector } from \"../../hooks/react-redux.hook\";\r\nimport { userData } from \"../../store/selectors\";\r\n\r\ntype propsType = {\r\n  transaction: transactionType\r\n}\r\n\r\nconst Transaction: FC<propsType> = ({ transaction }) => {\r\n  const {lang} = useAppSelector(userData)\r\n\r\n  return (\r\n    <Card className='mb-3  w-75 mx-auto fw-bold text-center' bg='light' text='dark'>\r\n      <Card.Body><\r\n        Row>\r\n        <Col xs='12' sm='4' className='mb-2 mb-sm-0'>{transaction.title}</Col>\r\n        <Col xs='8' sm='4'>{formatTransactionDate(transaction.date, lang)}</Col>\r\n        <Col xs='4' sm='4'>{\r\n          transaction.isExpense ?\r\n            <span className='text-danger'>-{formattingNumber(transaction.sum)}</span> :\r\n            <span className='text-success'>+{formattingNumber(transaction.sum)}</span>}</Col>\r\n      </Row>\r\n      </Card.Body>\r\n    </Card>\r\n  )\r\n}\r\n\r\nexport default Transaction","import React, { useEffect, useState } from 'react';\r\nimport { useAppDispatch, useAppSelector } from \"../../hooks/react-redux.hook\";\r\nimport { getAllUserTransactions, resetTransactions } from '../../store/reducers/transaction.reducer';\r\nimport { transactionData } from \"../../store/selectors\";\r\nimport Transaction from './Transaction';\r\nimport { Button } from \"react-bootstrap\";\r\nimport { useTranslation } from \"react-i18next\";\r\n\r\nconst Transactions = () => {\r\n  const { loading, transactions, numberOfTransactions } = useAppSelector(transactionData)\r\n  const dispatch = useAppDispatch()\r\n  const {t} = useTranslation()\r\n  const LIMIT = 10;\r\n  const [numberToSkip, setNumberToSkip] = useState<number>(0)\r\n\r\n  const getAllTransactions = () => {\r\n    dispatch(getAllUserTransactions({ limit: LIMIT, numberToSkip: numberToSkip }))\r\n    setNumberToSkip(LIMIT + numberToSkip)\r\n  }\r\n\r\n  useEffect(() => {\r\n    dispatch(resetTransactions())\r\n    getAllTransactions()\r\n  }, [])\r\n\r\n  if (loading) {\r\n    return <div className='mt-3'><h1 className='text-center'>Loading...</h1></div>\r\n  }\r\n\r\n  return (\r\n    <div className='mt-4'>\r\n      {\r\n        numberOfTransactions ? (\r\n          <>\r\n            <p className='text-center fw-bold fs-4'>{t('Your transactions')}</p>\r\n            {\r\n              transactions.map((transaction) => <Transaction key={transaction._id} transaction={transaction}/>)\r\n            }\r\n\r\n            {numberToSkip <= numberOfTransactions &&\r\n            <Button\r\n              disabled={loading}\r\n              variant='warning'\r\n              className='mt-4 mx-auto d-block text-white'\r\n              onClick={getAllTransactions}\r\n            >{t('Load more')}</Button>\r\n            }\r\n          </>\r\n        ) : (\r\n          <div className='d-flex justify-content-center align-items-center h-100 fw-bold my-3 mt-3'>\r\n            <p>{t('There is no transactions yet')}</p>\r\n          </div>\r\n        )\r\n      }\r\n\r\n\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Transactions;","import React from 'react'\r\nimport UserInfo from \"../../components/profile/UserInfo\";\r\nimport { Container, Row } from 'react-bootstrap';\r\nimport './profile.scss'\r\nimport Transactions from \"../../components/profile/Transactions\";\r\n\r\nconst Profile = () => (\r\n  <>\r\n    <Container className='py-4'>\r\n      <UserInfo/>\r\n      <Transactions/>\r\n    </Container>\r\n  </>\r\n)\r\n\r\n\r\nexport default Profile","import React from 'react'\r\nimport { Field, FieldProps, Form, Formik, FormikProps } from 'formik'\r\nimport * as Yup from 'yup'\r\nimport { Button, FormControl, FormGroup } from 'react-bootstrap'\r\nimport { logIn, signUp } from '../../store/reducers/user.reducer'\r\nimport { connect } from \"react-redux\";\r\nimport { AppDispatch } from \"../../store\";\r\nimport { useTranslation } from \"react-i18next\";\r\n\r\ntype signupForm = {\r\n  login: string,\r\n  password: string,\r\n  confirmPassword: string\r\n}\r\n\r\nconst SignUpFormMarkup: React.FC<FormikProps<signupForm>> = (\r\n  {\r\n    values,\r\n    errors,\r\n    touched,\r\n    handleChange,\r\n    handleBlur,\r\n    handleSubmit,\r\n    isSubmitting,\r\n  }) => {\r\n  const {t} = useTranslation()\r\n\r\n  return(\r\n  <Form onSubmit={handleSubmit}>\r\n    <Field\r\n      name='login'\r\n      render={({ field }: FieldProps) => (\r\n        <FormGroup\r\n          controlId=\"login\"\r\n          className='authFormGroup mb-4'>\r\n          <FormControl\r\n            type={'text'}\r\n            value={field.value}\r\n            onChange={field.onChange}\r\n            placeholder={t('login')}\r\n            isValid={false}\r\n          />\r\n          {\r\n            touched.login &&\r\n            errors.login &&\r\n            <FormControl.Feedback\r\n              type=\"invalid\" tooltip\r\n            >\r\n              {errors.login}\r\n            </FormControl.Feedback>\r\n          }\r\n        </FormGroup>\r\n      )}\r\n    />\r\n\r\n    <Field\r\n      type='password'\r\n      name='password'\r\n      onChange={handleChange}\r\n      onBlur={handleBlur}\r\n      value={values.password}\r\n      render={({ field }: FieldProps) => (\r\n        <FormGroup controlId=\"password\" className='authFormGroup mb-4'>\r\n          <FormControl\r\n            type={'password'}\r\n            value={field.value}\r\n            onChange={field.onChange}\r\n            placeholder={t('password')}\r\n          />\r\n          {\r\n            touched.password &&\r\n            errors.password &&\r\n            <FormControl.Feedback\r\n              type=\"invalid\" tooltip\r\n            >\r\n              {errors.password}\r\n            </FormControl.Feedback>\r\n          }\r\n        </FormGroup>\r\n      )}\r\n    />\r\n\r\n    <Field\r\n      type='password'\r\n      name='confirmPassword'\r\n      onChange={handleChange}\r\n      onBlur={handleBlur}\r\n      value={values.confirmPassword}\r\n      render={({ field }: FieldProps) => (\r\n        <FormGroup controlId=\"confirmPassword\" className='authFormGroup mb-4'>\r\n          <FormControl\r\n            type={'password'}\r\n            value={field.value}\r\n            onChange={field.onChange}\r\n            placeholder={t('Confirm password')}\r\n          />\r\n          {\r\n            touched.confirmPassword &&\r\n            errors.confirmPassword &&\r\n            <FormControl.Feedback\r\n              type=\"invalid\" tooltip\r\n            >\r\n              {errors.confirmPassword}\r\n            </FormControl.Feedback>\r\n          }\r\n        </FormGroup>\r\n      )}\r\n    />\r\n\r\n    <Button\r\n      type='submit'\r\n      variant='warning'\r\n      disabled={\r\n        isSubmitting ||\r\n        Boolean(errors.login && touched.login) ||\r\n        Boolean(errors.password && touched.password)\r\n      }\r\n    >\r\n      {t('Sign up')}\r\n    </Button>\r\n  </Form>\r\n)}\r\n\r\nconst init: signupForm = {\r\n  login: '',\r\n  password: '',\r\n  confirmPassword: ''\r\n}\r\n\r\ntype propsType = {\r\n  dispatch: AppDispatch\r\n}\r\n\r\nconst SignUpForm = (props: propsType) => (\r\n  <Formik\r\n    initialValues={init}\r\n    validationSchema={\r\n      Yup.object().shape({\r\n        login: Yup.string()\r\n          .email('Email not valid')\r\n          .required('Email is required'),\r\n        password: Yup.string()\r\n          .required('Password is required')\r\n          .min(6, 'Password must contain at least 6 symbols'),\r\n        confirmPassword: Yup.string()\r\n          .required(\"Confirm your password\")\r\n          .oneOf([Yup.ref(\"password\")], \"Password does not match\")\r\n      })\r\n    }\r\n    onSubmit={(values: signupForm) => props.dispatch(signUp(values))}\r\n    render={(props: FormikProps<signupForm>) => <SignUpFormMarkup {...props} />}\r\n  />\r\n)\r\n\r\nexport default connect()(SignUpForm)","import React from 'react'\r\nimport { Field, FieldProps, Form, Formik, FormikProps } from 'formik'\r\nimport * as Yup from 'yup'\r\nimport { authData } from '../../types/auth.type'\r\nimport { Button, FormControl, FormGroup } from 'react-bootstrap'\r\nimport { logIn } from '../../store/reducers/user.reducer'\r\nimport { connect } from \"react-redux\";\r\nimport { AppDispatch } from \"../../store\";\r\nimport { useTranslation } from \"react-i18next\";\r\n\r\nconst LogInFormMarkup: React.FC<FormikProps<authData>> = (\r\n  {\r\n    values,\r\n    errors,\r\n    touched,\r\n    handleChange,\r\n    handleBlur,\r\n    handleSubmit,\r\n    isSubmitting,\r\n  }) => {\r\n  const {t} = useTranslation()\r\n\r\n  return(\r\n    <Form onSubmit={handleSubmit}>\r\n      <Field\r\n        name='login'\r\n        render={({ field }: FieldProps) => (\r\n          <FormGroup\r\n            controlId=\"login\"\r\n            className='authFormGroup mb-4'>\r\n            <FormControl\r\n              type={'text'}\r\n              value={field.value}\r\n              onChange={field.onChange}\r\n              placeholder={t('login')}\r\n              isValid={false}\r\n            />\r\n            {\r\n              touched.login &&\r\n              errors.login &&\r\n              <FormControl.Feedback\r\n                type=\"invalid\" tooltip\r\n              >\r\n                {errors.login}\r\n              </FormControl.Feedback>\r\n            }\r\n          </FormGroup>\r\n        )}\r\n      />\r\n\r\n\r\n      <Field\r\n        type='password'\r\n        name='password'\r\n        onChange={handleChange}\r\n        onBlur={handleBlur}\r\n        value={values.password}\r\n        render={({ field }: FieldProps) => (\r\n          <FormGroup controlId=\"password\" className='authFormGroup mb-4'>\r\n            <FormControl\r\n              type={'password'}\r\n              value={field.value}\r\n              onChange={field.onChange}\r\n              placeholder={t('password')}\r\n            />\r\n            {\r\n              touched.password &&\r\n              errors.password &&\r\n              <FormControl.Feedback\r\n                type=\"invalid\" tooltip\r\n              >\r\n                {errors.password}\r\n              </FormControl.Feedback>\r\n            }\r\n          </FormGroup>\r\n        )}\r\n      />\r\n\r\n      <Button\r\n        type='submit'\r\n        variant='warning'\r\n        disabled={\r\n          isSubmitting ||\r\n          Boolean(errors.login && touched.login) ||\r\n          Boolean(errors.password && touched.password)\r\n        }\r\n      >\r\n        {t('Sign in')}\r\n      </Button>\r\n    </Form>\r\n  )\r\n}\r\n\r\nconst init: authData = {\r\n  login: '',\r\n  password: ''\r\n}\r\n\r\ntype propsType = {\r\n  dispatch: AppDispatch\r\n}\r\n\r\nconst LoginForm = (props: propsType) => (\r\n  <Formik\r\n    initialValues={init}\r\n    validationSchema={\r\n      Yup.object().shape({\r\n        login: Yup.string()\r\n          .email('Email not valid')\r\n          .required('Email is required'),\r\n        password: Yup.string()\r\n          .required('Password is required')\r\n          .min(6, 'Password must contain at least 6 symbols')\r\n      })\r\n    }\r\n    onSubmit={(values: authData) => props.dispatch(logIn(values))}\r\n    render={(props: FormikProps<authData>) => <LogInFormMarkup {...props} />}\r\n  />\r\n)\r\n\r\nexport default connect()(LoginForm)","import React, { useState } from 'react'\r\nimport SignUpForm from \"../../components/auth/Signnup\";\r\nimport LoginForm from \"../../components/auth/Login\";\r\n\r\nimport logo from '../../images/logo.png';\r\nimport './auth.scss'\r\nimport { Button, Col, Container, Row } from 'react-bootstrap';\r\nimport { toast } from \"react-toastify\";\r\nimport { Form } from \"formik\";\r\nimport { useTranslation } from \"react-i18next\";\r\nimport LanguageSwitcher from \"../../components/header/LanguageSwitcher\";\r\n\r\nconst Auth = () => {\r\n  const [showSignIn, setShowSignIn] = useState<boolean>(true)\r\n  const { t } = useTranslation()\r\n\r\n  return (\r\n    <section className='signUp align-items-md-center d-flex'>\r\n      <Container>\r\n        <Row className='h-100'>\r\n          <Col xs='12' sm='6' className='text-center'>\r\n            <img src={logo} alt='logo'/>\r\n            <h1 className='yellowText'>Billionstracker</h1>\r\n            <p>{t('Powerful app for controlling your budget')}</p>\r\n          </Col>\r\n          <Col xs='12' sm='6' className='authFormContainer mt-sm-3'>\r\n            {\r\n              showSignIn ? (<>\r\n                  <h2>{t('Sign in')}</h2>\r\n                  <LoginForm/>\r\n                  <p\r\n                    onClick={() => setShowSignIn(false)}\r\n                    className='my-2 cursor-poiner'\r\n                  >{t('New to billionstracker')}? <span>{t('Sign up')}</span></p>\r\n                </>\r\n              ) : (\r\n                <>\r\n                  <h2>{t('Sign up')}</h2>\r\n                  <SignUpForm/>\r\n                  <p\r\n                    onClick={() => setShowSignIn(true)}\r\n                    className='my-2 cursor-poiner'\r\n                  >{t('Already on billionstracker')}? <span>{t('Sign in')}</span></p>\r\n                </>\r\n              )\r\n            }\r\n            <div\r\n              className='d-flex justify-content-around languagesController pb-3'\r\n              style={{ width: '100px', margin: '0 auto' }}\r\n            >\r\n              <LanguageSwitcher/>\r\n            </div>\r\n          </Col>\r\n        </Row>\r\n      </Container>\r\n      {/*<div className='col m6 s12 center-align'>*/}\r\n    </section>\r\n  )\r\n}\r\n\r\nexport default Auth","import { PieChart } from \"react-minimal-pie-chart\";\r\nimport ReactTooltip from \"react-tooltip\";\r\nimport React, { FC, useState } from \"react\";\r\nimport { expenseIncomeType } from \"../../types/statistic.type\";\r\nimport { useAppSelector } from \"../../hooks/react-redux.hook\";\r\nimport { userData } from \"../../store/selectors\";\r\n\r\ntype propsType = {\r\n  statisticForRange: expenseIncomeType[]\r\n  totalSpent:number\r\n}\r\n\r\nconst Diagram:FC<propsType> = ({ statisticForRange, totalSpent }) => {\r\n  const [hovered, setHovered] = useState<number | null>(null);\r\n  const {lang} = useAppSelector(userData)\r\n\r\n  const colors = ['#E38627', '#C13C37', '#6A2135', '#E38627', '#C13C37', '#6A2135', '#E38627', '#C13C37', '#6A2135', '#E38627', '#C13C37', '#6A2135']\r\n\r\n  type rangeDataType = {\r\n    value: number,\r\n    color: string,\r\n    tooltip: string\r\n  }\r\n\r\n  const dataForRange: rangeDataType[] = statisticForRange.map((el, index) => ({\r\n      value: el.total,\r\n      color: hovered === index ? 'grey' : colors[index],\r\n      tooltip: `${lang === 'en' ? el._id.nameEn : el._id.nameRu}, ${el.total}`\r\n    }))\r\n\r\n  return (\r\n    <>\r\n      <PieChart\r\n        data={dataForRange}\r\n        style={{ height: '300px', width: '300px' }}\r\n        segmentsShift={0.5}\r\n        label={({ dataEntry }) => `${Math.round(dataEntry.percentage) ? Math.round(dataEntry.percentage) : '>1' }%`}\r\n        totalValue={totalSpent}\r\n        labelStyle={{\r\n          fontSize: '5px',\r\n          fill: 'white',\r\n        }}\r\n        onMouseOver={(el, index) => {\r\n          setHovered(index);\r\n        }}\r\n        onMouseOut={() => {\r\n          setHovered(null);\r\n        }}\r\n        segmentsStyle={{ transition: 'stroke .3s', cursor: 'pointer' }}\r\n      />\r\n      <ReactTooltip\r\n        getContent={() =>\r\n          typeof hovered === 'number' ? dataForRange[hovered]?.tooltip : null\r\n        }\r\n      />\r\n    </>\r\n  )\r\n}\r\n\r\nexport default Diagram\r\n","import React, { FC } from 'react';\r\nimport { Card, Col, Row } from \"react-bootstrap\";\r\nimport { listForRangeItem } from \"./List\";\r\n\r\ntype propsType = {\r\n  listItem: listForRangeItem\r\n}\r\n\r\n\r\nconst ListItem:FC<propsType> = ({listItem}) => {\r\n  return (\r\n    <Card className='mb-3  w-75 mx-auto fw-bold text-center' bg='light' text='dark'>\r\n      <Card.Body>\r\n        <Row>\r\n        <Col xs='4' sm='4' className='mb-2 mb-sm-0'>{listItem.title}</Col>\r\n        <Col xs='4' sm='4'>{listItem.value}</Col>\r\n        <Col xs='4' sm='4'>{listItem.percentage}%</Col>\r\n      </Row>\r\n      </Card.Body>\r\n    </Card>\r\n  );\r\n};\r\n\r\nexport default ListItem;","import React, { FC } from 'react';\r\nimport { expenseIncomeType } from \"../../types/statistic.type\";\r\nimport ListItem from \"./ListItem\";\r\nimport { useAppSelector } from \"../../hooks/react-redux.hook\";\r\nimport { userData } from \"../../store/selectors\";\r\n\r\ntype propsType = {\r\n  statisticForRange: expenseIncomeType[]\r\n  userExpensesThisMonth: number\r\n}\r\n\r\nexport type listForRangeItem = {\r\n  title: string,\r\n  value: number,\r\n  percentage: number | string\r\n}\r\n\r\nexport const List: FC<propsType> = ({ statisticForRange, userExpensesThisMonth }) => {\r\n  const { lang } = useAppSelector(userData)\r\n\r\n  const dataForRange: listForRangeItem[] = statisticForRange.map((el, index) => ({\r\n    title: lang === 'en' ? el._id.nameEn : el._id.nameRu,\r\n    value: el.total,\r\n    percentage: Math.round((100 * el.total) / userExpensesThisMonth) || '>1'\r\n  }))\r\n\r\n\r\n  return (\r\n    <div>\r\n      {dataForRange.sort((a, b) => b.value - a.value).map(listItem => <ListItem key={listItem.title} listItem={listItem}/>)}\r\n    </div>\r\n  );\r\n};","import React, { FC, useEffect, useState } from 'react'\r\nimport { Button, Col, Container, Row } from \"react-bootstrap\"\r\nimport { useAppDispatch, useAppSelector } from \"../../hooks/react-redux.hook\"\r\nimport { getStatisticForRange, getWholeStatistic } from \"../../store/reducers/statistic.reducer\"\r\nimport { statisticData, userData } from \"../../store/selectors\"\r\nimport 'moment/locale/ru'\r\nimport moment from \"moment\";\r\n//@ts-ignore\r\n//todo: learn how to work when there is no ts for library\r\nimport DateRangePicker from '@wojtekmaj/react-daterange-picker'\r\nimport './statistic.scss'\r\nimport Diagram from \"../../components/statistic/Diagram\";\r\nimport { List } from \"../../components/statistic/List\";\r\nimport { useTranslation } from \"react-i18next\";\r\n\r\n\r\nconst Statistic: FC = () => {\r\n  const dispatch = useAppDispatch()\r\n  const { wholeStatistic, statisticForRange } = useAppSelector(statisticData)\r\n  const {t} = useTranslation()\r\n  const { user, lang } = useAppSelector(userData)\r\n  const [monthsRange, setMonthsRange] = useState<Date[]>([new Date(user.created), new Date()]);\r\n  const [useDiagram, setUseDiagram] = useState<boolean>(true)\r\n\r\n  useEffect(() => {\r\n    dispatch(getWholeStatistic())\r\n    dispatch(getStatisticForRange({ from: monthsRange[0], to: monthsRange[1] }))\r\n  }, [])\r\n\r\n  return (\r\n    <Container className='py-4'>\r\n      {wholeStatistic && statisticForRange ? (\r\n        <Row>\r\n          <Col xs='12' md='6'>\r\n            <p className='fs-5 mb-0 fw-bold'>{t('Select range')}:</p>\r\n            <DateRangePicker\r\n              onChange={setMonthsRange}\r\n              maxDetail='year'\r\n              value={monthsRange}\r\n              locale='en'\r\n              calendarIcon={null}\r\n              clearIcon={null}\r\n              format='MM.y'\r\n              minDetail='year'\r\n              minDate={new Date(2021, 3, 1)}\r\n              maxDate={new Date()}\r\n            />\r\n            <div className='rangeHolder mt-3 text-center' data-tip='chart'>\r\n              <div className='rangeHolderControls mb-3'>\r\n                <Button\r\n                  size='sm'\r\n                  className={`mx-2 ${useDiagram ? 'text-white' : ''}`}\r\n                  variant={useDiagram ? 'warning' : 'outline-warning'}\r\n                  onClick={() => setUseDiagram(true)}\r\n                >\r\n                  {t('Pie chart')}\r\n                </Button>\r\n                <Button\r\n                  size='sm'\r\n                  className={useDiagram ? '' : 'text-white'}\r\n                  variant={useDiagram ? 'outline-warning' : 'warning'}\r\n                  onClick={() => setUseDiagram(false)}\r\n                >\r\n                  {t('List')}\r\n                </Button>\r\n              </div>\r\n              <p className='fw-bold'>{t('Spent during this period')}:\r\n                <span className='fst-italic yellowText'> {statisticForRange.totalSpent}</span></p>\r\n              {useDiagram ?\r\n                <Diagram\r\n                  totalSpent={statisticForRange.totalSpent}\r\n                  statisticForRange={statisticForRange.transactionsInRange}\r\n                />\r\n                :\r\n                <List\r\n                  userExpensesThisMonth={wholeStatistic.userExpensesThisMonth}\r\n                  statisticForRange={statisticForRange.transactionsInRange}\r\n                />}\r\n            </div>\r\n          </Col>\r\n          <Col xs='12' md='6'>\r\n            <p className='fs-5 mb-0 fw-bold'>{t('General statistic')}:</p>\r\n            <div className='spent'>\r\n              <p className='mb-0'>{t('Spent for the whole time')}:\r\n                <span className='fst-italic yellowText'>\r\n                {wholeStatistic.userExpenses}\r\n              </span></p>\r\n              <p className='mb-0'>{t('Spent this month')}:\r\n                <span className='fst-italic yellowText'> {wholeStatistic.userExpensesThisMonth}\r\n              </span></p>\r\n            </div>\r\n            <div className='earned mt-2'>\r\n              <p className='mb-0'>{t('Earned for the whole time')}:\r\n                <span className='fst-italic yellowText'>\r\n             {wholeStatistic.userIncomes}\r\n          </span></p>\r\n              <p className='mb-1'>{t('Earned this month')}:\r\n                <span className='fst-italic yellowText'>\r\n              {wholeStatistic.userIncomesThisMonth}\r\n          </span></p>\r\n              <p className='fs-6 mb-0 fw-bold'>{t('On')} <span className='yellowText'>Billionstracker</span> {t('Since')} <span\r\n                className='fst-italic yellowText'>{moment(user.created).locale(lang).format('LL')}</span></p>\r\n            </div>\r\n          </Col>\r\n        </Row>\r\n      ) : (\r\n        <div className='d-flex justify-content-center align-items-center h-100 fw-bold my-3 my-md-0 '>\r\n          <p>{t('Some of your statistic will be here')}</p>\r\n        </div>\r\n      )}\r\n    </Container>\r\n  )\r\n}\r\n\r\nexport default Statistic","import React, { FC } from 'react';\r\nimport { Redirect, Route, Switch } from \"react-router-dom\";\r\nimport CreateTransaction from \"../../pages/createTransaction/CreateTransaction\";\r\nimport Profile from \"../../pages/profile/Profile\";\r\nimport Auth from \"../../pages/auth/Auth\";\r\nimport { useAppSelector } from \"../../hooks/react-redux.hook\";\r\nimport { userData } from \"../../store/selectors\";\r\nimport Statistic from \"../../pages/statistic/Statistic\";\r\n\r\ntype propsType = {\r\n  isAuth: boolean\r\n}\r\n\r\nconst AppRouter: FC<propsType> = ({ isAuth }) => {\r\n  const {loading} = useAppSelector(userData)\r\n\r\n  if(loading){\r\n    return <div><h1>Loading...</h1></div>\r\n  }\r\n\r\n  return (\r\n    <>\r\n      {isAuth ? (\r\n          <Switch>\r\n            <Route path='/statistic' component={Statistic}/>\r\n            <Route path='/createTransaction' component={CreateTransaction}/>\r\n            <Route path='/home' component={Profile}/>\r\n            <Redirect to='/home'/>\r\n          </Switch>\r\n        ) :\r\n        (\r\n          <Switch>\r\n            <Route path=\"/authorization\" component={Auth}/>\r\n            <Redirect to='/authorization'/>\r\n          </Switch>\r\n        )}\r\n    </>\r\n  );\r\n}\r\n\r\nexport default AppRouter;","import React, { useEffect } from 'react'\nimport { Redirect, Route, Switch } from 'react-router-dom'\nimport Profile from \"./pages/profile/Profile\"\nimport Auth from './pages/auth/Auth'\nimport { useAppDispatch, useAppSelector } from './hooks/react-redux.hook'\nimport { checkAuth } from \"./store/reducers/user.reducer\"\nimport CreateTransaction from \"./pages/createTransaction/CreateTransaction\";\nimport { Slide, ToastContainer } from 'react-toastify'\nimport { userData } from \"./store/selectors\"\nimport 'bootstrap/dist/css/bootstrap.min.css';\nimport 'react-toastify/dist/ReactToastify.css';\nimport './App.scss'\nimport AppHeader from \"./components/header/AppHeader\";\nimport AppRouter from \"./components/router/AppRouter\";\n\nconst App = () => {\n  const dispatch = useAppDispatch()\n  const userSelector = useAppSelector(userData)\n\n  const isAuth: boolean = userSelector.isAuth\n\n  useEffect(() => {\n    const token = localStorage.getItem('token');\n\n    if (token) {\n      dispatch(checkAuth());\n    }\n  }, []);\n\n  return (\n    <>\n      {isAuth && <AppHeader/>}\n      <AppRouter isAuth={isAuth}/>\n      <ToastContainer\n        transition={Slide}\n      />\n    </>\n  )\n}\n\nexport default App\n","import i18n from 'i18next';\r\nimport Backend from 'i18next-http-backend';\r\nimport LanguageDetector from 'i18next-browser-languagedetector';\r\nimport { initReactI18next } from 'react-i18next';\r\n\r\nconst fallbackLng = ['en'];\r\nconst availableLanguages = ['en', 'ru'];\r\n\r\n\r\nconst options = {\r\n  // order and from where user language should be detected\r\n  order: [ 'navigator', 'htmlTag', 'path', 'subdomain'],\r\n\r\n  // keys or params to lookup language from\r\n  lookupQuerystring: 'lng',\r\n  lookupCookie: 'i18next',\r\n  lookupLocalStorage: 'i18nextLng',\r\n  lookupFromPathIndex: 0,\r\n  lookupFromSubdomainIndex: 0,\r\n\r\n  // cache user language on\r\n  caches: ['localStorage', 'cookie'],\r\n  excludeCacheFor: ['cimode'], // languages to not persist (cookie, localStorage)\r\n\r\n  // optional expire and domain for set cookie\r\n  cookieMinutes: 10,\r\n  cookieDomain: 'myDomain',\r\n\r\n  // optional htmlTag with lang attribute, the default is:\r\n  htmlTag: document.documentElement,\r\n\r\n  // only detect languages that are in the whitelist\r\n  checkWhitelist: true\r\n}\r\n\r\ni18n\r\n  .use(Backend) // load translation using xhr -> see /public/locales. We will add locales in the next step\r\n\r\n  .use(LanguageDetector) // detect user language\r\n\r\n  .use(initReactI18next) // pass the i18n instance to react-i18next.\r\n\r\n  .init({\r\n    backend: {\r\n      loadPath: \"/billionstraker-fe/locales/{{lng}}/{{ns}}.json\",\r\n    },\r\n    lng: localStorage. getItem('i18nextLng') || 'en',\r\n    fallbackLng,\r\n    whitelist: availableLanguages,\r\n    detection: options,\r\n\r\n    interpolation: {\r\n      escapeValue: false\r\n    },\r\n  });\r\n\r\nexport default i18n;","import React, { Suspense } from 'react'\nimport ReactDOM from 'react-dom'\nimport { Provider } from 'react-redux'\nimport { HashRouter as Router } from 'react-router-dom'\nimport store from './store/index'\nimport App from './App'\nimport './i18n'\n\nReactDOM.render(\n  <Provider store={store}>\n  <React.StrictMode>\n    <Router>\n      <Suspense fallback={(<div>Loading</div>)}>\n        <App />\n      </Suspense>\n    </Router>\n  </React.StrictMode>\n  </Provider>,\n  document.getElementById('root')\n)\n"],"sourceRoot":""}